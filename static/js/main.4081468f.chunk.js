(this["webpackJsonpguardian-registration"]=this["webpackJsonpguardian-registration"]||[]).push([[0],{350:function(e,t,r){},364:function(e,t){},372:function(e,t){},389:function(e,t){},391:function(e,t){},405:function(e,t){},406:function(e,t){},408:function(e,t){},409:function(e,t){},484:function(e,t){},486:function(e,t){},495:function(e,t){},497:function(e,t){},522:function(e,t){},524:function(e,t){},530:function(e,t){},531:function(e,t){},533:function(e,t){},545:function(e,t){},548:function(e,t){},562:function(e,t){},565:function(e,t){},679:function(e,t,r){"use strict";r.r(t);var a=r(1),n=r(0),i=r.n(n),o=r(23),s=r.n(o);r(350),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var c,l,u,d,b,h,p,g,j,f,O,m,x,v,y,w,C,S,k,D,A,T,P,R,G,I,U,E,W,L,N,F,M,B,_,H,V=r(25),z=r(210),q=r(56),K=r(9),Y=r(6),X=r.n(Y),$=r(17),J=r(36),Q=r(13),Z=r(16),ee=r(21),te=(r(224),c=Object(K.f)("setWalletConnectionRequestApproved"),l=Object(K.f)("setMainAddress"),u=function(){function e(t){var r=this;Object(Q.a)(this,e),this.cryptoWalletConnectionService=t,Object(J.a)(this,"walletConnectionRequestApproved",d,this),Object(J.a)(this,"hasEthereumProvider",b,this),Object(J.a)(this,"hasEventsSupport",h,this),Object(J.a)(this,"mainAddress",p,this),this.addressCheckingInterval=void 0,this.reactionToWalletConnection=void 0,this.hasEthereumProvider=t.hasEthereumProvider,this.hasEventsSupport=t.hasEventsSupport,this.reactionToWalletConnection=Object(K.o)((function(){return r.isConnectedToWallet}),function(){var e=Object($.a)(X.a.mark((function e(t){return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t&&r.readInformationFromConnectedWallet();case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),{fireImmediately:!0}),this.hasEthereumProvider&&(this.cryptoWalletConnectionService.hasEventsSupport?this.cryptoWalletConnectionService.onMainAddressChange((function(e){return r.setMainAddress(e)})):(this.cryptoWalletConnectionService.readMainAddress().then((function(e){return r.setMainAddress(e)})),this.addressCheckingInterval=setInterval((function(){return r.cryptoWalletConnectionService.readMainAddress().then((function(e){return r.setMainAddress(e)}))}),1e3)))}return Object(Z.a)(e,[{key:"askToConnect",value:function(){var e=Object($.a)(X.a.mark((function e(){var t;return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isConnectedToWallet){e.next=4;break}return e.abrupt("return",!0);case 4:return e.next=6,this.cryptoWalletConnectionService.requestConnectionPermission();case 6:return t=e.sent,this.setWalletConnectionRequestApproved(t),e.abrupt("return",this.walletConnectionRequestApproved);case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"readInformationFromConnectedWallet",value:function(){var e=Object($.a)(X.a.mark((function e(){var t;return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.cryptoWalletConnectionService.readMainAddress();case 2:t=e.sent,this.setMainAddress(t);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setWalletConnectionRequestApproved",value:function(e){this.walletConnectionRequestApproved=e}},{key:"setMainAddress",value:function(e){this.mainAddress=e}},{key:"isConnectedToWallet",get:function(){return this.hasEthereumProvider&&(this.cryptoWalletConnectionService.didUserApproveDappInThePast||this.walletConnectionRequestApproved)}}]),e}(),d=Object(ee.a)(u.prototype,"walletConnectionRequestApproved",[K.n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),b=Object(ee.a)(u.prototype,"hasEthereumProvider",[K.n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),h=Object(ee.a)(u.prototype,"hasEventsSupport",[K.n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),p=Object(ee.a)(u.prototype,"mainAddress",[K.n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Object(ee.a)(u.prototype,"isConnectedToWallet",[K.g],Object.getOwnPropertyDescriptor(u.prototype,"isConnectedToWallet"),u.prototype),Object(ee.a)(u.prototype,"setWalletConnectionRequestApproved",[c],Object.getOwnPropertyDescriptor(u.prototype,"setWalletConnectionRequestApproved"),u.prototype),Object(ee.a)(u.prototype,"setMainAddress",[l],Object.getOwnPropertyDescriptor(u.prototype,"setMainAddress"),u.prototype),u),re=function(e){e.slice(2);return[e.slice(2,4),e.slice(4,6),e.slice(6,8),e.slice(8)].map((function(e){return parseInt(e,16)})).join(".")},ae={userRejectedRequest:4001,unauthorized:4100,unsupportedMethod:4200},ne={orbsAddr:"",ip:"",website:"",name:""},ie={registrationTime:0,lastUpdateTime:0},oe=(g=Object(K.f)("setDoneLoading"),j=Object(K.f)("setErrorLoading"),f=Object(K.f)("setTxPending"),O=Object(K.f)("setTxCanceled"),m=Object(K.f)("setTxHadError"),x=Object(K.f)("setIsGuardian"),v=Object(K.f)("setGuardianInfo"),y=Object(K.f)("setGuardianRegistrationTimes"),w=Object(K.f)("setRewardsContractSettings"),C=Object(K.f)("setGuardianRewardsSettings"),S=Object(K.f)("setDelegatorsCutPercentage"),k=Object(K.f)("setDetailsPageURL"),D=Object(K.f)("setEthereumBalance"),A=Object(K.f)("setSelectedGuardianAddress"),T=function(){function e(t,r,a,n,i){var o=this;Object(Q.a)(this,e),this.cryptoWalletIntegrationStore=t,this.guardiansService=r,this.stakingRewardsService=a,this.delegationsService=n,this.cryptoWalletConnectionService=i,Object(J.a)(this,"doneLoading",P,this),Object(J.a)(this,"errorLoading",R,this),Object(J.a)(this,"txPending",G,this),Object(J.a)(this,"txHadError",I,this),Object(J.a)(this,"txCanceled",U,this),Object(J.a)(this,"isGuardian",E,this),Object(J.a)(this,"guardianInfo",W,this),Object(J.a)(this,"guardianContractInteractionTimes",L,this),Object(J.a)(this,"rewardsContractSettings",N,this),Object(J.a)(this,"guardianRewardsSettings",F,this),Object(J.a)(this,"selectedGuardianAddress",M,this),Object(J.a)(this,"delegatorsCutPercentage",B,this),Object(J.a)(this,"detailsPageUrl",_,this),Object(J.a)(this,"ethBalance",H,this),this.addressChangeReaction=void 0,this.addressChangeReaction=Object(K.o)((function(){return o.cryptoWalletIntegrationStore.mainAddress}),function(){var e=Object($.a)(X.a.mark((function e(t){return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o.setDoneLoading(!1),e.next=3,o.reactToConnectedAddressChanged(t);case 3:o.setDoneLoading(!0);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),{fireImmediately:!0})}return Object(Z.a)(e,[{key:"handlePromievent",value:function(){var e=Object($.a)(X.a.mark((function e(t){var r,a,n=arguments;return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.length>1&&void 0!==n[1]?n[1]:"A promivent",this.resetTxIndicators(),this.setTxPending(!0),console.log("Waiting for promievent of ".concat(r)),e.prev=4,e.next=7,t;case 7:return a=e.sent,console.log("Got Results for promievent of ".concat(r)),e.abrupt("return",a);case 12:if(e.prev=12,e.t0=e.catch(4),e.t0.code!==ae.userRejectedRequest){e.next=18;break}this.setTxCanceled(!0),e.next=19;break;case 18:throw e.t0;case 19:return e.prev=19,this.setTxPending(!1),e.finish(19);case 22:case"end":return e.stop()}}),e,this,[[4,12,19,22]])})));return function(t){return e.apply(this,arguments)}}()},{key:"registerGuardian",value:function(){var e=Object($.a)(X.a.mark((function e(t){var r,a;return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r=this.guardiansService.registerGuardian(t),e.next=4,this.handlePromievent(r,"Register guardian");case 4:return a=e.sent,e.next=7,this.manuallyReadAccountData();case 7:return e.abrupt("return",a);case 10:throw e.prev=10,e.t0=e.catch(0),this.setTxHadError(!0),console.error("Failed registering guardian ".concat(e.t0)),e.t0;case 15:case"end":return e.stop()}}),e,this,[[0,10]])})));return function(t){return e.apply(this,arguments)}}()},{key:"updateGuardianInfo",value:function(){var e=Object($.a)(X.a.mark((function e(t){var r,a;return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r=this.guardiansService.updateGuardianInfo(t),e.next=4,this.handlePromievent(r,"Update guardian");case 4:return a=e.sent,e.next=7,this.manuallyReadAccountData();case 7:return e.abrupt("return",a);case 10:throw e.prev=10,e.t0=e.catch(0),this.setTxHadError(!0),console.error("Failed updating guardian info ".concat(e.t0)),e.t0;case 15:case"end":return e.stop()}}),e,this,[[0,10]])})));return function(t){return e.apply(this,arguments)}}()},{key:"unregisterGuardian",value:function(){var e=Object($.a)(X.a.mark((function e(){var t,r;return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=this.guardiansService.unregisterGuardian(),e.next=4,this.handlePromievent(t,"Unregister guardian");case 4:return r=e.sent,e.next=7,this.manuallyReadAccountData();case 7:return e.abrupt("return",r);case 10:throw e.prev=10,e.t0=e.catch(0),this.setTxHadError(!0),console.error("Failed unregistering guardian ".concat(e.t0)),e.t0;case 15:case"end":return e.stop()}}),e,this,[[0,10]])})));return function(){return e.apply(this,arguments)}}()},{key:"unDelegateCurrentDelegation",value:function(){var e=Object($.a)(X.a.mark((function e(){var t,r;return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=this.delegationsService.unDelegate(this.cryptoWalletIntegrationStore.mainAddress),e.next=4,this.handlePromievent(t,"UnDelegate");case 4:return r=e.sent,e.next=7,this.manuallyReadAccountData();case 7:return e.abrupt("return",r);case 10:throw e.prev=10,e.t0=e.catch(0),this.setTxHadError(!0),console.error("Failed unDelegating ".concat(e.t0)),e.t0;case 15:case"end":return e.stop()}}),e,this,[[0,10]])})));return function(){return e.apply(this,arguments)}}()},{key:"writeGuardianDelegatorsCutPercentage",value:function(){var e=Object($.a)(X.a.mark((function e(t){var r,a;return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("Writing :",t),r=this.stakingRewardsService.setDelegatorsCutPercentage(t),e.prev=2,e.next=5,this.handlePromievent(r,"Set delegators cut percentage");case 5:return a=e.sent,e.next=8,this.manuallyReadAccountData();case 8:return e.abrupt("return",a);case 11:throw e.prev=11,e.t0=e.catch(2),console.error("Failed setting delegators cut percentage ".concat(e.t0)),e.t0;case 15:case"end":return e.stop()}}),e,this,[[2,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"writeGuardianDetailsPageURL",value:function(){var e=Object($.a)(X.a.mark((function e(t){var r,a;return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("Writing :",t),r=this.guardiansService.setGuardianDetailsPageUrl(t),e.prev=2,e.next=5,this.handlePromievent(r,"Set Details page URL");case 5:return a=e.sent,e.next=8,this.manuallyReadAccountData();case 8:return e.abrupt("return",a);case 11:throw e.prev=11,e.t0=e.catch(2),console.error("Failed setting Details page URL ".concat(e.t0)),e.t0;case 15:case"end":return e.stop()}}),e,this,[[2,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"reactToConnectedAddressChanged",value:function(){var e=Object($.a)(X.a.mark((function e(t){return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=12;break}return this.setDefaultAccountAddress(t),this.cryptoWalletIntegrationStore.hasEventsSupport&&this.refreshAccountListeners(t),e.prev=3,e.next=6,this.readDataForAccount(t);case 6:e.next=12;break;case 8:e.prev=8,e.t0=e.catch(3),this.failLoadingProcess(e.t0),console.error("Error in reacting to address change in Orbs Account Store",e.t0);case 12:case"end":return e.stop()}}),e,this,[[3,8]])})));return function(t){return e.apply(this,arguments)}}()},{key:"setDefaultAccountAddress",value:function(e){this.guardiansService.setFromAccount(e),this.stakingRewardsService.setFromAccount(e),this.delegationsService.setFromAccount(e)}},{key:"manuallyReadAccountData",value:function(){var e=Object($.a)(X.a.mark((function e(){return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.readDataForAccount(this.cryptoWalletIntegrationStore.mainAddress);case 3:e.next=9;break;case 5:e.prev=5,e.t0=e.catch(0),this.failLoadingProcess(e.t0),console.error("Error in manually reading address data in Orbs Account Store",e.t0);case 9:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(){return e.apply(this,arguments)}}()},{key:"readDataForAccount",value:function(){var e=Object($.a)(X.a.mark((function e(t){return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.readAndSetIsGuardian(t);case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),console.error("Error read-n-set isGuardian ".concat(e.t0));case 8:this.isGuardian&&(this.readAndSetGuardianInfo(t).catch((function(e){return console.error("Error read-n-set Guardian Info ".concat(e))})),this.readAndSetDelegatorsCut(t).catch((function(e){return console.error("Error read-n-set delegators cut percentage ".concat(e))})),this.readAndSetGuardianRewardsSettings(t).catch((function(e){return console.error("Error read-n-set Guardian rewards settings ".concat(e))})),this.readAndSetDetailsPageUrl(t).catch((function(e){return console.error("Error read-n-set Details page URL ".concat(e))}))),this.readAndSetSelectedGuardianAddress(t).catch((function(e){return console.error("Error read-n-set Selected Guardian address ".concat(e))})),this.readAndSetRewardsContractSettings().catch((function(e){return console.error("Error read-n-set Ethereum balance ".concat(e))})),this.readAndSetEthereumBalance(t).catch((function(e){return console.error("Error read-n-set Ethereum balance ".concat(e))}));case 12:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(t){return e.apply(this,arguments)}}()},{key:"readAndSetIsGuardian",value:function(){var e=Object($.a)(X.a.mark((function e(t){var r;return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.guardiansService.isRegisteredGuardian(t);case 2:r=e.sent,this.setIsGuardian(r);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"readAndSetGuardianInfo",value:function(){var e=Object($.a)(X.a.mark((function e(t){var r=this;return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.guardiansService.readGuardianInfo(t).then((function(e){var t=e.name,a=e.website,n=e.orbsAddr,i=e.ip,o=e.registrationTime,s=e.lastUpdateTime,c={name:t,website:a,ip:re(i),orbsAddr:n},l={registrationTime:o,lastUpdateTime:s};r.setGuardianInfo(c),r.setGuardianContractInteractionTimes(l)}));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"readAndSetDelegatorsCut",value:function(){var e=Object($.a)(X.a.mark((function e(t){var r;return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.stakingRewardsService.readDelegatorsCutPercentage(t);case 2:r=e.sent,console.log("Setting delegtors cut",r),this.setDelegatorsCutPercentage(r);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"readAndSetDetailsPageUrl",value:function(){var e=Object($.a)(X.a.mark((function e(t){var r;return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.guardiansService.readGuardianDetailsPageUrl(t);case 2:r=e.sent,this.setDetailsPageURL(r||void 0);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"readAndSetRewardsContractSettings",value:function(){var e=Object($.a)(X.a.mark((function e(){var t;return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.stakingRewardsService.readContractRewardsSettings();case 2:t=e.sent,this.setRewardsContractSettings(t);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"readAndSetGuardianRewardsSettings",value:function(){var e=Object($.a)(X.a.mark((function e(t){var r;return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.stakingRewardsService.readGuardianRewardsSettings(t);case 2:r=e.sent,this.setGuardianRewardsSettings(r);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"readAndSetEthereumBalance",value:function(){var e=Object($.a)(X.a.mark((function e(t){var r;return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.cryptoWalletConnectionService.readEthereumBalance(t);case 2:r=e.sent,this.setEthereumBalance(r);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"readAndSetSelectedGuardianAddress",value:function(){var e=Object($.a)(X.a.mark((function e(t){var r;return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.delegationsService.readDelegation(t);case 2:r=e.sent,this.setSelectedGuardianAddress(r);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"refreshAccountListeners",value:function(){var e=Object($.a)(X.a.mark((function e(t){return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.cancelAllCurrentSubscriptions();case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"cancelAllCurrentSubscriptions",value:function(){}},{key:"failLoadingProcess",value:function(e){this.setErrorLoading(!0),this.setDoneLoading(!0)}},{key:"resetTxIndicators",value:function(){this.setTxPending(!1),this.setTxHadError(!1),this.setTxCanceled(!1)}},{key:"setDoneLoading",value:function(e){this.doneLoading=e}},{key:"setErrorLoading",value:function(e){this.errorLoading=e}},{key:"setTxPending",value:function(e){this.txPending=e}},{key:"setTxCanceled",value:function(e){this.txCanceled=e}},{key:"setTxHadError",value:function(e){this.txHadError=e}},{key:"setIsGuardian",value:function(e){this.isGuardian=e}},{key:"setGuardianInfo",value:function(e){this.guardianInfo=e}},{key:"setGuardianContractInteractionTimes",value:function(e){this.guardianContractInteractionTimes=e}},{key:"setRewardsContractSettings",value:function(e){this.rewardsContractSettings=e}},{key:"setGuardianRewardsSettings",value:function(e){this.guardianRewardsSettings=e}},{key:"setDelegatorsCutPercentage",value:function(e){this.delegatorsCutPercentage=e}},{key:"setDetailsPageURL",value:function(e){this.detailsPageUrl=e}},{key:"setEthereumBalance",value:function(e){this.ethBalance=e}},{key:"setSelectedGuardianAddress",value:function(e){this.selectedGuardianAddress=e}},{key:"isUsingDefaultDelegatorsCutPercentage",get:function(){return this.guardianRewardsSettings.isUsingDefaultRewardsPercent}},{key:"hasGuardianDetailsURL",get:function(){return!!this.detailsPageUrl}},{key:"isDelegatingToOtherAccount",get:function(){return void 0!==this.selectedGuardianAddress&&this.selectedGuardianAddress.toLowerCase()!==this.cryptoWalletIntegrationStore.mainAddress.toLowerCase()}}]),e}(),P=Object(ee.a)(T.prototype,"doneLoading",[K.n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),R=Object(ee.a)(T.prototype,"errorLoading",[K.n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),G=Object(ee.a)(T.prototype,"txPending",[K.n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),I=Object(ee.a)(T.prototype,"txHadError",[K.n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),U=Object(ee.a)(T.prototype,"txCanceled",[K.n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),E=Object(ee.a)(T.prototype,"isGuardian",[K.n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),W=Object(ee.a)(T.prototype,"guardianInfo",[K.n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return ne}}),L=Object(ee.a)(T.prototype,"guardianContractInteractionTimes",[K.n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return ie}}),N=Object(ee.a)(T.prototype,"rewardsContractSettings",[K.n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{maxDelegatorsStakingRewardsPercent:0,defaultDelegatorsStakingRewardsPercent:0}}}),F=Object(ee.a)(T.prototype,"guardianRewardsSettings",[K.n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{isUsingDefaultRewardsPercent:!0,delegatorsStakingRewardsPercent:0}}}),M=Object(ee.a)(T.prototype,"selectedGuardianAddress",[K.n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),B=Object(ee.a)(T.prototype,"delegatorsCutPercentage",[K.n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_=Object(ee.a)(T.prototype,"detailsPageUrl",[K.n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),H=Object(ee.a)(T.prototype,"ethBalance",[K.n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Object(ee.a)(T.prototype,"isUsingDefaultDelegatorsCutPercentage",[K.g],Object.getOwnPropertyDescriptor(T.prototype,"isUsingDefaultDelegatorsCutPercentage"),T.prototype),Object(ee.a)(T.prototype,"hasGuardianDetailsURL",[K.g],Object.getOwnPropertyDescriptor(T.prototype,"hasGuardianDetailsURL"),T.prototype),Object(ee.a)(T.prototype,"isDelegatingToOtherAccount",[K.g],Object.getOwnPropertyDescriptor(T.prototype,"isDelegatingToOtherAccount"),T.prototype),Object(ee.a)(T.prototype,"setDoneLoading",[g],Object.getOwnPropertyDescriptor(T.prototype,"setDoneLoading"),T.prototype),Object(ee.a)(T.prototype,"setErrorLoading",[j],Object.getOwnPropertyDescriptor(T.prototype,"setErrorLoading"),T.prototype),Object(ee.a)(T.prototype,"setTxPending",[f],Object.getOwnPropertyDescriptor(T.prototype,"setTxPending"),T.prototype),Object(ee.a)(T.prototype,"setTxCanceled",[O],Object.getOwnPropertyDescriptor(T.prototype,"setTxCanceled"),T.prototype),Object(ee.a)(T.prototype,"setTxHadError",[m],Object.getOwnPropertyDescriptor(T.prototype,"setTxHadError"),T.prototype),Object(ee.a)(T.prototype,"setIsGuardian",[x],Object.getOwnPropertyDescriptor(T.prototype,"setIsGuardian"),T.prototype),Object(ee.a)(T.prototype,"setGuardianInfo",[v],Object.getOwnPropertyDescriptor(T.prototype,"setGuardianInfo"),T.prototype),Object(ee.a)(T.prototype,"setGuardianContractInteractionTimes",[y],Object.getOwnPropertyDescriptor(T.prototype,"setGuardianContractInteractionTimes"),T.prototype),Object(ee.a)(T.prototype,"setRewardsContractSettings",[w],Object.getOwnPropertyDescriptor(T.prototype,"setRewardsContractSettings"),T.prototype),Object(ee.a)(T.prototype,"setGuardianRewardsSettings",[C],Object.getOwnPropertyDescriptor(T.prototype,"setGuardianRewardsSettings"),T.prototype),Object(ee.a)(T.prototype,"setDelegatorsCutPercentage",[S],Object.getOwnPropertyDescriptor(T.prototype,"setDelegatorsCutPercentage"),T.prototype),Object(ee.a)(T.prototype,"setDetailsPageURL",[k],Object.getOwnPropertyDescriptor(T.prototype,"setDetailsPageURL"),T.prototype),Object(ee.a)(T.prototype,"setEthereumBalance",[D],Object.getOwnPropertyDescriptor(T.prototype,"setEthereumBalance"),T.prototype),Object(ee.a)(T.prototype,"setSelectedGuardianAddress",[A],Object.getOwnPropertyDescriptor(T.prototype,"setSelectedGuardianAddress"),T.prototype),T);r(352);var se=r(108),ce=r.n(se),le=(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_ETHEREUM_NETWORK,Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_INFURA_KEY),ue={urlBase:Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).PUBLIC_BASE_PATH||"",v2contractsAddressesOverride:{},ETHEREUM_PROVIDER_WS:"wss://mainnet.infura.io/ws/v3/".concat(le),privacyPolicyUrl:"https://www.orbs.com/guardian-portal-privacy-policy/",termsOfUseUrl:"https://www.orbs.com/guardian-portal-terms-of-use/"},de=r(94);var be=r(147),he=r(712),pe=r(326),ge=r.n(pe),je=r(209),fe=r.n(je),Oe="#dbdbdb",me=ge()(fe()({palette:{primary:{main:"#09142c"},secondary:{main:"#74f6fd"},text:{primary:Oe,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)"},background:{default:"#16317d",paper:"#09142c"},action:{active:Oe,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",hover:"rgba(255, 255, 255, 0.08)",selected:"rgba(255, 255, 255, 0.16)"},divider:"rgba(255, 255, 255, 0.12)"},typography:{},overrides:{MuiPaper:{root:{}},MuiTypography:{colorPrimary:{}},MuiLink:{root:{}}}})),xe=r(80);Object(K.h)({enforceActions:"observed"});var ve=function(e){var t,r,a,n;return n=e?new ce.a(e):new ce.a(new ce.a.providers.WebsocketProvider(ue.ETHEREUM_PROVIDER_WS)),{cryptoWalletIntegrationService:new de.CryptoWalletConnectionService(e),guardiansService:new de.GuardiansService(n,null===ue||void 0===ue||null===(t=ue.v2contractsAddressesOverride)||void 0===t?void 0:t.guardiansRegistration),stakingRewardsService:new de.StakingRewardsService(n,null===ue||void 0===ue||null===(r=ue.v2contractsAddressesOverride)||void 0===r?void 0:r.stakingRewards),delegationsService:new de.DelegationsService(n,null===ue||void 0===ue||null===(a=ue.v2contractsAddressesOverride)||void 0===a?void 0:a.delegations)}}(window.ethereum),ye=function(e,t,r,a){var n=new te(e);return{cryptoWalletIntegrationStore:n,orbsAccountStore:new oe(n,t,r,a,e)}}(ve.cryptoWalletIntegrationService,ve.guardiansService,ve.stakingRewardsService,ve.delegationsService),we=i.a.memo((function(e){console.log("Wrapper render");var t=e.appComponent;return Object(a.jsx)(z.a,{children:Object(a.jsx)(q.b,Object(V.a)(Object(V.a)(Object(V.a)({},ye),ve),{},{children:Object(a.jsx)(be.b,{injectFirst:!0,children:Object(a.jsx)(he.a,{theme:me,children:Object(a.jsx)(xe.a,{maxSnack:3,children:t})})})}))})})),Ce=r(720),Se=r(27),ke=r(214),De=r(711),Ae=r(713),Te=r(732),Pe=r(155),Re=r(43),Ge=r(5),Ie=Object(De.a)((function(e){return{link:{transition:"0.5s",color:e.palette.secondary.light,"&:hover":{color:e.palette.secondary.dark}},linkFaded:{color:e.palette.text.disabled}}})),Ue=i.a.memo((function(e){var t=Ie(),r=e.text,n=e.href,i=e.shouldfade,o=Object(Re.a)(e,["text","href","shouldfade"]);return Object(a.jsx)("a",Object(V.a)(Object(V.a)({className:Object(Ge.a)(t.link,i?t.linkFaded:null),href:n||"",target:"_blank",rel:"noopener noreferrer"},o),{},{children:r}))})),Ee=i.a.memo((function(e){var t=e.value,r=e.onValueChange,n=Object(Pe.renderToString)(Object(a.jsx)(he.a,{theme:me,children:Object(a.jsxs)(ke.a,{style:{textAlign:"start"},children:["I agree to the"," ",Object(a.jsx)(Ue,{href:ue.termsOfUseUrl,text:"Terms of Use"})," and"," ",Object(a.jsx)(Ue,{href:ue.privacyPolicyUrl,text:"Privacy Policy"})]})}));return Object(a.jsx)(Ae.a,{style:{marginTop:"0.5rem"},control:Object(a.jsx)(Te.a,{checked:t,onChange:function(e){return r(e.target.checked)},name:"legalTicker"}),label:Object(a.jsx)(ke.a,{dangerouslySetInnerHTML:{__html:n}})})})),We=r(110),Le=r.n(We),Ne=Object(De.a)((function(e){return{boldText:{fontWeight:"bold",display:"contents",color:e.palette.secondary.main}}})),Fe=i.a.memo((function(e){var t=e.children,r=Ne();return Object(a.jsx)("div",{className:r.boldText,children:t})})),Me=Le()((function(e){return{container:{display:"flex",flexDirection:"column",alignItems:"flex-start",textAlign:"start",padding:"0.5em"},textsList:{listStylePosition:"outside",paddingLeft:"1.5rem","& li":{margin:"0 0 0.2rem 0"},"& li:last-child":{margin:0}}}})),Be=i.a.memo((function(e){var t=Me(),r=e.conceptName,n=e.details,i=e.caption,o=Object(Re.a)(e,["conceptName","details","caption"]);return Object(a.jsxs)("div",Object(V.a)(Object(V.a)({className:t.container},o),{},{children:[Object(a.jsxs)(ke.a,{children:["Your ",Object(a.jsxs)(Fe,{children:[r,":"]})]}),Object(a.jsx)("ul",{className:t.textsList,children:n.map((function(e){return Object(a.jsx)("li",{children:Object(a.jsx)(ke.a,{variant:i?"caption":"body2",children:e})},e.toString())}))})]}))})),_e=["Represents the Guardian in the Guardians list","Used by Delegators to delegate to the Guardian","Holds the Guardian's self-delegated stake","Receives the Guardians rewards"],He=[Object(a.jsxs)(a.Fragment,{children:["Should be different from the ",Object(a.jsx)(Fe,{children:"Guardian address"})]}),"Used by the node to sign blocks on Orbs blockchain","Holds ETH for node automated transactions gas","A minimal balance of 1 ETH is required upon registration","Does NOT hold your Guardian ORBS tokens"],Ve=i.a.memo((function(e){var t=e.value,r=e.onValueChange,n=Object(Pe.renderToString)(Object(a.jsx)(he.a,{theme:me,children:Object(a.jsx)(ke.a,{children:"I confirm that I am not a citizen, resident of, or otherwise located in any of the following:"})}));return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(Ae.a,{style:{marginTop:"0.5rem"},control:Object(a.jsx)(Te.a,{checked:t,onChange:function(e){return r(e.target.checked)},name:"legalTicker"}),label:Object(a.jsx)(ke.a,{style:{textAlign:"start"},dangerouslySetInnerHTML:{__html:n}})}),Object(a.jsxs)("ul",{children:[Object(a.jsx)("li",{children:Object(a.jsx)(ke.a,{style:{textAlign:"start"},children:"The State of Israel."})}),Object(a.jsx)("li",{children:Object(a.jsx)(ke.a,{style:{textAlign:"start"},children:"Any country or region subject to comprehensive sanctions, including, but not limited to, the Crimean region of Ukraine, Cuba, Iran, Lebanon, North Korea, Sudan and Syria."})})]})]})})),ze=r(715),qe=Le()((function(e){return{actionButton:{color:e.palette.secondary.light,borderColor:e.palette.secondary.main,transition:"background-color 0.4s linear, color 0.2s linear","&:hover":{backgroundColor:e.palette.secondary.light,color:e.palette.getContrastText(e.palette.secondary.light),borderColor:e.palette.getContrastText(e.palette.secondary.light)}},actionButtonError:{color:e.palette.error.light,borderColor:e.palette.error.main,transition:"background-color 0.4s linear, color 0.2s linear","&:hover":{backgroundColor:e.palette.error.light,color:e.palette.getContrastText(e.palette.error.light),borderColor:e.palette.getContrastText(e.palette.error.light)}},actionButtonWarning:{color:e.palette.warning.light,borderColor:e.palette.warning.main,transition:"background-color 0.4s linear, color 0.2s linear","&:hover":{backgroundColor:e.palette.warning.light,color:e.palette.getContrastText(e.palette.warning.light),borderColor:e.palette.getContrastText(e.palette.warning.light)}}}})),Ke=i.a.memo((function(e){var t=e.children,r=e.fullWidth,n=e.errorVariant,i=e.warningVariant,o=Object(Re.a)(e,["children","fullWidth","errorVariant","warningVariant"]),s=qe();return Object(a.jsx)(ze.a,Object(V.a)(Object(V.a)({className:n?s.actionButtonError:i?s.actionButtonWarning:s.actionButton,variant:"outlined",fullWidth:void 0===r||r,type:"submit"},o),{},{children:t}))})),Ye=Object(De.a)((function(e){return{noEthereumProviderSection:{display:"flex",flexDirection:"column",alignItems:"center",textAlign:"center",padding:"2em",backgroundColor:"rgba(0,0,0, 0.2)",borderRadius:"5%",width:"fit-content",maxWidth:"90%",boxSizing:"border-box"}}})),Xe=i.a.memo((function(e){var t=Ye(),r=e.walletConnectionPhase,i=e.actionFunction,o=(e.pressedOnInstall,e.isMetaMaskProvider),s=Object(n.useState)(!1),c=Object(Se.a)(s,2),l=c[0],u=c[1],d=Object(n.useState)(!1),b=Object(Se.a)(d,2),h=b[0],p=b[1],g="connect"===r,j=l&&h,f=Object(n.useMemo)((function(){return{shouldDisplayLegalTicker:g,hasExtraDetailsSection:g,buttonIsEnabled:!g||j,isInstall:"install"===r}}),[g,j,r]),O=f.shouldDisplayLegalTicker,m=f.isInstall,x=f.buttonIsEnabled,v=f.hasExtraDetailsSection,y=Object(n.useMemo)((function(){return{titleText:m?"No Ethereum provider detected":"".concat(o?"MetaMask":"Account"," connection required"),subTitleText:m?"you should install MetaMask and refresh the page":Object(a.jsxs)(a.Fragment,{children:["To begin, please connect with your"," ",Object(a.jsx)(Fe,{children:"Guardian address."})]}),buttonText:"install"===r?"Install":"Connect"}}),[m,o,r]),w=y.titleText,C=y.buttonText,S=y.subTitleText;return Object(a.jsxs)("div",{className:t.noEthereumProviderSection,children:[Object(a.jsx)(ke.a,{style:{marginBottom:"0.5rem"},variant:"h4",children:w}),Object(a.jsx)(ke.a,{style:{marginBottom:"1rem"},children:S}),v&&Object(a.jsx)(Be,{conceptName:"Guardian Address",details:_e}),Object(a.jsx)(Ke,{fullWidth:!1,onClick:i,disabled:!x,children:C}),Object(a.jsxs)("div",{style:{width:"min(30rem, 100%)",display:"flex",flexDirection:"column",alignItems:"flex-start"},children:[O&&Object(a.jsx)(Ee,{value:l,onValueChange:u}),O&&Object(a.jsx)(Ve,{value:h,onValueChange:p})]})]})})),$e=r(733),Je=r(716),Qe=r(717),Ze=r(78),et=r.n(Ze),tt=Object(De.a)((function(e){return{centeredContainer:{display:"flex",flexDirection:"column",alignItems:"center",height:"100%"}}})),rt=i.a.memo((function(e){var t=tt(),r=et()(),n=Object(Je.a)(r.breakpoints.down("sm"));return Object(a.jsx)(Qe.a,Object(V.a)({className:t.centeredContainer,component:"div",disableGutters:n},e))})),at=r(718),nt=r(719),it=Object(De.a)((function(e){return{appBar:{height:"".concat(5,"rem"),paddingTop:"0.5rem",paddingBottom:"0.5rem",boxSizing:"border-box"},title:{flexGrow:1,textAlign:"center",marginTop:"1em",marginBottom:"1em"}}})),ot=i.a.memo((function(e){var t=it();return Object(a.jsx)(at.a,{className:t.appBar,position:"fixed",children:Object(a.jsx)(nt.a,{children:Object(a.jsx)("div",{className:t.title,children:Object(a.jsx)(ke.a,{variant:"h5",children:"ORBS Guardians Portal"})})})})})),st=Object(De.a)((function(e){return{page:{display:"flex",flexDirection:"column",alignItems:"center",width:"100%",maxWidth:"100%",boxSizing:"border-box",padding:"2em",height:"100%"},backdrop:{zIndex:e.zIndex.drawer+1,color:"#fff"}}})),ct=i.a.memo((function(e){var t=e.children,r=Object(Re.a)(e,["children"]),n=st();return Object(a.jsxs)("div",Object(V.a)(Object(V.a)({className:n.page},r),{},{children:[Object(a.jsx)(nt.a,{}),t]}))})),lt=Object(De.a)((function(e){return{app:{minHeight:"100%",flex:1,backgroundColor:"#06142e",backgroundRepeat:"repeat-y",backgroundImage:"url(https://www.orbs.com/wp-content/uploads/2019/02/technology-background1.png)",backgroundAttachment:"scroll",backgroundPosition:"top center"}}})),ut=i.a.memo((function(e){var t=lt(),r=Object($e.a)(!1),i=Object(n.useCallback)((function(){window.open("https://metamask.io/","_blank"),r.setTrue()}),[r]);return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(ot,{}),Object(a.jsxs)("main",{className:t.app,children:[Object(a.jsx)(rt,{id:"appContainer",children:Object(a.jsx)(ct,{children:Object(a.jsx)(Xe,{walletConnectionPhase:"install",actionFunction:i})})}),Object(a.jsx)(Ce.a,{})]})]})})),dt=r(32);function bt(){return i.a.useContext(q.a)}function ht(){return bt().cryptoWalletIntegrationStore}function pt(){return bt().orbsAccountStore}var gt=Object(De.a)((function(e){return{contentFitter:{height:"100%",width:"fit-content",maxWidth:"100%"}}})),jt=i.a.memo((function(e){var t=gt(),r=e.children,n=Object(Re.a)(e,["children"]);return Object(a.jsx)("div",Object(V.a)(Object(V.a)({className:t.contentFitter},n),{},{children:r}))})),ft=i.a.memo((function(e){return Object(a.jsx)(ct,{children:Object(a.jsx)(jt,{children:Object(a.jsx)(ke.a,{children:"Error loading"})})})})),Ot=i.a.memo((function(e){return Object(a.jsx)(ct,{children:Object(a.jsx)(jt,{children:Object(a.jsx)(ke.a,{children:"Loading..."})})})})),mt=r(736),xt=r(334),vt=r(683),yt=r(722),wt=r(721),Ct=r(50),St=r(730),kt=r(81),Dt=Object(De.a)((function(e){return{helperText:{color:e.palette.secondary.main},textsList:{listStylePosition:"outside",paddingLeft:"1rem"}}})),At=i.a.memo((function(e){var t=Dt(),r=e.helperTexts;e.header,r.length;return Object(a.jsx)(a.Fragment,{children:Object(a.jsx)("ul",{className:t.textsList,children:r.map((function(e,r){return Object(a.jsx)(i.a.Fragment,{children:Object(a.jsx)("li",{id:r.toString(),className:t.helperText,children:Object(a.jsx)(ke.a,{style:{wordWrap:"break-word"},variant:"caption",children:e})},e.toString())},"fragment_".concat(e))}))})})}));function Tt(e){return!!new RegExp("^(https?:\\/\\/)?((([a-z\\d]([a-z\\d-]*[a-z\\d])*)\\.)+[a-z]{2,}|((\\d{1,3}\\.){3}\\d{1,3}))(\\:\\d+)?(\\/[-a-z\\d%_.~+]*)*(\\?[;&a-z\\d%_.~+=-]*)?(\\#[-a-z\\d_]*)?$","i").test(e)}var Pt=/^0x[a-fA-F0-9]{40}$/,Rt=/^(([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])\.){3}([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])$/,Gt=["The name that the Guardian will be recognized by."],It=["The Guardian website is used by Delegators when selecting a Guardian."],Ut=["A valid IPv4 address is required to allow the Guardian\u2019s node to connect to the network gossip topology."],Et=[Object(a.jsxs)(a.Fragment,{children:["Should be different from the"," ",Object(a.jsx)("div",{style:{display:"contents",fontWeight:"bold"},children:"Guardian address"}),"."]}),"Used by the Orbs node to automatically send transactions such as ReadyForCommittee.","Used to sign blocks on Orbs platform.","Should hold ETH for the automated transactions gas (A minimal balance of 1 Ether at the 'Node Address' is required in order to register as a guardian).","The Orbs Node address should differ from the Guardian address."],Wt=Object(De.a)((function(e){return{form:{maxWidth:"100%",width:"100%"},textField:{"& label.Mui-focused":{color:"#f5f5f5"}}}})),Lt=i.a.memo((function(e){var t=Wt(),r=e.guardianInitialInfo,i=e.submitInfo,o=e.actionButtonTitle,s=e.disableSubmit,c=e.messageForSubmitButton,l=Object(Re.a)(e,["guardianInitialInfo","submitInfo","actionButtonTitle","disableSubmit","messageForSubmitButton"]),u=Object(kt.a)(),d=u.register,b=u.handleSubmit,h=u.errors,p=Object(wt.a)(r.name),g=Object(wt.a)(r.website),j=Object(wt.a)(r.ip),f=Object(wt.a)(r.orbsAddr),O=!!h.nodeAddress,m=!!h.ipAddress,x=!!h.website,v=p.setValue,y=g.setValue,w=j.setValue,C=f.setValue;Object(n.useEffect)((function(){r&&(console.log("Re-setting data"),v(r.name),y(r.website),w(r.ip),C(r.orbsAddr))}),[r,w,v,C,y]);var S=Object(Ct.a)(),k=Object(Je.a)(S.breakpoints.down("xs"));console.log(k);Object(n.useCallback)((function(e,t,r){var n;return r&&(n=Object(a.jsx)(At,{helperTexts:r})),e&&t&&(n=t),n}),[]);var D=Object(n.useCallback)((function(e){var t={ip:e.ipAddress,orbsAddr:e.nodeAddress,name:e.name,website:e.website};i(t)}),[i]);return Object(a.jsxs)("form",Object(V.a)(Object(V.a)({onSubmit:b((function(e){return D(e)})),className:t.form},l),{},{children:[Object(a.jsx)(St.a,{InputLabelProps:{style:{pointerEvents:"auto"}},name:"name",label:"Guardian name",placeholder:"e.g: Number One ORBS Guardian",title:Gt[0],value:p.value,onChange:function(e){return p.setValue(e.target.value)},required:!0,inputRef:d,fullWidth:!0,className:t.textField,autoFocus:!0}),Object(a.jsx)("br",{}),Object(a.jsx)(St.a,{fullWidth:!0,name:"website",label:"Guardian website",placeholder:"e.g: https://www.number1guardian.com",title:It[0],helperText:x&&"Please use a valid URL",value:g.value,onChange:function(e){return g.setValue(e.target.value)},required:!0,error:x,inputRef:d({validate:Tt}),className:t.textField}),Object(a.jsx)("br",{}),Object(a.jsx)(St.a,{fullWidth:!0,name:"ipAddress",label:"Node IP",placeholder:"e.g: 123.17.46.251",title:Ut[0],value:j.value,onChange:function(e){return j.setValue(e.target.value)},required:!0,inputRef:d({pattern:Rt}),error:m,helperText:m&&"Please use a valid IPV4 address",className:t.textField}),Object(a.jsx)("br",{}),Object(a.jsx)(St.a,{name:"nodeAddress",label:"Node address",placeholder:"e.g: 0x0cBb46287c93357be4CF60fe9601c2c7A2700dC2",title:Et[1],value:f.value,onChange:function(e){return f.setValue(e.target.value)},error:O,helperText:O&&"Please use a valid address",required:!0,inputRef:d({pattern:Pt}),fullWidth:!0,className:t.textField}),Object(a.jsx)("br",{}),Object(a.jsx)("br",{}),Object(a.jsx)(Ke,{type:"submit",disabled:s,children:o}),Object(a.jsx)("br",{}),Object(a.jsx)("br",{}),c&&Object(a.jsx)(ke.a,{variant:"body2",color:"error",style:{width:"fit-content"},children:c})]}))})),Nt=r(735),Ft=r(330),Mt=r.n(Ft),Bt=Object(De.a)((function(e){return{container:{padding:"0.5rem 0",display:"flex",flexDirection:"column",flexWrap:"wrap",justifyItems:"center",justifyContent:"center"}}})),_t=i.a.memo((function(e){var t=Bt(),r=e.children;return Object(a.jsx)("div",{className:t.container,children:r})})),Ht=i.a.memo((function(e){return Object(a.jsxs)(_t,{children:[Object(a.jsx)(Fe,{children:"Please Notice:"}),Object(a.jsx)(Be,{conceptName:"Guardian Address",details:_e}),Object(a.jsx)(Be,{conceptName:"Node Address",details:He})]})})),Vt=Object(De.a)((function(e){return{avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main,marginLeft:"auto",marginRight:"auto"},boldText:{fontWeight:"bold",display:"contents"}}})),zt={orbsAddr:"",ip:"",website:"",name:""},qt=i.a.memo((function(e){var t=Vt(),r=e.guardianAddress,i=e.registerGuardian,o=e.cryptoWalletConnectionService,s=(et()(),Object(n.useState)(void 0)),c=Object(Se.a)(s,2),l=c[0],u=c[1],d=Object(n.useCallback)(function(){var e=Object($.a)(X.a.mark((function e(t){return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.orbsAddr.toLowerCase()!==r.toLowerCase()){e.next=3;break}return u("Your Orbs node address cannot be the same as your Guardian address ".concat(r)),e.abrupt("return");case 3:return e.next=5,o.readEthereumBalance(t.orbsAddr);case 5:if(!(e.sent<1)){e.next=9;break}return u("A minimal balance of 1 Ether at the 'Node Address' is required in order to register as a guardian."),e.abrupt("return");case 9:i(t);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[o,r,i]);return Object(a.jsxs)("div",{id:"RegisterGuardianSection",style:{display:"flex",flexDirection:"column",alignItems:"center",width:"min-content",maxWidth:"100%"},children:[Object(a.jsx)(Nt.a,{className:t.avatar,children:Object(a.jsx)(Mt.a,{})}),Object(a.jsxs)("div",{style:{maxWidth:"100%",textAlign:"center"},children:[Object(a.jsx)(ke.a,{variant:"h5",children:"Guardian Registration"}),Object(a.jsxs)(ke.a,{variant:"h6",children:["Your ",Object(a.jsx)("div",{className:t.boldText,children:"Guardian address "}),"is:"]}),Object(a.jsx)(ke.a,{style:{textOverflow:"ellipsis",overflow:"hidden"},children:r})]}),Object(a.jsx)(Ht,{}),Object(a.jsx)(Lt,{submitInfo:d,guardianInitialInfo:zt,actionButtonTitle:"Register",messageForSubmitButton:l})]})}));function Kt(){var e=i.a.useContext(q.a);if(!e)throw new Error("Tried to use services before initialising them");return e}function Yt(){return Kt().cryptoWalletIntegrationService}var Xt=Object(De.a)((function(e){return{backdrop:{zIndex:e.zIndex.drawer+1,color:"#fff"}}})),$t=i.a.memo((function(e){var t=Xt(),r=et()(),i=Object(xe.b)().enqueueSnackbar,o=Yt(),s=ht(),c=pt(),l=Object(n.useCallback)(function(){var e=Object($.a)(X.a.mark((function e(t){return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,c.registerGuardian(t);case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),i("Error in 'Guardian Registration' TX ".concat(e.t0.message),{variant:"error"});case 8:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(t){return e.apply(this,arguments)}}(),[i,c]),u=Object(n.useCallback)(Object($.a)(X.a.mark((function e(){return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,c.unDelegateCurrentDelegation();case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),i("Error in 'un-delegating' TX ".concat(e.t0.message),{variant:"error"});case 8:case"end":return e.stop()}}),e,null,[[0,5]])}))),[i,c]);return Object(a.jsx)(ct,{children:Object(a.jsxs)(jt,{children:[Object(a.jsxs)("div",{style:{display:"flex",maxWidth:"100%"},children:[c.isDelegatingToOtherAccount&&Object(a.jsxs)(mt.a,{component:xt.a,p:2,m:2,style:{maxWidth:"100%",textAlign:"center",border:"1px dashed ".concat(r.palette.secondary.main),overflowX:"hidden"},children:[Object(a.jsx)(ke.a,{style:{fontWeight:"bold",color:r.palette.warning.dark,textDecoration:"underline"},children:"Please note"}),Object(a.jsx)("br",{}),Object(a.jsxs)(ke.a,{style:{fontWeight:"bold"},children:["Connected with address"," "]}),Object(a.jsx)(ke.a,{color:"secondary",noWrap:!0,style:{textOverflow:"ellipsis"},children:s.mainAddress}),Object(a.jsx)("br",{}),Object(a.jsx)(ke.a,{style:{fontWeight:"bold"},children:"This address is currently delegating to"}),Object(a.jsx)(ke.a,{color:"secondary",noWrap:!0,style:{textOverflow:"ellipsis"},children:c.selectedGuardianAddress}),Object(a.jsx)("br",{}),Object(a.jsx)(ke.a,{variant:"body2",children:"Prior to registering as a Guardian this delegation needs to be cancelled."}),Object(a.jsx)("br",{}),Object(a.jsx)(Ke,{onClick:u,children:" Undelegate "})]}),!c.isDelegatingToOtherAccount&&Object(a.jsx)(qt,{registerGuardian:l,guardianAddress:s.mainAddress,cryptoWalletConnectionService:o})]}),Object(a.jsx)(vt.a,{className:t.backdrop,open:c.txPending,children:Object(a.jsx)(yt.a,{color:"inherit"})})]})})})),Jt=r(731),Qt=r(728),Zt=(r(331),Object(De.a)((function(e){return{textField:{"& label.Mui-focused":{color:"#f5f5f5"}}}}))),er=i.a.memo((function(e){var t=Zt(),r=e.currentGuardianDetailsUrl,i=e.updateGuardianDetailsUrl,o=e.hasGuardianDetailsUrl,s=e.detailsRequirementsLink,c=Object(a.jsxs)(ke.a,{component:"span",variant:"caption",children:["Setting a URL to your details page is a prerequisite for joining the"," ",Object(a.jsx)(Ue,{text:"certified committee",href:s})]}),l=(Object($e.a)(!1),Object(kt.a)()),u=l.register,d=l.handleSubmit,b=!!l.errors.guardianDetailsUrl,h=Object(wt.a)(""),p=Object(n.useCallback)((function(e){i(e.guardianDetailsUrl)}),[i]),g=h.setValue;Object(n.useEffect)((function(){g(r||"")}),[g,r]);Object(n.useMemo)((function(){return o?Object(a.jsxs)(ke.a,{component:"span",children:["Your details page :"," ",Object(a.jsx)(Ue,{href:(null===r||void 0===r?void 0:r.startsWith("http"))?r:"http://"+r,text:r})]}):"You have not set your details page URL"}),[r,o]);return Object(a.jsxs)("form",{style:{maxWidth:"100%",width:"100%",display:"relative"},onSubmit:d(p),children:[Object(a.jsx)(St.a,{fullWidth:!0,name:"guardianDetailsUrl",title:"Certified Committee URL",label:"Certified Committee URL",value:h.value,onChange:function(e){h.setValue(e.target.value||"")},required:!0,inputRef:u({validate:Tt}),error:b,helperText:b?"Please use a valid URL":c,className:t.textField,autoFocus:!0}),Object(a.jsx)("br",{}),Object(a.jsx)("br",{}),Object(a.jsx)(Ke,{type:"submit",children:"Update your Certified Committee URL"})]})})),tr=(Object(De.a)((function(e){return{avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main,marginLeft:"auto",marginRight:"auto"}}})),"https://github.com/orbs-network/validator-instructions/blob/master/public/certified_committee.md"),rr=Object(De.a)((function(e){return{title:{transition:"0.5s",fontWeight:"bold"},titleHighlight:{color:e.palette.secondary.light},titleFade:{color:e.palette.text.disabled},value:{transition:"0.5s"},valueHighlight:{color:e.palette.secondary.main},valueFade:{color:e.palette.text.disabled}}})),ar=i.a.memo((function(e){rr();var t=e.guardianAddress,r=e.guardianInfo,i=e.delegatorsShare,o=e.guardianCertificationUrl,s=e.highlightInfo,c=e.highlightDelegatorsShare,l=e.highlightCertificateUrl,u=Object(Re.a)(e,["guardianAddress","guardianInfo","delegatorsShare","guardianCertificationUrl","highlightInfo","highlightDelegatorsShare","highlightCertificateUrl"]),d=s||c||l,b=i.isUsingDefaultValue?" (using default value)":null,h=Object(n.useMemo)((function(){var e;return o.hasGuardianDetailsUrl?Object(a.jsx)(ke.a,{component:"span",children:Object(a.jsx)(Ue,{href:(null===(e=o.currentGuardianDetailsUrl)||void 0===e?void 0:e.startsWith("http"))?o.currentGuardianDetailsUrl:"http://"+o.currentGuardianDetailsUrl,text:o.currentGuardianDetailsUrl,shouldfade:!l&&d})}):"You have not set your details page URL"}),[o.currentGuardianDetailsUrl,o.hasGuardianDetailsUrl,l,d]);return Object(a.jsxs)(xt.a,Object(V.a)(Object(V.a)({elevation:3},u),{},{style:{padding:"1.5rem",maxWidth:"100%",width:"30rem",overflow:"hidden"},children:[Object(a.jsx)(nr,{title:"Guardian address : ",value:t,shouldfade:d}),Object(a.jsx)("br",{}),Object(a.jsx)(nr,{title:"Guardian name : ",value:r.name,shouldHighlight:s,shouldfade:!s&&d}),Object(a.jsx)("br",{}),Object(a.jsx)(nr,{title:"Guardian website : ",value:Object(a.jsx)(Ue,{text:r.website,href:r.website,shouldfade:!s&&d}),shouldHighlight:s,shouldfade:!s&&d}),Object(a.jsx)("br",{}),Object(a.jsx)(nr,{title:"Node IP : ",value:r.ip,shouldHighlight:s,shouldfade:!s&&d}),Object(a.jsx)("br",{}),Object(a.jsx)(nr,{title:"Node address : ",value:r.orbsAddr,shouldHighlight:s,shouldfade:!s&&d}),Object(a.jsx)("br",{}),Object(a.jsx)(nr,{title:"Delegators share".concat(b," : "),value:"".concat(i.isUsingDefaultValue?i.defaultValue:i.value," %"),shouldHighlight:c,shouldfade:!c&&d}),Object(a.jsx)("br",{}),Object(a.jsx)(nr,{title:Object(a.jsxs)(a.Fragment,{children:["Guardian details URL (",Object(a.jsx)(Ue,{text:"Certified Committee",href:tr,shouldfade:!l&&d}),") :"]}),value:h,shouldHighlight:l,shouldfade:!l&&d})]}))})),nr=i.a.memo((function(e){var t=e.title,r=e.value,n=e.shouldHighlight,i=e.shouldfade,o=rr();return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(ke.a,{className:Object(Ge.a)(o.title,n?o.titleHighlight:null,i?o.titleFade:null),children:t}),Object(a.jsx)(ke.a,{className:Object(Ge.a)(o.value,n?o.valueHighlight:null,i?o.valueFade:null),children:r})]})})),ir=Object(De.a)((function(e){return{textField:{"& label.Mui-focused":{color:"#f5f5f5"}},openUnregisterMenuButton:{color:e.palette.warning.main,borderColor:e.palette.warning.main},closeUnregisterMenuButton:{color:e.palette.secondary.main,borderColor:e.palette.secondary.main},unregisterButton:{color:e.palette.error.main,borderColor:e.palette.error.main}}})),or=i.a.memo((function(e){ir();var t=e.unregisterGuardian,r=(Object($e.a)(!1),Object(kt.a)()),i=(r.register,r.handleSubmit),o=(r.errors,Object(n.useCallback)((function(e){t()}),[t]));return Object(a.jsx)("form",{style:{maxWidth:"100%",width:"100%"},onSubmit:i(o),children:Object(a.jsx)(Ke,{type:"submit",errorVariant:!0,children:"Unregister"})})})),sr=r(723),cr=r(724),lr=r(725),ur=r(726),dr=r(727),br=Le()((function(e){return{dialogPaper:{"& .MuiDialog-paper":{border:"4px double ".concat(e.palette.secondary.main),boxShadow:"none",minWidth:"20rem",maxWidth:"100%"}},button:{minWidth:"6rem"}}})),hr=i.a.memo((function(e){var t=br(),r=e.open,n=e.onAccept,i=e.onCancel,o=e.title,s=e.contentText,c=e.instructionText,l=e.acceptText,u=e.cancelText;Object(Ct.a)();return Object(a.jsxs)(sr.a,{className:t.dialogPaper,fullScreen:!1,open:r,onClose:i,"aria-labelledby":"action-confirmation-dialog",maxWidth:"xs",style:{},children:[Object(a.jsx)(cr.a,{id:"action-confirmation-dialog-title",children:o}),s&&Object(a.jsx)(lr.a,{children:Object(a.jsx)(ur.a,{children:Object(a.jsx)(ke.a,{children:s})})}),Object(a.jsx)(lr.a,{children:Object(a.jsx)(ur.a,{children:Object(a.jsx)(ke.a,{variant:"body2",children:c})})}),Object(a.jsxs)(dr.a,{children:[Object(a.jsx)(ze.a,{className:t.button,autoFocus:!0,onClick:i,color:"secondary",variant:"contained",children:u||"Cancel"}),Object(a.jsx)(ze.a,{className:t.button,onClick:n,color:"secondary",autoFocus:!0,variant:"contained",children:l||"Accept"})]})]})})),pr=r(734),gr=Object(De.a)((function(e){return{textField:{"& label.Mui-focused":{color:"#f5f5f5"}}}})),jr=i.a.memo((function(e){var t=gr(),r=e.currentDelegatorsCut,i=e.updateDelegatorsCut,o=e.isUsingDefaultValue,s=e.delegatorsCutDefaultValue,c=e.delegatorsCutMaxValue,l="Valid values are between 0 and ".concat(c),u=(Object($e.a)(!1),Object(kt.a)()),d=u.register,b=u.handleSubmit,h=u.errors,p=Object(pr.a)(Math.min(r||0,66),{upperLimit:c}),g=!!h.delegatorsCut,j=Object(n.useCallback)((function(e){i(parseFloat(e.delegatorsCut))}),[i]),f=p.setValue;Object(n.useEffect)((function(){f(Math.min(r||0,c))}),[r,c,f]),console.log({currentDelegatorsCut:r});Object(n.useMemo)((function(){return o?"Current share : Default value (".concat(s,"%)"):"Current share : ".concat(r,"%")}),[r,s,o]);return Object(a.jsxs)("form",{style:{maxWidth:"100%",width:"100%",display:"relative"},onSubmit:b(j),children:[Object(a.jsx)(St.a,{fullWidth:!0,name:"delegatorsCut",title:"Delegators share (% out of staking rewards)",label:"Delegators share (% out of staking rewards)",value:p.value,inputProps:{step:1},onChange:function(e){p.setValue(parseFloat(e.target.value)||0)},required:!0,type:"number",inputRef:d({max:c}),error:g,helperText:g?l:"The percentage of the staking rewards that is distributed to your Delegators, between 0% and ".concat(c,"%"),InputProps:{startAdornment:"%"},className:t.textField,autoFocus:!0}),Object(a.jsx)("br",{}),Object(a.jsx)("br",{}),Object(a.jsx)(Ke,{type:"submit",fullWidth:!0,children:"Update Delegators share"})]})})),fr=Object(De.a)((function(e){return{formWrapper:{padding:"1.5rem",maxWidth:"100%",overflow:"hidden",width:"30rem",transition:"0.7s",border:"2px dashed rgba(0,0,0,0)","&:focus-within, &:hover":{border:"2px dashed ".concat(e.palette.secondary.dark)}}}})),Or=i.a.memo((function(e){var t=fr(),r=e.children;return Object(a.jsx)(xt.a,{elevation:3,className:t.formWrapper,children:r})})),mr=Object(De.a)((function(e){return{backdrop:{zIndex:e.zIndex.drawer+1,color:"#fff"},tab:{transition:"0.5s",color:e.palette.secondary.dark,opacity:.5,"&:hover":{},"&.MuiTab-textColorPrimary.Mui-selected":{fontWeight:"bold",color:e.palette.secondary.main,opacity:1}},tabPanel:{maxWidth:"100%",overflow:"hidden"}}})),xr="info",vr="editInfo",yr="delegatorsShare",wr="certificate",Cr="unregister",Sr=Object(q.c)((function(e){var t=mr(),r=et()(),o=Object(xe.b)().enqueueSnackbar,s=ht(),c=pt(),l=Object(n.useState)(!1),u=Object(Se.a)(l,2),d=u[0],b=u[1],h=Object(n.useState)((function(){return function(){return console.log("Accepted")}})),p=Object(Se.a)(h,2),g=p[0],j=p[1],f=Object(n.useState)({title:"",content:"",instruction:""}),O=Object(Se.a)(f,2),m=O[0],x=O[1],v=Object(n.useCallback)(function(){var e=Object($.a)(X.a.mark((function e(t){return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:x({title:"Update your Details",instruction:"Please press 'Accept' and confirm the transaction",onCancelMessage:"Action canceled"}),b(!0),j((function(){return Object($.a)(X.a.mark((function e(){return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,c.updateGuardianInfo(t);case 3:e.sent&&o("Guardian details successfully updated",{variant:"success"}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),o("Error in 'Guardian Details Update' TX ".concat(e.t0.message),{variant:"error"});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[o,c]),y=Object(n.useCallback)(function(){var e=Object($.a)(X.a.mark((function e(t){return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:x({title:"Update Delegators share",content:"Your Delegator's share will change to to ".concat(t.toLocaleString(),"%"),instruction:"Please press 'Accept' and confirm the transaction",onCancelMessage:"Action canceled"}),b(!0),j((function(){return Object($.a)(X.a.mark((function e(){return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,c.writeGuardianDelegatorsCutPercentage(t);case 3:e.sent&&o("Delegators share successfully updated",{variant:"success"}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),o("Error in 'Delegators share percentage Update' TX ".concat(e.t0.message),{variant:"error"});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[o,c]),w=Object(n.useCallback)(function(){var e=Object($.a)(X.a.mark((function e(t){return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:x({title:"Update details page URL",content:"Your details page URL will change to ".concat(t),instruction:"Please press 'Accept' and confirm the transaction",onCancelMessage:"Action canceled"}),b(!0),j((function(){return Object($.a)(X.a.mark((function e(){return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,c.writeGuardianDetailsPageURL(t);case 3:e.sent&&o("Guardian details page URL updated",{variant:"success"}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),o("Error in 'Guardian details page URL Update' TX ".concat(e.t0.message),{variant:"error"});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[o,c]),C=Object(n.useCallback)(Object($.a)(X.a.mark((function e(){return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:x({title:"You are about to unregister from the Orbs Guardian role",content:"You and your Delegators will no longer be eligible for rewards",instruction:"Are you sure ?",acceptText:"yes",onCancelMessage:"Action canceled"}),b(!0),j((function(){return Object($.a)(X.a.mark((function e(){return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,c.unregisterGuardian();case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),o("Error in 'Unregister guardian' TX ".concat(e.t0.message),{variant:"error"});case 8:case"end":return e.stop()}}),e,null,[[0,5]])})))}));case 3:case"end":return e.stop()}}),e)}))),[o,c]),S=i.a.useState(xr),k=Object(Se.a)(S,2),D=k[0],A=k[1],T=Object(a.jsx)(ar,{guardianAddress:s.mainAddress,guardianInfo:c.guardianInfo,delegatorsShare:{defaultValue:c.rewardsContractSettings.defaultDelegatorsStakingRewardsPercent,isUsingDefaultValue:c.isUsingDefaultDelegatorsCutPercentage,maxValue:c.rewardsContractSettings.maxDelegatorsStakingRewardsPercent,value:c.delegatorsCutPercentage},guardianCertificationUrl:{currentGuardianDetailsUrl:c.detailsPageUrl||"",hasGuardianDetailsUrl:c.hasGuardianDetailsURL},highlightInfo:D===vr,highlightDelegatorsShare:D===yr,highlightCertificateUrl:D===wr}),P=D!==Cr;return Object(a.jsx)(ct,{children:Object(a.jsxs)(jt,{style:{width:"35rem",display:"flex",flexDirection:"column",alignItems:"center"},children:[Object(a.jsxs)("div",{style:{display:"flex",flexDirection:"column",maxWidth:"100%",width:"min-content",alignItems:"center"},children:[Object(a.jsx)("div",{style:{},children:Object(a.jsxs)(Jt.a,{scrollButtons:"auto",value:D,onChange:function(e,t){return A(t)},variant:"fullWidth",indicatorColor:"secondary",textColor:"primary","aria-label":"icon tabs example",TabIndicatorProps:{color:"secondary"},children:[Object(a.jsx)(Qt.a,{label:"Info","aria-label":"phone",className:t.tab,value:xr}),Object(a.jsx)(Qt.a,{className:t.tab,label:"Edit Info",value:vr,"aria-label":"phone"}),Object(a.jsx)(Qt.a,{className:t.tab,label:"Delegators share",value:yr,"aria-label":"favorite"}),Object(a.jsx)(Qt.a,{className:t.tab,label:"Guardian details URL",value:wr,"aria-label":"favorite"}),Object(a.jsx)(Qt.a,{className:t.tab,label:"Unregister",value:Cr,"aria-label":"person"})]})}),P&&T,Object(a.jsx)(kr,{className:t.tabPanel,value:D,index:xr,dir:r.direction}),Object(a.jsx)(kr,{className:t.tabPanel,value:D,index:vr,dir:r.direction,children:Object(a.jsx)(Or,{children:Object(a.jsx)(Lt,{submitInfo:v,guardianInitialInfo:c.guardianInfo,actionButtonTitle:"Update"})})}),Object(a.jsx)(kr,{className:t.tabPanel,value:D,index:yr,dir:r.direction,children:Object(a.jsx)(Or,{children:Object(a.jsx)(jr,{updateDelegatorsCut:y,currentDelegatorsCut:c.delegatorsCutPercentage,isUsingDefaultValue:c.isUsingDefaultDelegatorsCutPercentage,delegatorsCutDefaultValue:c.rewardsContractSettings.defaultDelegatorsStakingRewardsPercent,delegatorsCutMaxValue:c.rewardsContractSettings.maxDelegatorsStakingRewardsPercent})})}),Object(a.jsx)(kr,{className:t.tabPanel,value:D,index:wr,dir:r.direction,children:Object(a.jsx)(Or,{children:Object(a.jsx)(er,{currentGuardianDetailsUrl:c.detailsPageUrl,hasGuardianDetailsUrl:c.hasGuardianDetailsURL,updateGuardianDetailsUrl:w,detailsRequirementsLink:tr})})}),Object(a.jsx)(kr,{className:t.tabPanel,value:D,index:Cr,dir:r.direction,children:Object(a.jsx)(or,{unregisterGuardian:C})})]}),Object(a.jsx)(hr,{title:m.title,contentText:m.content,instructionText:m.instruction,open:d,acceptText:m.acceptText,cancelText:m.cancelText,onAccept:function(){b(!1),g()},onCancel:function(){b(!1),m.onCancelMessage&&o(m.onCancelMessage,{variant:"info",preventDuplicate:!0})}}),Object(a.jsx)(vt.a,{className:t.backdrop,open:c.txPending,children:Object(a.jsx)(yt.a,{color:"inherit"})})]})})}));function kr(e){var t=e.children,r=e.value,n=e.index,i=Object(Re.a)(e,["children","value","index"]);return r===n?Object(a.jsx)(mt.a,Object(V.a)(Object(V.a)({p:3},i),{},{children:t})):null}var Dr,Ar=Object(q.c)((function(e){var t=pt();return t.errorLoading?Object(a.jsx)(ft,{}):t.doneLoading?t.isGuardian?Object(a.jsx)(Sr,{}):Object(a.jsx)($t,{}):Object(a.jsx)(Ot,{})})),Tr=(r(729),r(709),r(332)),Pr=r.n(Tr),Rr=Object(De.a)((function(e){return{footerContainer:{position:"absolute",bottom:0},bottomAppBar:{height:"3em",bottom:0,top:"auto",backgroundColor:Pr()(e.palette.primary.main).fade(.3).toString(),display:"flex",flexDirection:"row",justifyContent:"flex-end",paddingRight:"1em",paddingLeft:"1em"},appVersion:{marginLeft:"auto"}}})),Gr=i.a.memo((function(e){var t=Rr(),r=e.version;return Object(a.jsxs)("div",{className:t.footerContainer,children:[Object(a.jsx)(nt.a,{}),Object(a.jsx)(at.a,{className:t.bottomAppBar,position:"fixed",children:Object(a.jsxs)("div",{style:{width:"100%",display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"center"},children:[Object(a.jsxs)("div",{style:{marginRight:"auto",marginLeft:"auto",position:"absolute"},children:[Object(a.jsx)(Ue,{text:"Terms of use",href:ue.termsOfUseUrl,style:{paddingInlineEnd:"1em",justifySelf:"center"}}),Object(a.jsx)(Ue,{href:ue.privacyPolicyUrl,text:"Privacy Policy"})]}),Object(a.jsx)("div",{className:t.appVersion,children:Object(a.jsxs)(ke.a,{variant:"caption",children:["version ",r]})})]})})]})})),Ir=Object(De.a)((function(){return{app:{minHeight:"100%",flex:1,backgroundColor:"#06142e",backgroundRepeat:"repeat-y",backgroundImage:"url(https://www.orbs.com/wp-content/uploads/2019/02/technology-background1.png)",backgroundAttachment:"scroll",backgroundPosition:"top center"}}})),Ur=Object(q.c)((function(){var e=Ir(),t=ht(),r=Yt(),i=pt(),o=Object(xe.b)().enqueueSnackbar,s=t.isConnectedToWallet,c=Object(n.useMemo)((function(){return s?Object(a.jsx)(dt.c,{children:Object(a.jsx)(dt.a,{path:"/",children:Object(a.jsx)(Ar,{})})}):Object(a.jsx)(ct,{children:Object(a.jsx)(Xe,{walletConnectionPhase:"connect",actionFunction:function(){return t.askToConnect()},isMetaMaskProvider:r.isMetamaskInstalled})})}),[r.isMetamaskInstalled,t,s]),l=i.txHadError;Object(n.useEffect)((function(){l&&o("Error in Transaction",{variant:"error",autoHideDuration:7e3})}),[o,l]);var u=i.txCanceled;return Object(n.useEffect)((function(){u&&o("Transaction canceled",{variant:"info"})}),[o,u]),Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(ot,{}),Object(a.jsxs)("main",{className:e.app,children:[Object(a.jsx)(rt,{id:"appContainer",children:c}),Object(a.jsx)(Ce.a,{})]}),Object(a.jsx)(Gr,{version:"0.1"})]})}));Dr=!!window.ethereum?Object(a.jsx)(Ur,{}):Object(a.jsx)(ut,{}),s.a.render(Object(a.jsx)(i.a.StrictMode,{children:Object(a.jsx)(we,{appComponent:Dr})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[679,1,2]]]);
//# sourceMappingURL=main.4081468f.chunk.js.map