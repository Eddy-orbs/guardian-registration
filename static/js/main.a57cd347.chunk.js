(this["webpackJsonpguardian-registration"]=this["webpackJsonpguardian-registration"]||[]).push([[0],{351:function(e,t,r){},375:function(e,t){},383:function(e,t){},400:function(e,t){},402:function(e,t){},416:function(e,t){},417:function(e,t){},419:function(e,t){},420:function(e,t){},495:function(e,t){},497:function(e,t){},506:function(e,t){},508:function(e,t){},533:function(e,t){},535:function(e,t){},541:function(e,t){},542:function(e,t){},544:function(e,t){},556:function(e,t){},559:function(e,t){},573:function(e,t){},576:function(e,t){},680:function(e,t,r){"use strict";r.r(t);var a=r(1),n=r(0),i=r.n(n),o=r(23),s=r.n(o);r(351),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var c,l,u,d,b,p,h,g,j,f,O,m,x,v,y,w,C,S,k,D,A,T,P,R,I,G,U,E,W,F,L,N,M,H,_,q,B,V,z,K,Y=r(25),X=r(210),$=r(56),J=r(8),Q=r(6),Z=r.n(Q),ee=r(16),te=r(32),re=r(13),ae=r(17),ne=r(18),ie=(r(224),c=Object(J.f)("setWalletConnectionRequestApproved"),l=Object(J.f)("setMainAddress"),u=function(){function e(t){var r=this;Object(re.a)(this,e),this.cryptoWalletConnectionService=t,Object(te.a)(this,"walletConnectionRequestApproved",d,this),Object(te.a)(this,"hasEthereumProvider",b,this),Object(te.a)(this,"hasEventsSupport",p,this),Object(te.a)(this,"mainAddress",h,this),this.addressCheckingInterval=void 0,this.reactionToWalletConnection=void 0,this.hasEthereumProvider=t.hasEthereumProvider,this.hasEventsSupport=t.hasEventsSupport,this.reactionToWalletConnection=Object(J.o)((function(){return r.isConnectedToWallet}),function(){var e=Object(ee.a)(Z.a.mark((function e(t){return Z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t&&r.readInformationFromConnectedWallet();case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),{fireImmediately:!0}),this.hasEthereumProvider&&(this.cryptoWalletConnectionService.hasEventsSupport?this.cryptoWalletConnectionService.onMainAddressChange((function(e){return r.setMainAddress(e)})):(this.cryptoWalletConnectionService.readMainAddress().then((function(e){return r.setMainAddress(e)})),this.addressCheckingInterval=setInterval((function(){return r.cryptoWalletConnectionService.readMainAddress().then((function(e){return r.setMainAddress(e)}))}),1e3)))}return Object(ae.a)(e,[{key:"askToConnect",value:function(){var e=Object(ee.a)(Z.a.mark((function e(){var t;return Z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isConnectedToWallet){e.next=4;break}return e.abrupt("return",!0);case 4:return e.next=6,this.cryptoWalletConnectionService.requestConnectionPermission();case 6:return t=e.sent,this.setWalletConnectionRequestApproved(t),e.abrupt("return",this.walletConnectionRequestApproved);case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"readInformationFromConnectedWallet",value:function(){var e=Object(ee.a)(Z.a.mark((function e(){var t;return Z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.cryptoWalletConnectionService.readMainAddress();case 2:t=e.sent,this.setMainAddress(t);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setWalletConnectionRequestApproved",value:function(e){this.walletConnectionRequestApproved=e}},{key:"setMainAddress",value:function(e){this.mainAddress=e}},{key:"isConnectedToWallet",get:function(){return this.hasEthereumProvider&&(this.cryptoWalletConnectionService.didUserApproveDappInThePast||this.walletConnectionRequestApproved)}}]),e}(),d=Object(ne.a)(u.prototype,"walletConnectionRequestApproved",[J.n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),b=Object(ne.a)(u.prototype,"hasEthereumProvider",[J.n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),p=Object(ne.a)(u.prototype,"hasEventsSupport",[J.n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),h=Object(ne.a)(u.prototype,"mainAddress",[J.n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Object(ne.a)(u.prototype,"isConnectedToWallet",[J.g],Object.getOwnPropertyDescriptor(u.prototype,"isConnectedToWallet"),u.prototype),Object(ne.a)(u.prototype,"setWalletConnectionRequestApproved",[c],Object.getOwnPropertyDescriptor(u.prototype,"setWalletConnectionRequestApproved"),u.prototype),Object(ne.a)(u.prototype,"setMainAddress",[l],Object.getOwnPropertyDescriptor(u.prototype,"setMainAddress"),u.prototype),u),oe=function(e){e.slice(2);return[e.slice(2,4),e.slice(4,6),e.slice(6,8),e.slice(8)].map((function(e){return parseInt(e,16)})).join(".")},se={userRejectedRequest:4001,unauthorized:4100,unsupportedMethod:4200},ce=r(67),le={orbsAddr:"",ip:"",website:"",name:""},ue={registrationTime:0,lastUpdateTime:0},de=(g=Object(J.f)("setDoneLoading"),j=Object(J.f)("setErrorLoading"),f=Object(J.f)("setTxPending"),O=Object(J.f)("setTxCanceled"),m=Object(J.f)("setTxHadError"),x=Object(J.f)("setIsGuardian"),v=Object(J.f)("setGuardianInfo"),y=Object(J.f)("setGuardianRegistrationTimes"),w=Object(J.f)("setRewardDistributionFrequencyInHours"),C=Object(J.f)("setRewardsContractSettings"),S=Object(J.f)("setGuardianRewardsSettings"),k=Object(J.f)("setDelegatorsCutPercentage"),D=Object(J.f)("setDetailsPageURL"),A=Object(J.f)("setGuardianId"),T=Object(J.f)("setEthereumBalance"),P=Object(J.f)("setSelectedGuardianAddress"),R=function(){function e(t,r,a,n,i){var o=this;Object(re.a)(this,e),this.cryptoWalletIntegrationStore=t,this.guardiansService=r,this.stakingRewardsService=a,this.delegationsService=n,this.cryptoWalletConnectionService=i,Object(te.a)(this,"doneLoading",I,this),Object(te.a)(this,"errorLoading",G,this),Object(te.a)(this,"txPending",U,this),Object(te.a)(this,"txHadError",E,this),Object(te.a)(this,"txCanceled",W,this),Object(te.a)(this,"isGuardian",F,this),Object(te.a)(this,"guardianInfo",L,this),Object(te.a)(this,"guardianContractInteractionTimes",N,this),Object(te.a)(this,"rewardDistributionFrequencyInHours",M,this),Object(te.a)(this,"rewardsContractSettings",H,this),Object(te.a)(this,"guardianRewardsSettings",_,this),Object(te.a)(this,"selectedGuardianAddress",q,this),Object(te.a)(this,"delegatorsCutPercentage",B,this),Object(te.a)(this,"detailsPageUrl",V,this),Object(te.a)(this,"guardianId",z,this),Object(te.a)(this,"ethBalance",K,this),this.addressChangeReaction=void 0,this.addressChangeReaction=Object(J.o)((function(){return o.cryptoWalletIntegrationStore.mainAddress}),function(){var e=Object(ee.a)(Z.a.mark((function e(t){return Z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o.setDoneLoading(!1),e.next=3,o.reactToConnectedAddressChanged(t);case 3:o.setDoneLoading(!0);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),{fireImmediately:!0})}return Object(ae.a)(e,[{key:"handlePromievent",value:function(){var e=Object(ee.a)(Z.a.mark((function e(t){var r,a,n=arguments;return Z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.length>1&&void 0!==n[1]?n[1]:"A promivent",this.resetTxIndicators(),this.setTxPending(!0),console.log("Waiting for promievent of ".concat(r)),e.prev=4,e.next=7,t;case 7:return a=e.sent,console.log("Got Results for promievent of ".concat(r)),e.abrupt("return",a);case 12:if(e.prev=12,e.t0=e.catch(4),e.t0.code!==se.userRejectedRequest){e.next=18;break}this.setTxCanceled(!0),e.next=19;break;case 18:throw e.t0;case 19:return e.prev=19,this.setTxPending(!1),e.finish(19);case 22:case"end":return e.stop()}}),e,this,[[4,12,19,22]])})));return function(t){return e.apply(this,arguments)}}()},{key:"registerGuardian",value:function(){var e=Object(ee.a)(Z.a.mark((function e(t){var r,a;return Z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r=this.guardiansService.registerGuardian(t),e.next=4,this.handlePromievent(r,"Register guardian");case 4:return a=e.sent,e.next=7,this.manuallyReadAccountData();case 7:return e.abrupt("return",a);case 10:throw e.prev=10,e.t0=e.catch(0),this.setTxHadError(!0),console.error("Failed registering guardian ".concat(e.t0)),e.t0;case 15:case"end":return e.stop()}}),e,this,[[0,10]])})));return function(t){return e.apply(this,arguments)}}()},{key:"updateGuardianInfo",value:function(){var e=Object(ee.a)(Z.a.mark((function e(t){var r,a;return Z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r=this.guardiansService.updateGuardianInfo(t),e.next=4,this.handlePromievent(r,"Update guardian");case 4:return a=e.sent,e.next=7,this.manuallyReadAccountData();case 7:return e.abrupt("return",a);case 10:throw e.prev=10,e.t0=e.catch(0),this.setTxHadError(!0),console.error("Failed updating guardian info ".concat(e.t0)),e.t0;case 15:case"end":return e.stop()}}),e,this,[[0,10]])})));return function(t){return e.apply(this,arguments)}}()},{key:"unregisterGuardian",value:function(){var e=Object(ee.a)(Z.a.mark((function e(){var t,r;return Z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=this.guardiansService.unregisterGuardian(),e.next=4,this.handlePromievent(t,"Unregister guardian");case 4:return r=e.sent,e.next=7,this.manuallyReadAccountData();case 7:return e.abrupt("return",r);case 10:throw e.prev=10,e.t0=e.catch(0),this.setTxHadError(!0),console.error("Failed unregistering guardian ".concat(e.t0)),e.t0;case 15:case"end":return e.stop()}}),e,this,[[0,10]])})));return function(){return e.apply(this,arguments)}}()},{key:"unDelegateCurrentDelegation",value:function(){var e=Object(ee.a)(Z.a.mark((function e(){var t,r;return Z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=this.delegationsService.unDelegate(this.cryptoWalletIntegrationStore.mainAddress),e.next=4,this.handlePromievent(t,"UnDelegate");case 4:return r=e.sent,e.next=7,this.manuallyReadAccountData();case 7:return e.abrupt("return",r);case 10:throw e.prev=10,e.t0=e.catch(0),this.setTxHadError(!0),console.error("Failed unDelegating ".concat(e.t0)),e.t0;case 15:case"end":return e.stop()}}),e,this,[[0,10]])})));return function(){return e.apply(this,arguments)}}()},{key:"setGuardianDistributionFrequency",value:function(){var e=Object(ee.a)(Z.a.mark((function e(t){var r,a,n;return Z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=3600*t,a=this.guardiansService.setGuardianDistributionFrequency(r),e.prev=2,e.next=5,this.handlePromievent(a,"Set distribution frequency");case 5:return n=e.sent,e.next=8,this.manuallyReadAccountData();case 8:return e.abrupt("return",n);case 11:throw e.prev=11,e.t0=e.catch(2),console.error("Failed setting distribution frequency ".concat(e.t0)),e.t0;case 15:case"end":return e.stop()}}),e,this,[[2,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"writeGuardianDelegatorsCutPercentage",value:function(){var e=Object(ee.a)(Z.a.mark((function e(t){var r,a;return Z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("Writing :",t),r=this.stakingRewardsService.setDelegatorsCutPercentage(t),e.prev=2,e.next=5,this.handlePromievent(r,"Set delegators cut percentage");case 5:return a=e.sent,e.next=8,this.manuallyReadAccountData();case 8:return e.abrupt("return",a);case 11:throw e.prev=11,e.t0=e.catch(2),console.error("Failed setting delegators cut percentage ".concat(e.t0)),e.t0;case 15:case"end":return e.stop()}}),e,this,[[2,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"writeGuardianDetailsPageURL",value:function(){var e=Object(ee.a)(Z.a.mark((function e(t){var r,a;return Z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("Writing :",t),r=this.guardiansService.setGuardianDetailsPageUrl(t),e.prev=2,e.next=5,this.handlePromievent(r,"Set Details page URL");case 5:return a=e.sent,e.next=8,this.manuallyReadAccountData();case 8:return e.abrupt("return",a);case 11:throw e.prev=11,e.t0=e.catch(2),console.error("Failed setting Details page URL ".concat(e.t0)),e.t0;case 15:case"end":return e.stop()}}),e,this,[[2,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"reactToConnectedAddressChanged",value:function(){var e=Object(ee.a)(Z.a.mark((function e(t){return Z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=12;break}return this.setDefaultAccountAddress(t),this.cryptoWalletIntegrationStore.hasEventsSupport&&this.refreshAccountListeners(t),e.prev=3,e.next=6,this.readDataForAccount(t);case 6:e.next=12;break;case 8:e.prev=8,e.t0=e.catch(3),this.failLoadingProcess(e.t0),console.error("Error in reacting to address change in Orbs Account Store",e.t0);case 12:case"end":return e.stop()}}),e,this,[[3,8]])})));return function(t){return e.apply(this,arguments)}}()},{key:"setDefaultAccountAddress",value:function(e){this.guardiansService.setFromAccount(e),this.stakingRewardsService.setFromAccount(e),this.delegationsService.setFromAccount(e)}},{key:"manuallyReadAccountData",value:function(){var e=Object(ee.a)(Z.a.mark((function e(){return Z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.readDataForAccount(this.cryptoWalletIntegrationStore.mainAddress);case 3:e.next=9;break;case 5:e.prev=5,e.t0=e.catch(0),this.failLoadingProcess(e.t0),console.error("Error in manually reading address data in Orbs Account Store",e.t0);case 9:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(){return e.apply(this,arguments)}}()},{key:"readDataForAccount",value:function(){var e=Object(ee.a)(Z.a.mark((function e(t){return Z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.readAndSetIsGuardian(t);case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),console.error("Error read-n-set isGuardian ".concat(e.t0));case 8:this.isGuardian&&(this.readAndSetGuardianInfo(t).catch((function(e){return console.error("Error read-n-set Guardian Info ".concat(e))})),this.readAndSetRewardsDistributionFrequency(t).catch((function(e){return console.error("Error read-n-set Rewards Frequency ".concat(e))})),this.readAndSetDelegatorsCut(t).catch((function(e){return console.error("Error read-n-set delegators cut percentage ".concat(e))})),this.readAndSetGuardianRewardsSettings(t).catch((function(e){return console.error("Error read-n-set Guardian rewards settings ".concat(e))})),this.readAndSetDetailsPageUrl(t).catch((function(e){return console.error("Error read-n-set Details page URL ".concat(e))}))),this.readAndSetSelectedGuardianAddress(t).catch((function(e){return console.error("Error read-n-set Selected Guardian address ".concat(e))})),this.readAndSetRewardsContractSettings().catch((function(e){return console.error("Error read-n-set Ethereum balance ".concat(e))})),this.readAndSetEthereumBalance(t).catch((function(e){return console.error("Error read-n-set Ethereum balance ".concat(e))}));case 12:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(t){return e.apply(this,arguments)}}()},{key:"readAndSetIsGuardian",value:function(){var e=Object(ee.a)(Z.a.mark((function e(t){var r;return Z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.guardiansService.isRegisteredGuardian(t);case 2:r=e.sent,this.setIsGuardian(r);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"readAndSetGuardianInfo",value:function(){var e=Object(ee.a)(Z.a.mark((function e(t){var r=this;return Z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.guardiansService.readGuardianInfo(t).then((function(e){var t=e.name,a=e.website,n=e.orbsAddr,i=e.ip,o=e.registrationTime,s=e.lastUpdateTime,c={name:t,website:a,ip:oe(i),orbsAddr:n},l={registrationTime:o,lastUpdateTime:s};r.setGuardianInfo(c),r.setGuardianContractInteractionTimes(l)}));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"readAndSetRewardsDistributionFrequency",value:function(){var e=Object(ee.a)(Z.a.mark((function e(t){var r,a;return Z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.guardiansService.readGuardianDistributionFrequencyInSeconds(t);case 2:r=e.sent,a=r/3600,this.setRewardDistributionFrequencyInHours(a);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"readAndSetDelegatorsCut",value:function(){var e=Object(ee.a)(Z.a.mark((function e(t){var r;return Z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.stakingRewardsService.readDelegatorsCutPercentage(t);case 2:r=e.sent,console.log("Setting delegtors cut",r),this.setDelegatorsCutPercentage(r);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"readAndSetDetailsPageUrl",value:function(){var e=Object(ee.a)(Z.a.mark((function e(t){var r;return Z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.guardiansService.readGuardianDetailsPageUrl(t);case 2:r=e.sent,this.setDetailsPageURL(r||void 0);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"readAndSetRewardsContractSettings",value:function(){var e=Object(ee.a)(Z.a.mark((function e(){var t;return Z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.stakingRewardsService.readContractRewardsSettings();case 2:t=e.sent,this.setRewardsContractSettings(t);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"readAndSetGuardianRewardsSettings",value:function(){var e=Object(ee.a)(Z.a.mark((function e(t){var r;return Z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.stakingRewardsService.readGuardianRewardsSettings(t);case 2:r=e.sent,this.setGuardianRewardsSettings(r);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"readAndSetEthereumBalance",value:function(){var e=Object(ee.a)(Z.a.mark((function e(t){var r;return Z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.cryptoWalletConnectionService.readEthereumBalance(t);case 2:r=e.sent,this.setEthereumBalance(r);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"readAndSetSelectedGuardianAddress",value:function(){var e=Object(ee.a)(Z.a.mark((function e(t){var r;return Z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.delegationsService.readDelegation(t);case 2:r=e.sent,this.setSelectedGuardianAddress(r);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"refreshAccountListeners",value:function(){var e=Object(ee.a)(Z.a.mark((function e(t){return Z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.cancelAllCurrentSubscriptions();case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"cancelAllCurrentSubscriptions",value:function(){}},{key:"failLoadingProcess",value:function(e){this.setErrorLoading(!0),this.setDoneLoading(!0)}},{key:"resetTxIndicators",value:function(){this.setTxPending(!1),this.setTxHadError(!1),this.setTxCanceled(!1)}},{key:"setDoneLoading",value:function(e){this.doneLoading=e}},{key:"setErrorLoading",value:function(e){this.errorLoading=e}},{key:"setTxPending",value:function(e){this.txPending=e}},{key:"setTxCanceled",value:function(e){this.txCanceled=e}},{key:"setTxHadError",value:function(e){this.txHadError=e}},{key:"setIsGuardian",value:function(e){this.isGuardian=e}},{key:"setGuardianInfo",value:function(e){this.guardianInfo=e}},{key:"setGuardianContractInteractionTimes",value:function(e){this.guardianContractInteractionTimes=e}},{key:"setRewardDistributionFrequencyInHours",value:function(e){this.rewardDistributionFrequencyInHours=e}},{key:"setRewardsContractSettings",value:function(e){this.rewardsContractSettings=e}},{key:"setGuardianRewardsSettings",value:function(e){this.guardianRewardsSettings=e}},{key:"setDelegatorsCutPercentage",value:function(e){this.delegatorsCutPercentage=e}},{key:"setDetailsPageURL",value:function(e){this.detailsPageUrl=e}},{key:"setGuardianId",value:function(e){this.guardianId=e}},{key:"setEthereumBalance",value:function(e){this.ethBalance=e}},{key:"setSelectedGuardianAddress",value:function(e){this.selectedGuardianAddress=e}},{key:"isUsingDefaultRewardFrequency",get:function(){return this.rewardDistributionFrequencyInHours===ce.GUARDIANS_SERVICE_CONSTANTS.emptyRewardsFrequencyValue}},{key:"isUsingDefaultDelegatorsCutPercentage",get:function(){return this.guardianRewardsSettings.isUsingDefaultRewardsPercent}},{key:"hasGuardianDetailsURL",get:function(){return!!this.detailsPageUrl}},{key:"isDelegatingToOtherAccount",get:function(){return void 0!==this.selectedGuardianAddress&&this.selectedGuardianAddress!==this.cryptoWalletIntegrationStore.mainAddress}},{key:"hasGuardianId",get:function(){return void 0!==this.guardianId}}]),e}(),I=Object(ne.a)(R.prototype,"doneLoading",[J.n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),G=Object(ne.a)(R.prototype,"errorLoading",[J.n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),U=Object(ne.a)(R.prototype,"txPending",[J.n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),E=Object(ne.a)(R.prototype,"txHadError",[J.n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),W=Object(ne.a)(R.prototype,"txCanceled",[J.n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),F=Object(ne.a)(R.prototype,"isGuardian",[J.n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),L=Object(ne.a)(R.prototype,"guardianInfo",[J.n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return le}}),N=Object(ne.a)(R.prototype,"guardianContractInteractionTimes",[J.n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return ue}}),M=Object(ne.a)(R.prototype,"rewardDistributionFrequencyInHours",[J.n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return ce.GUARDIANS_SERVICE_CONSTANTS.emptyRewardsFrequencyValue}}),H=Object(ne.a)(R.prototype,"rewardsContractSettings",[J.n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{maxDelegatorsStakingRewardsPercent:0,defaultDelegatorsStakingRewardsPercent:0}}}),_=Object(ne.a)(R.prototype,"guardianRewardsSettings",[J.n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{isUsingDefaultRewardsPercent:!0,delegatorsStakingRewardsPercent:0}}}),q=Object(ne.a)(R.prototype,"selectedGuardianAddress",[J.n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),B=Object(ne.a)(R.prototype,"delegatorsCutPercentage",[J.n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),V=Object(ne.a)(R.prototype,"detailsPageUrl",[J.n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=Object(ne.a)(R.prototype,"guardianId",[J.n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),K=Object(ne.a)(R.prototype,"ethBalance",[J.n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Object(ne.a)(R.prototype,"isUsingDefaultRewardFrequency",[J.g],Object.getOwnPropertyDescriptor(R.prototype,"isUsingDefaultRewardFrequency"),R.prototype),Object(ne.a)(R.prototype,"isUsingDefaultDelegatorsCutPercentage",[J.g],Object.getOwnPropertyDescriptor(R.prototype,"isUsingDefaultDelegatorsCutPercentage"),R.prototype),Object(ne.a)(R.prototype,"hasGuardianDetailsURL",[J.g],Object.getOwnPropertyDescriptor(R.prototype,"hasGuardianDetailsURL"),R.prototype),Object(ne.a)(R.prototype,"isDelegatingToOtherAccount",[J.g],Object.getOwnPropertyDescriptor(R.prototype,"isDelegatingToOtherAccount"),R.prototype),Object(ne.a)(R.prototype,"hasGuardianId",[J.g],Object.getOwnPropertyDescriptor(R.prototype,"hasGuardianId"),R.prototype),Object(ne.a)(R.prototype,"setDoneLoading",[g],Object.getOwnPropertyDescriptor(R.prototype,"setDoneLoading"),R.prototype),Object(ne.a)(R.prototype,"setErrorLoading",[j],Object.getOwnPropertyDescriptor(R.prototype,"setErrorLoading"),R.prototype),Object(ne.a)(R.prototype,"setTxPending",[f],Object.getOwnPropertyDescriptor(R.prototype,"setTxPending"),R.prototype),Object(ne.a)(R.prototype,"setTxCanceled",[O],Object.getOwnPropertyDescriptor(R.prototype,"setTxCanceled"),R.prototype),Object(ne.a)(R.prototype,"setTxHadError",[m],Object.getOwnPropertyDescriptor(R.prototype,"setTxHadError"),R.prototype),Object(ne.a)(R.prototype,"setIsGuardian",[x],Object.getOwnPropertyDescriptor(R.prototype,"setIsGuardian"),R.prototype),Object(ne.a)(R.prototype,"setGuardianInfo",[v],Object.getOwnPropertyDescriptor(R.prototype,"setGuardianInfo"),R.prototype),Object(ne.a)(R.prototype,"setGuardianContractInteractionTimes",[y],Object.getOwnPropertyDescriptor(R.prototype,"setGuardianContractInteractionTimes"),R.prototype),Object(ne.a)(R.prototype,"setRewardDistributionFrequencyInHours",[w],Object.getOwnPropertyDescriptor(R.prototype,"setRewardDistributionFrequencyInHours"),R.prototype),Object(ne.a)(R.prototype,"setRewardsContractSettings",[C],Object.getOwnPropertyDescriptor(R.prototype,"setRewardsContractSettings"),R.prototype),Object(ne.a)(R.prototype,"setGuardianRewardsSettings",[S],Object.getOwnPropertyDescriptor(R.prototype,"setGuardianRewardsSettings"),R.prototype),Object(ne.a)(R.prototype,"setDelegatorsCutPercentage",[k],Object.getOwnPropertyDescriptor(R.prototype,"setDelegatorsCutPercentage"),R.prototype),Object(ne.a)(R.prototype,"setDetailsPageURL",[D],Object.getOwnPropertyDescriptor(R.prototype,"setDetailsPageURL"),R.prototype),Object(ne.a)(R.prototype,"setGuardianId",[A],Object.getOwnPropertyDescriptor(R.prototype,"setGuardianId"),R.prototype),Object(ne.a)(R.prototype,"setEthereumBalance",[T],Object.getOwnPropertyDescriptor(R.prototype,"setEthereumBalance"),R.prototype),Object(ne.a)(R.prototype,"setSelectedGuardianAddress",[P],Object.getOwnPropertyDescriptor(R.prototype,"setSelectedGuardianAddress"),R.prototype),R);r(649);var be=r(108),pe=r.n(be),he=(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_ETHEREUM_NETWORK,Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_INFURA_KEY),ge={urlBase:Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).PUBLIC_BASE_PATH||"",v2contractsAddressesOverride:{},ETHEREUM_PROVIDER_WS:"wss://mainnet.infura.io/ws/v3/".concat(he),privacyPolicyUrl:"https://www.orbs.com/guardian-portal-privacy-policy/",termsOfUseUrl:"https://www.orbs.com/guardian-portal-terms-of-use/"};var je=r(147),fe=r(713),Oe=r(327),me=r.n(Oe),xe=r(209),ve=r.n(xe),ye="#dbdbdb",we=me()(ve()({palette:{primary:{main:"#09142c"},secondary:{main:"#74f6fd"},text:{primary:ye,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)"},background:{default:"#16317d",paper:"#09142c"},action:{active:ye,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",hover:"rgba(255, 255, 255, 0.08)",selected:"rgba(255, 255, 255, 0.16)"},divider:"rgba(255, 255, 255, 0.12)"},typography:{},overrides:{MuiPaper:{root:{}},MuiTypography:{colorPrimary:{}},MuiLink:{root:{}}}})),Ce=r(81);Object(J.h)({enforceActions:"observed"});var Se=function(e){var t,r,a,n;return n=e?new pe.a(e):new pe.a(new pe.a.providers.WebsocketProvider(ge.ETHEREUM_PROVIDER_WS)),{cryptoWalletIntegrationService:new ce.CryptoWalletConnectionService(e),guardiansService:new ce.GuardiansService(n,null===ge||void 0===ge||null===(t=ge.v2contractsAddressesOverride)||void 0===t?void 0:t.guardiansRegistration),stakingRewardsService:new ce.StakingRewardsService(n,null===ge||void 0===ge||null===(r=ge.v2contractsAddressesOverride)||void 0===r?void 0:r.stakingRewards),delegationsService:new ce.DelegationsService(n,null===ge||void 0===ge||null===(a=ge.v2contractsAddressesOverride)||void 0===a?void 0:a.delegations)}}(window.ethereum),ke=function(e,t,r,a){var n=new ie(e);return{cryptoWalletIntegrationStore:n,orbsAccountStore:new de(n,t,r,a,e)}}(Se.cryptoWalletIntegrationService,Se.guardiansService,Se.stakingRewardsService,Se.delegationsService),De=i.a.memo((function(e){console.log("Wrapper render");var t=e.appComponent;return Object(a.jsx)(X.a,{children:Object(a.jsx)($.b,Object(Y.a)(Object(Y.a)(Object(Y.a)({},ke),Se),{},{children:Object(a.jsx)(je.b,{injectFirst:!0,children:Object(a.jsx)(fe.a,{theme:we,children:Object(a.jsx)(Ce.a,{maxSnack:3,children:t})})})}))})})),Ae=r(721),Te=r(27),Pe=r(214),Re=r(712),Ie=r(714),Ge=r(733),Ue=r(155),Ee=r(43),We=r(5),Fe=Object(Re.a)((function(e){return{link:{transition:"0.5s",color:e.palette.secondary.light,"&:hover":{color:e.palette.secondary.dark}},linkFaded:{color:e.palette.text.disabled}}})),Le=i.a.memo((function(e){var t=Fe(),r=e.text,n=e.href,i=e.shouldfade,o=Object(Ee.a)(e,["text","href","shouldfade"]);return Object(a.jsx)("a",Object(Y.a)(Object(Y.a)({className:Object(We.a)(t.link,i?t.linkFaded:null),href:n||"",target:"_blank",rel:"noopener noreferrer"},o),{},{children:r}))})),Ne=i.a.memo((function(e){var t=e.value,r=e.onValueChange,n=Object(Ue.renderToString)(Object(a.jsx)(fe.a,{theme:we,children:Object(a.jsxs)(Pe.a,{style:{textAlign:"start"},children:["I agree to the"," ",Object(a.jsx)(Le,{href:ge.termsOfUseUrl,text:"Terms of Use"})," and"," ",Object(a.jsx)(Le,{href:ge.privacyPolicyUrl,text:"Privacy Policy"})]})}));return Object(a.jsx)(Ie.a,{style:{marginTop:"0.5rem"},control:Object(a.jsx)(Ge.a,{checked:t,onChange:function(e){return r(e.target.checked)},name:"legalTicker"}),label:Object(a.jsx)(Pe.a,{dangerouslySetInnerHTML:{__html:n}})})})),Me=r(110),He=r.n(Me),_e=Object(Re.a)((function(e){return{boldText:{fontWeight:"bold",display:"contents",color:e.palette.secondary.main}}})),qe=i.a.memo((function(e){var t=e.children,r=_e();return Object(a.jsx)("div",{className:r.boldText,children:t})})),Be=He()((function(e){return{container:{display:"flex",flexDirection:"column",alignItems:"flex-start",textAlign:"start",padding:"0.5em"},textsList:{listStylePosition:"outside",paddingLeft:"1.5rem","& li":{margin:"0 0 0.2rem 0"},"& li:last-child":{margin:0}}}})),Ve=i.a.memo((function(e){var t=Be(),r=e.conceptName,n=e.details,i=e.caption,o=Object(Ee.a)(e,["conceptName","details","caption"]);return Object(a.jsxs)("div",Object(Y.a)(Object(Y.a)({className:t.container},o),{},{children:[Object(a.jsxs)(Pe.a,{children:["Your ",Object(a.jsxs)(qe,{children:[r,":"]})]}),Object(a.jsx)("ul",{className:t.textsList,children:n.map((function(e){return Object(a.jsx)("li",{children:Object(a.jsx)(Pe.a,{variant:i?"caption":"body2",children:e})},e.toString())}))})]}))})),ze=["Represents the Guardian in the Guardians list","Used by Delegators to delegate to the Guardian","Holds the Guardian's self-delegated stake","Receives the Guardians rewards"],Ke=[Object(a.jsxs)(a.Fragment,{children:["Should be different from the ",Object(a.jsx)(qe,{children:"Guardian address"})]}),"Used by the node to sign blocks on Orbs blockchain","Holds ETH for node automated transactions gas","A minimal balance of 1 ETH is required upon registration","Does NOT hold your Guardian ORBS tokens"],Ye=i.a.memo((function(e){var t=e.value,r=e.onValueChange,n=Object(Ue.renderToString)(Object(a.jsx)(fe.a,{theme:we,children:Object(a.jsx)(Pe.a,{children:"I confirm that I am not a citizen, resident of, or otherwise located in any of the following:"})}));return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(Ie.a,{style:{marginTop:"0.5rem"},control:Object(a.jsx)(Ge.a,{checked:t,onChange:function(e){return r(e.target.checked)},name:"legalTicker"}),label:Object(a.jsx)(Pe.a,{style:{textAlign:"start"},dangerouslySetInnerHTML:{__html:n}})}),Object(a.jsxs)("ul",{children:[Object(a.jsx)("li",{children:Object(a.jsx)(Pe.a,{style:{textAlign:"start"},children:"The State of Israel."})}),Object(a.jsx)("li",{children:Object(a.jsx)(Pe.a,{style:{textAlign:"start"},children:"Any country or region subject to comprehensive sanctions, including, but not limited to, the Crimean region of Ukraine, Cuba, Iran, Lebanon, North Korea, Sudan and Syria."})})]})]})})),Xe=r(716),$e=He()((function(e){return{actionButton:{color:e.palette.secondary.light,borderColor:e.palette.secondary.main,transition:"background-color 0.4s linear, color 0.2s linear","&:hover":{backgroundColor:e.palette.secondary.light,color:e.palette.getContrastText(e.palette.secondary.light),borderColor:e.palette.getContrastText(e.palette.secondary.light)}},actionButtonError:{color:e.palette.error.light,borderColor:e.palette.error.main,transition:"background-color 0.4s linear, color 0.2s linear","&:hover":{backgroundColor:e.palette.error.light,color:e.palette.getContrastText(e.palette.error.light),borderColor:e.palette.getContrastText(e.palette.error.light)}},actionButtonWarning:{color:e.palette.warning.light,borderColor:e.palette.warning.main,transition:"background-color 0.4s linear, color 0.2s linear","&:hover":{backgroundColor:e.palette.warning.light,color:e.palette.getContrastText(e.palette.warning.light),borderColor:e.palette.getContrastText(e.palette.warning.light)}}}})),Je=i.a.memo((function(e){var t=e.children,r=e.fullWidth,n=e.errorVariant,i=e.warningVariant,o=Object(Ee.a)(e,["children","fullWidth","errorVariant","warningVariant"]),s=$e();return Object(a.jsx)(Xe.a,Object(Y.a)(Object(Y.a)({className:n?s.actionButtonError:i?s.actionButtonWarning:s.actionButton,variant:"outlined",fullWidth:void 0===r||r,type:"submit"},o),{},{children:t}))})),Qe=Object(Re.a)((function(e){return{noEthereumProviderSection:{display:"flex",flexDirection:"column",alignItems:"center",textAlign:"center",padding:"2em",backgroundColor:"rgba(0,0,0, 0.2)",borderRadius:"5%",width:"fit-content",maxWidth:"90%",boxSizing:"border-box"}}})),Ze=i.a.memo((function(e){var t=Qe(),r=e.walletConnectionPhase,i=e.actionFunction,o=(e.pressedOnInstall,e.isMetaMaskProvider),s=Object(n.useState)(!1),c=Object(Te.a)(s,2),l=c[0],u=c[1],d=Object(n.useState)(!1),b=Object(Te.a)(d,2),p=b[0],h=b[1],g="connect"===r,j=l&&p,f=Object(n.useMemo)((function(){return{shouldDisplayLegalTicker:g,hasExtraDetailsSection:g,buttonIsEnabled:!g||j,isInstall:"install"===r}}),[g,j,r]),O=f.shouldDisplayLegalTicker,m=f.isInstall,x=f.buttonIsEnabled,v=f.hasExtraDetailsSection,y=Object(n.useMemo)((function(){return{titleText:m?"No Ethereum provider detected":"".concat(o?"MetaMask":"Account"," connection required"),subTitleText:m?"you should install MetaMask and refresh the page":Object(a.jsxs)(a.Fragment,{children:["To begin, please connect with your"," ",Object(a.jsx)(qe,{children:"Guardian address."})]}),buttonText:"install"===r?"Install":"Connect"}}),[m,o,r]),w=y.titleText,C=y.buttonText,S=y.subTitleText;return Object(a.jsxs)("div",{className:t.noEthereumProviderSection,children:[Object(a.jsx)(Pe.a,{style:{marginBottom:"0.5rem"},variant:"h4",children:w}),Object(a.jsx)(Pe.a,{style:{marginBottom:"1rem"},children:S}),v&&Object(a.jsx)(Ve,{conceptName:"Guardian Address",details:ze}),Object(a.jsx)(Je,{fullWidth:!1,onClick:i,disabled:!x,children:C}),Object(a.jsxs)("div",{style:{width:"min(30rem, 100%)",display:"flex",flexDirection:"column",alignItems:"flex-start"},children:[O&&Object(a.jsx)(Ne,{value:l,onValueChange:u}),O&&Object(a.jsx)(Ye,{value:p,onValueChange:h})]})]})})),et=r(734),tt=r(717),rt=r(718),at=r(79),nt=r.n(at),it=Object(Re.a)((function(e){return{centeredContainer:{display:"flex",flexDirection:"column",alignItems:"center",height:"100%"}}})),ot=i.a.memo((function(e){var t=it(),r=nt()(),n=Object(tt.a)(r.breakpoints.down("sm"));return Object(a.jsx)(rt.a,Object(Y.a)({className:t.centeredContainer,component:"div",disableGutters:n},e))})),st=r(719),ct=r(720),lt=Object(Re.a)((function(e){return{appBar:{height:"".concat(5,"rem"),paddingTop:"0.5rem",paddingBottom:"0.5rem",boxSizing:"border-box"},title:{flexGrow:1,textAlign:"center",marginTop:"1em",marginBottom:"1em"}}})),ut=i.a.memo((function(e){var t=lt();return Object(a.jsx)(st.a,{className:t.appBar,position:"fixed",children:Object(a.jsx)(ct.a,{children:Object(a.jsx)("div",{className:t.title,children:Object(a.jsx)(Pe.a,{variant:"h5",children:"ORBS Guardians Portal"})})})})})),dt=Object(Re.a)((function(e){return{page:{display:"flex",flexDirection:"column",alignItems:"center",width:"100%",maxWidth:"100%",boxSizing:"border-box",padding:"2em",height:"100%"},backdrop:{zIndex:e.zIndex.drawer+1,color:"#fff"}}})),bt=i.a.memo((function(e){var t=e.children,r=Object(Ee.a)(e,["children"]),n=dt();return Object(a.jsxs)("div",Object(Y.a)(Object(Y.a)({className:n.page},r),{},{children:[Object(a.jsx)(ct.a,{}),t]}))})),pt=Object(Re.a)((function(e){return{app:{minHeight:"100%",flex:1,backgroundColor:"#06142e",backgroundRepeat:"repeat-y",backgroundImage:"url(https://www.orbs.com/wp-content/uploads/2019/02/technology-background1.png)",backgroundAttachment:"scroll",backgroundPosition:"top center"}}})),ht=i.a.memo((function(e){var t=pt(),r=Object(et.a)(!1),i=Object(n.useCallback)((function(){window.open("https://metamask.io/","_blank"),r.setTrue()}),[r]);return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(ut,{}),Object(a.jsxs)("main",{className:t.app,children:[Object(a.jsx)(ot,{id:"appContainer",children:Object(a.jsx)(bt,{children:Object(a.jsx)(Ze,{walletConnectionPhase:"install",actionFunction:i})})}),Object(a.jsx)(Ae.a,{})]})]})})),gt=r(33);function jt(){return i.a.useContext($.a)}function ft(){return jt().cryptoWalletIntegrationStore}function Ot(){return jt().orbsAccountStore}var mt=Object(Re.a)((function(e){return{contentFitter:{height:"100%",width:"fit-content",maxWidth:"100%"}}})),xt=i.a.memo((function(e){var t=mt(),r=e.children,n=Object(Ee.a)(e,["children"]);return Object(a.jsx)("div",Object(Y.a)(Object(Y.a)({className:t.contentFitter},n),{},{children:r}))})),vt=i.a.memo((function(e){return Object(a.jsx)(bt,{children:Object(a.jsx)(xt,{children:Object(a.jsx)(Pe.a,{children:"Error loading"})})})})),yt=i.a.memo((function(e){return Object(a.jsx)(bt,{children:Object(a.jsx)(xt,{children:Object(a.jsx)(Pe.a,{children:"Loading..."})})})})),wt=r(737),Ct=r(335),St=r(684),kt=r(723),Dt=r(722),At=r(50),Tt=r(731),Pt=r(82),Rt=Object(Re.a)((function(e){return{helperText:{color:e.palette.secondary.main},textsList:{listStylePosition:"outside",paddingLeft:"1rem"}}})),It=i.a.memo((function(e){var t=Rt(),r=e.helperTexts;e.header,r.length;return Object(a.jsx)(a.Fragment,{children:Object(a.jsx)("ul",{className:t.textsList,children:r.map((function(e,r){return Object(a.jsx)(i.a.Fragment,{children:Object(a.jsx)("li",{id:r.toString(),className:t.helperText,children:Object(a.jsx)(Pe.a,{style:{wordWrap:"break-word"},variant:"caption",children:e})},e.toString())},"fragment_".concat(e))}))})})}));function Gt(e){return!!new RegExp("^(https?:\\/\\/)?((([a-z\\d]([a-z\\d-]*[a-z\\d])*)\\.)+[a-z]{2,}|((\\d{1,3}\\.){3}\\d{1,3}))(\\:\\d+)?(\\/[-a-z\\d%_.~+]*)*(\\?[;&a-z\\d%_.~+=-]*)?(\\#[-a-z\\d_]*)?$","i").test(e)}var Ut=/^0x[a-fA-F0-9]{40}$/,Et=/^(([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])\.){3}([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])$/,Wt=["The name that the Guardian will be recognized by."],Ft=["The Guardian website is used by Delegators when selecting a Guardian."],Lt=["A valid IPv4 address is required to allow the Guardian\u2019s node to connect to the network gossip topology."],Nt=[Object(a.jsxs)(a.Fragment,{children:["Should be different from the"," ",Object(a.jsx)("div",{style:{display:"contents",fontWeight:"bold"},children:"Guardian address"}),"."]}),"Used by the Orbs node to automatically send transactions such as ReadyForCommittee.","Used to sign blocks on Orbs platform.","Should hold ETH for the automated transactions gas (A minimal balance of 1 Ether at the 'Node Address' is required in order to register as a guardian).","The Orbs Node address should differ from the Guardian address."],Mt=Object(Re.a)((function(e){return{form:{maxWidth:"100%",width:"100%"},textField:{"& label.Mui-focused":{color:"#f5f5f5"}}}})),Ht=i.a.memo((function(e){var t=Mt(),r=e.guardianInitialInfo,i=e.submitInfo,o=e.actionButtonTitle,s=e.disableSubmit,c=e.messageForSubmitButton,l=Object(Ee.a)(e,["guardianInitialInfo","submitInfo","actionButtonTitle","disableSubmit","messageForSubmitButton"]),u=Object(Pt.a)(),d=u.register,b=u.handleSubmit,p=u.errors,h=Object(Dt.a)(r.name),g=Object(Dt.a)(r.website),j=Object(Dt.a)(r.ip),f=Object(Dt.a)(r.orbsAddr),O=!!p.nodeAddress,m=!!p.ipAddress,x=!!p.website,v=h.setValue,y=g.setValue,w=j.setValue,C=f.setValue;Object(n.useEffect)((function(){r&&(console.log("Re-setting data"),v(r.name),y(r.website),w(r.ip),C(r.orbsAddr))}),[r,w,v,C,y]);var S=Object(At.a)(),k=Object(tt.a)(S.breakpoints.down("xs"));console.log(k);Object(n.useCallback)((function(e,t,r){var n;return r&&(n=Object(a.jsx)(It,{helperTexts:r})),e&&t&&(n=t),n}),[]);var D=Object(n.useCallback)((function(e){var t={ip:e.ipAddress,orbsAddr:e.nodeAddress,name:e.name,website:e.website};i(t)}),[i]);return Object(a.jsxs)("form",Object(Y.a)(Object(Y.a)({onSubmit:b((function(e){return D(e)})),className:t.form},l),{},{children:[Object(a.jsx)(Tt.a,{InputLabelProps:{style:{pointerEvents:"auto"}},name:"name",label:"Guardian name",placeholder:"e.g: Number One ORBS Guardian",title:Wt[0],value:h.value,onChange:function(e){return h.setValue(e.target.value)},required:!0,inputRef:d,fullWidth:!0,className:t.textField,autoFocus:!0}),Object(a.jsx)("br",{}),Object(a.jsx)(Tt.a,{fullWidth:!0,name:"website",label:"Guardian website",placeholder:"e.g: https://www.number1guardian.com",title:Ft[0],helperText:x&&"Please use a valid URL",value:g.value,onChange:function(e){return g.setValue(e.target.value)},required:!0,error:x,inputRef:d({validate:Gt}),className:t.textField}),Object(a.jsx)("br",{}),Object(a.jsx)(Tt.a,{fullWidth:!0,name:"ipAddress",label:"Node IP",placeholder:"e.g: 123.17.46.251",title:Lt[0],value:j.value,onChange:function(e){return j.setValue(e.target.value)},required:!0,inputRef:d({pattern:Et}),error:m,helperText:m&&"Please use a valid IPV4 address",className:t.textField}),Object(a.jsx)("br",{}),Object(a.jsx)(Tt.a,{name:"nodeAddress",label:"Node address",placeholder:"e.g: 0x0cBb46287c93357be4CF60fe9601c2c7A2700dC2",title:Nt[1],value:f.value,onChange:function(e){return f.setValue(e.target.value)},error:O,helperText:O&&"Please use a valid address",required:!0,inputRef:d({pattern:Ut}),fullWidth:!0,className:t.textField}),Object(a.jsx)("br",{}),Object(a.jsx)("br",{}),Object(a.jsx)(Je,{type:"submit",disabled:s,children:o}),Object(a.jsx)("br",{}),Object(a.jsx)("br",{}),c&&Object(a.jsx)(Pe.a,{variant:"body2",color:"error",style:{width:"fit-content"},children:c})]}))})),_t=r(736),qt=r(331),Bt=r.n(qt),Vt=Object(Re.a)((function(e){return{container:{padding:"0.5rem 0",display:"flex",flexDirection:"column",flexWrap:"wrap",justifyItems:"center",justifyContent:"center"}}})),zt=i.a.memo((function(e){var t=Vt(),r=e.children;return Object(a.jsx)("div",{className:t.container,children:r})})),Kt=i.a.memo((function(e){return Object(a.jsxs)(zt,{children:[Object(a.jsx)(qe,{children:"Please Notice:"}),Object(a.jsx)(Ve,{conceptName:"Guardian Address",details:ze}),Object(a.jsx)(Ve,{conceptName:"Node Address",details:Ke})]})})),Yt=Object(Re.a)((function(e){return{avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main,marginLeft:"auto",marginRight:"auto"},boldText:{fontWeight:"bold",display:"contents"}}})),Xt={orbsAddr:"",ip:"",website:"",name:""},$t=i.a.memo((function(e){var t=Yt(),r=e.guardianAddress,i=e.registerGuardian,o=e.cryptoWalletConnectionService,s=(nt()(),Object(n.useState)(void 0)),c=Object(Te.a)(s,2),l=c[0],u=c[1],d=Object(n.useCallback)(function(){var e=Object(ee.a)(Z.a.mark((function e(t){return Z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.orbsAddr.toLowerCase()!==r.toLowerCase()){e.next=3;break}return u("Your Orbs node address cannot be the same as your Guardian address ".concat(r)),e.abrupt("return");case 3:return e.next=5,o.readEthereumBalance(t.orbsAddr);case 5:if(!(e.sent<1)){e.next=9;break}return u("A minimal balance of 1 Ether at the 'Node Address' is required in order to register as a guardian."),e.abrupt("return");case 9:i(t);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[o,r,i]);return Object(a.jsxs)("div",{id:"RegisterGuardianSection",style:{display:"flex",flexDirection:"column",alignItems:"center",width:"min-content",maxWidth:"100%"},children:[Object(a.jsx)(_t.a,{className:t.avatar,children:Object(a.jsx)(Bt.a,{})}),Object(a.jsxs)("div",{style:{maxWidth:"100%",textAlign:"center"},children:[Object(a.jsx)(Pe.a,{variant:"h5",children:"Guardian Registration"}),Object(a.jsxs)(Pe.a,{variant:"h6",children:["Your ",Object(a.jsx)("div",{className:t.boldText,children:"Guardian address "}),"is:"]}),Object(a.jsx)(Pe.a,{style:{textOverflow:"ellipsis",overflow:"hidden"},children:r})]}),Object(a.jsx)(Kt,{}),Object(a.jsx)(Ht,{submitInfo:d,guardianInitialInfo:Xt,actionButtonTitle:"Register",messageForSubmitButton:l})]})}));function Jt(){var e=i.a.useContext($.a);if(!e)throw new Error("Tried to use services before initialising them");return e}function Qt(){return Jt().cryptoWalletIntegrationService}var Zt=Object(Re.a)((function(e){return{backdrop:{zIndex:e.zIndex.drawer+1,color:"#fff"}}})),er=i.a.memo((function(e){var t=Zt(),r=nt()(),i=Object(Ce.b)().enqueueSnackbar,o=Qt(),s=ft(),c=Ot(),l=Object(n.useCallback)(function(){var e=Object(ee.a)(Z.a.mark((function e(t){return Z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,c.registerGuardian(t);case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),i("Error in 'Guardian Registration' TX ".concat(e.t0.message),{variant:"error"});case 8:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(t){return e.apply(this,arguments)}}(),[i,c]),u=Object(n.useCallback)(Object(ee.a)(Z.a.mark((function e(){return Z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,c.unDelegateCurrentDelegation();case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),i("Error in 'un-delegating' TX ".concat(e.t0.message),{variant:"error"});case 8:case"end":return e.stop()}}),e,null,[[0,5]])}))),[i,c]);return console.log("Delegating to someone else: ",c.isDelegatingToOtherAccount),Object(a.jsx)(bt,{children:Object(a.jsxs)(xt,{children:[Object(a.jsxs)("div",{style:{display:"flex",maxWidth:"100%"},children:[c.isDelegatingToOtherAccount&&Object(a.jsxs)(wt.a,{component:Ct.a,p:2,m:2,style:{maxWidth:"100%",textAlign:"center",border:"1px dashed ".concat(r.palette.secondary.main),overflowX:"hidden"},children:[Object(a.jsx)(Pe.a,{style:{fontWeight:"bold",color:r.palette.warning.dark,textDecoration:"underline"},children:"Please note"}),Object(a.jsx)("br",{}),Object(a.jsxs)(Pe.a,{style:{fontWeight:"bold"},children:["Connected with address"," "]}),Object(a.jsx)(Pe.a,{color:"secondary",noWrap:!0,style:{textOverflow:"ellipsis"},children:s.mainAddress}),Object(a.jsx)("br",{}),Object(a.jsx)(Pe.a,{style:{fontWeight:"bold"},children:"This address is currently delegating to"}),Object(a.jsx)(Pe.a,{color:"secondary",noWrap:!0,style:{textOverflow:"ellipsis"},children:c.selectedGuardianAddress}),Object(a.jsx)("br",{}),Object(a.jsx)(Pe.a,{variant:"body2",children:"Prior to registering as a Guardian this delegation needs to be cancelled."}),Object(a.jsx)("br",{}),Object(a.jsx)(Je,{onClick:u,children:" Undelegate "})]}),!c.isDelegatingToOtherAccount&&Object(a.jsx)($t,{registerGuardian:l,guardianAddress:s.mainAddress,cryptoWalletConnectionService:o})]}),Object(a.jsx)(St.a,{className:t.backdrop,open:c.txPending,children:Object(a.jsx)(kt.a,{color:"inherit"})})]})})})),tr=r(732),rr=r(729),ar=(r(332),Object(Re.a)((function(e){return{textField:{"& label.Mui-focused":{color:"#f5f5f5"}}}}))),nr=i.a.memo((function(e){var t=ar(),r=e.currentGuardianDetailsUrl,i=e.updateGuardianDetailsUrl,o=e.hasGuardianDetailsUrl,s=e.detailsRequirementsLink,c=Object(a.jsxs)(Pe.a,{component:"span",variant:"caption",children:["Setting a URL to your details page is a prerequisite for joining the"," ",Object(a.jsx)(Le,{text:"certified committee",href:s})]}),l=(Object(et.a)(!1),Object(Pt.a)()),u=l.register,d=l.handleSubmit,b=!!l.errors.guardianDetailsUrl,p=Object(Dt.a)(""),h=Object(n.useCallback)((function(e){i(e.guardianDetailsUrl)}),[i]),g=p.setValue;Object(n.useEffect)((function(){g(r||"")}),[g,r]);Object(n.useMemo)((function(){return o?Object(a.jsxs)(Pe.a,{component:"span",children:["Your details page :"," ",Object(a.jsx)(Le,{href:(null===r||void 0===r?void 0:r.startsWith("http"))?r:"http://"+r,text:r})]}):"You have not set your details page URL"}),[r,o]);return Object(a.jsxs)("form",{style:{maxWidth:"100%",width:"100%",display:"relative"},onSubmit:d(h),children:[Object(a.jsx)(Tt.a,{fullWidth:!0,name:"guardianDetailsUrl",title:"Certified Committee URL",label:"Certified Committee URL",value:p.value,onChange:function(e){p.setValue(e.target.value||"")},required:!0,inputRef:u({validate:Gt}),error:b,helperText:b?"Please use a valid URL":c,className:t.textField,autoFocus:!0}),Object(a.jsx)("br",{}),Object(a.jsx)("br",{}),Object(a.jsx)(Je,{type:"submit",children:"Update your Certified Committee URL"})]})})),ir=(Object(Re.a)((function(e){return{avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main,marginLeft:"auto",marginRight:"auto"}}})),"https://github.com/orbs-network/validator-instructions/blob/master/public/certified_committee.md"),or=Object(Re.a)((function(e){return{title:{transition:"0.5s",fontWeight:"bold"},titleHighlight:{color:e.palette.secondary.light},titleFade:{color:e.palette.text.disabled},value:{transition:"0.5s"},valueHighlight:{color:e.palette.secondary.main},valueFade:{color:e.palette.text.disabled}}})),sr=i.a.memo((function(e){or();var t=e.guardianAddress,r=e.guardianInfo,i=e.delegatorsShare,o=e.guardianCertificationUrl,s=e.highlightInfo,c=e.highlightDelegatorsShare,l=e.highlightCertificateUrl,u=Object(Ee.a)(e,["guardianAddress","guardianInfo","delegatorsShare","guardianCertificationUrl","highlightInfo","highlightDelegatorsShare","highlightCertificateUrl"]),d=s||c||l,b=i.isUsingDefaultValue?" (using default value)":null,p=Object(n.useMemo)((function(){var e;return o.hasGuardianDetailsUrl?Object(a.jsx)(Pe.a,{component:"span",children:Object(a.jsx)(Le,{href:(null===(e=o.currentGuardianDetailsUrl)||void 0===e?void 0:e.startsWith("http"))?o.currentGuardianDetailsUrl:"http://"+o.currentGuardianDetailsUrl,text:o.currentGuardianDetailsUrl,shouldfade:!l&&d})}):"You have not set your details page URL"}),[o.currentGuardianDetailsUrl,o.hasGuardianDetailsUrl,l,d]);return Object(a.jsxs)(Ct.a,Object(Y.a)(Object(Y.a)({elevation:3},u),{},{style:{padding:"1.5rem",maxWidth:"100%",width:"30rem",overflow:"hidden"},children:[Object(a.jsx)(cr,{title:"Guardian address : ",value:t,shouldfade:d}),Object(a.jsx)("br",{}),Object(a.jsx)(cr,{title:"Guardian name : ",value:r.name,shouldHighlight:s,shouldfade:!s&&d}),Object(a.jsx)("br",{}),Object(a.jsx)(cr,{title:"Guardian website : ",value:Object(a.jsx)(Le,{text:r.website,href:r.website,shouldfade:!s&&d}),shouldHighlight:s,shouldfade:!s&&d}),Object(a.jsx)("br",{}),Object(a.jsx)(cr,{title:"Node IP : ",value:r.ip,shouldHighlight:s,shouldfade:!s&&d}),Object(a.jsx)("br",{}),Object(a.jsx)(cr,{title:"Node address : ",value:r.orbsAddr,shouldHighlight:s,shouldfade:!s&&d}),Object(a.jsx)("br",{}),Object(a.jsx)(cr,{title:"Delegators share".concat(b," : "),value:"".concat(i.isUsingDefaultValue?i.defaultValue:i.value," %"),shouldHighlight:c,shouldfade:!c&&d}),Object(a.jsx)("br",{}),Object(a.jsx)(cr,{title:Object(a.jsxs)(a.Fragment,{children:["Guardian details URL (",Object(a.jsx)(Le,{text:"Certified Committee",href:ir,shouldfade:!l&&d}),") :"]}),value:p,shouldHighlight:l,shouldfade:!l&&d})]}))})),cr=i.a.memo((function(e){var t=e.title,r=e.value,n=e.shouldHighlight,i=e.shouldfade,o=or();return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(Pe.a,{className:Object(We.a)(o.title,n?o.titleHighlight:null,i?o.titleFade:null),children:t}),Object(a.jsx)(Pe.a,{className:Object(We.a)(o.value,n?o.valueHighlight:null,i?o.valueFade:null),children:r})]})})),lr=Object(Re.a)((function(e){return{textField:{"& label.Mui-focused":{color:"#f5f5f5"}},openUnregisterMenuButton:{color:e.palette.warning.main,borderColor:e.palette.warning.main},closeUnregisterMenuButton:{color:e.palette.secondary.main,borderColor:e.palette.secondary.main},unregisterButton:{color:e.palette.error.main,borderColor:e.palette.error.main}}})),ur=i.a.memo((function(e){lr();var t=e.unregisterGuardian,r=(Object(et.a)(!1),Object(Pt.a)()),i=(r.register,r.handleSubmit),o=(r.errors,Object(n.useCallback)((function(e){t()}),[t]));return Object(a.jsx)("form",{style:{maxWidth:"100%",width:"100%"},onSubmit:i(o),children:Object(a.jsx)(Je,{type:"submit",errorVariant:!0,children:"Unregister"})})})),dr=r(724),br=r(725),pr=r(726),hr=r(727),gr=r(728),jr=He()((function(e){return{dialogPaper:{"& .MuiDialog-paper":{border:"4px double ".concat(e.palette.secondary.main),boxShadow:"none",minWidth:"20rem",maxWidth:"100%"}},button:{minWidth:"6rem"}}})),fr=i.a.memo((function(e){var t=jr(),r=e.open,n=e.onAccept,i=e.onCancel,o=e.title,s=e.contentText,c=e.instructionText,l=e.acceptText,u=e.cancelText;Object(At.a)();return Object(a.jsxs)(dr.a,{className:t.dialogPaper,fullScreen:!1,open:r,onClose:i,"aria-labelledby":"action-confirmation-dialog",maxWidth:"xs",style:{},children:[Object(a.jsx)(br.a,{id:"action-confirmation-dialog-title",children:o}),s&&Object(a.jsx)(pr.a,{children:Object(a.jsx)(hr.a,{children:Object(a.jsx)(Pe.a,{children:s})})}),Object(a.jsx)(pr.a,{children:Object(a.jsx)(hr.a,{children:Object(a.jsx)(Pe.a,{variant:"body2",children:c})})}),Object(a.jsxs)(gr.a,{children:[Object(a.jsx)(Xe.a,{className:t.button,autoFocus:!0,onClick:i,color:"secondary",variant:"contained",children:u||"Cancel"}),Object(a.jsx)(Xe.a,{className:t.button,onClick:n,color:"secondary",autoFocus:!0,variant:"contained",children:l||"Accept"})]})]})})),Or=r(735),mr=Object(Re.a)((function(e){return{textField:{"& label.Mui-focused":{color:"#f5f5f5"}}}})),xr=i.a.memo((function(e){var t=mr(),r=e.currentDelegatorsCut,i=e.updateDelegatorsCut,o=e.isUsingDefaultValue,s=e.delegatorsCutDefaultValue,c=e.delegatorsCutMaxValue,l="Valid values are between 0 and ".concat(c),u=(Object(et.a)(!1),Object(Pt.a)()),d=u.register,b=u.handleSubmit,p=u.errors,h=Object(Or.a)(Math.min(r||0,66),{upperLimit:c}),g=!!p.delegatorsCut,j=Object(n.useCallback)((function(e){i(parseFloat(e.delegatorsCut))}),[i]),f=h.setValue;Object(n.useEffect)((function(){f(Math.min(r||0,c))}),[r,c,f]),console.log({currentDelegatorsCut:r});Object(n.useMemo)((function(){return o?"Current share : Default value (".concat(s,"%)"):"Current share : ".concat(r,"%")}),[r,s,o]);return Object(a.jsxs)("form",{style:{maxWidth:"100%",width:"100%",display:"relative"},onSubmit:b(j),children:[Object(a.jsx)(Tt.a,{fullWidth:!0,name:"delegatorsCut",title:"Delegators share (% out of staking rewards)",label:"Delegators share (% out of staking rewards)",value:h.value,inputProps:{step:1},onChange:function(e){h.setValue(parseFloat(e.target.value)||0)},required:!0,type:"number",inputRef:d({max:c}),error:g,helperText:g?l:"The percentage of the staking rewards that is distributed to your Delegators, between 0% and ".concat(c,"%"),InputProps:{startAdornment:"%"},className:t.textField,autoFocus:!0}),Object(a.jsx)("br",{}),Object(a.jsx)("br",{}),Object(a.jsx)(Je,{type:"submit",fullWidth:!0,children:"Update Delegators share"})]})})),vr=Object(Re.a)((function(e){return{formWrapper:{padding:"1.5rem",maxWidth:"100%",overflow:"hidden",width:"30rem",transition:"0.7s",border:"2px dashed rgba(0,0,0,0)","&:focus-within, &:hover":{border:"2px dashed ".concat(e.palette.secondary.dark)}}}})),yr=i.a.memo((function(e){var t=vr(),r=e.children;return Object(a.jsx)(Ct.a,{elevation:3,className:t.formWrapper,children:r})})),wr=Object(Re.a)((function(e){return{backdrop:{zIndex:e.zIndex.drawer+1,color:"#fff"},tab:{transition:"0.5s",color:e.palette.secondary.dark,opacity:.5,"&:hover":{},"&.MuiTab-textColorPrimary.Mui-selected":{fontWeight:"bold",color:e.palette.secondary.main,opacity:1}},tabPanel:{maxWidth:"100%",overflow:"hidden"}}})),Cr="info",Sr="editInfo",kr="delegatorsShare",Dr="certificate",Ar="unregister",Tr=Object($.c)((function(e){var t=wr(),r=nt()(),o=Object(Ce.b)().enqueueSnackbar,s=ft(),c=Ot(),l=Object(n.useState)(!1),u=Object(Te.a)(l,2),d=u[0],b=u[1],p=Object(n.useState)((function(){return function(){return console.log("Accepted")}})),h=Object(Te.a)(p,2),g=h[0],j=h[1],f=Object(n.useState)({title:"",content:"",instruction:""}),O=Object(Te.a)(f,2),m=O[0],x=O[1],v=Object(n.useCallback)(function(){var e=Object(ee.a)(Z.a.mark((function e(t){return Z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:x({title:"Update your Details",instruction:"Please press 'Accept' and confirm the transaction",onCancelMessage:"Action canceled"}),b(!0),j((function(){return Object(ee.a)(Z.a.mark((function e(){return Z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,c.updateGuardianInfo(t);case 3:e.sent&&o("Guardian details successfully updated",{variant:"success"}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),o("Error in 'Guardian Details Update' TX ".concat(e.t0.message),{variant:"error"});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[o,c]),y=Object(n.useCallback)(function(){var e=Object(ee.a)(Z.a.mark((function e(t){return Z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:x({title:"Update Delegators share",content:"Your Delegator's share will change to to ".concat(t.toLocaleString(),"%"),instruction:"Please press 'Accept' and confirm the transaction",onCancelMessage:"Action canceled"}),b(!0),j((function(){return Object(ee.a)(Z.a.mark((function e(){return Z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,c.writeGuardianDelegatorsCutPercentage(t);case 3:e.sent&&o("Delegators share successfully updated",{variant:"success"}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),o("Error in 'Delegators share percentage Update' TX ".concat(e.t0.message),{variant:"error"});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[o,c]),w=Object(n.useCallback)(function(){var e=Object(ee.a)(Z.a.mark((function e(t){return Z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:x({title:"Update details page URL",content:"Your details page URL will change to ".concat(t),instruction:"Please press 'Accept' and confirm the transaction",onCancelMessage:"Action canceled"}),b(!0),j((function(){return Object(ee.a)(Z.a.mark((function e(){return Z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,c.writeGuardianDetailsPageURL(t);case 3:e.sent&&o("Guardian details page URL updated",{variant:"success"}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),o("Error in 'Guardian details page URL Update' TX ".concat(e.t0.message),{variant:"error"});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[o,c]),C=Object(n.useCallback)(Object(ee.a)(Z.a.mark((function e(){return Z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:x({title:"You are about to unregister from the Orbs Guardian role",content:"You and your Delegators will no longer be eligible for rewards",instruction:"Are you sure ?",acceptText:"yes",onCancelMessage:"Action canceled"}),b(!0),j((function(){return Object(ee.a)(Z.a.mark((function e(){return Z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,c.unregisterGuardian();case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),o("Error in 'Unregister guardian' TX ".concat(e.t0.message),{variant:"error"});case 8:case"end":return e.stop()}}),e,null,[[0,5]])})))}));case 3:case"end":return e.stop()}}),e)}))),[o,c]),S=i.a.useState(Cr),k=Object(Te.a)(S,2),D=k[0],A=k[1],T=Object(a.jsx)(sr,{guardianAddress:s.mainAddress,guardianInfo:c.guardianInfo,delegatorsShare:{defaultValue:c.rewardsContractSettings.defaultDelegatorsStakingRewardsPercent,isUsingDefaultValue:c.isUsingDefaultDelegatorsCutPercentage,maxValue:c.rewardsContractSettings.maxDelegatorsStakingRewardsPercent,value:c.delegatorsCutPercentage},guardianCertificationUrl:{currentGuardianDetailsUrl:c.detailsPageUrl||"",hasGuardianDetailsUrl:c.hasGuardianDetailsURL},highlightInfo:D===Sr,highlightDelegatorsShare:D===kr,highlightCertificateUrl:D===Dr}),P=D!==Ar;return Object(a.jsx)(bt,{children:Object(a.jsxs)(xt,{style:{width:"35rem",display:"flex",flexDirection:"column",alignItems:"center"},children:[Object(a.jsxs)("div",{style:{display:"flex",flexDirection:"column",maxWidth:"100%",width:"min-content",alignItems:"center"},children:[Object(a.jsx)("div",{style:{},children:Object(a.jsxs)(tr.a,{scrollButtons:"auto",value:D,onChange:function(e,t){return A(t)},variant:"fullWidth",indicatorColor:"secondary",textColor:"primary","aria-label":"icon tabs example",TabIndicatorProps:{color:"secondary"},children:[Object(a.jsx)(rr.a,{label:"Info","aria-label":"phone",className:t.tab,value:Cr}),Object(a.jsx)(rr.a,{className:t.tab,label:"Edit Info",value:Sr,"aria-label":"phone"}),Object(a.jsx)(rr.a,{className:t.tab,label:"Delegators share",value:kr,"aria-label":"favorite"}),Object(a.jsx)(rr.a,{className:t.tab,label:"Guardian details URL",value:Dr,"aria-label":"favorite"}),Object(a.jsx)(rr.a,{className:t.tab,label:"Unregister",value:Ar,"aria-label":"person"})]})}),P&&T,Object(a.jsx)(Pr,{className:t.tabPanel,value:D,index:Cr,dir:r.direction}),Object(a.jsx)(Pr,{className:t.tabPanel,value:D,index:Sr,dir:r.direction,children:Object(a.jsx)(yr,{children:Object(a.jsx)(Ht,{submitInfo:v,guardianInitialInfo:c.guardianInfo,actionButtonTitle:"Update"})})}),Object(a.jsx)(Pr,{className:t.tabPanel,value:D,index:kr,dir:r.direction,children:Object(a.jsx)(yr,{children:Object(a.jsx)(xr,{updateDelegatorsCut:y,currentDelegatorsCut:c.delegatorsCutPercentage,isUsingDefaultValue:c.isUsingDefaultDelegatorsCutPercentage,delegatorsCutDefaultValue:c.rewardsContractSettings.defaultDelegatorsStakingRewardsPercent,delegatorsCutMaxValue:c.rewardsContractSettings.maxDelegatorsStakingRewardsPercent})})}),Object(a.jsx)(Pr,{className:t.tabPanel,value:D,index:Dr,dir:r.direction,children:Object(a.jsx)(yr,{children:Object(a.jsx)(nr,{currentGuardianDetailsUrl:c.detailsPageUrl,hasGuardianDetailsUrl:c.hasGuardianDetailsURL,updateGuardianDetailsUrl:w,detailsRequirementsLink:ir})})}),Object(a.jsx)(Pr,{className:t.tabPanel,value:D,index:Ar,dir:r.direction,children:Object(a.jsx)(ur,{unregisterGuardian:C})})]}),Object(a.jsx)(fr,{title:m.title,contentText:m.content,instructionText:m.instruction,open:d,acceptText:m.acceptText,cancelText:m.cancelText,onAccept:function(){b(!1),g()},onCancel:function(){b(!1),m.onCancelMessage&&o(m.onCancelMessage,{variant:"info",preventDuplicate:!0})}}),Object(a.jsx)(St.a,{className:t.backdrop,open:c.txPending,children:Object(a.jsx)(kt.a,{color:"inherit"})})]})})}));function Pr(e){var t=e.children,r=e.value,n=e.index,i=Object(Ee.a)(e,["children","value","index"]);return r===n?Object(a.jsx)(wt.a,Object(Y.a)(Object(Y.a)({p:3},i),{},{children:t})):null}var Rr,Ir=Object($.c)((function(e){var t=Ot();return t.errorLoading?Object(a.jsx)(vt,{}):t.doneLoading?t.isGuardian?Object(a.jsx)(Tr,{}):Object(a.jsx)(er,{}):Object(a.jsx)(yt,{})})),Gr=(r(730),r(710),r(333)),Ur=r.n(Gr),Er=Object(Re.a)((function(e){return{footerContainer:{position:"absolute",bottom:0},bottomAppBar:{height:"3em",bottom:0,top:"auto",backgroundColor:Ur()(e.palette.primary.main).fade(.3).toString(),display:"flex",flexDirection:"row",justifyContent:"flex-end",paddingRight:"1em",paddingLeft:"1em"},appVersion:{marginLeft:"auto"}}})),Wr=i.a.memo((function(e){var t=Er(),r=e.version;return Object(a.jsxs)("div",{className:t.footerContainer,children:[Object(a.jsx)(ct.a,{}),Object(a.jsx)(st.a,{className:t.bottomAppBar,position:"fixed",children:Object(a.jsxs)("div",{style:{width:"100%",display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"center"},children:[Object(a.jsxs)("div",{style:{marginRight:"auto",marginLeft:"auto",position:"absolute"},children:[Object(a.jsx)(Le,{text:"Terms of use",href:ge.termsOfUseUrl,style:{paddingInlineEnd:"1em",justifySelf:"center"}}),Object(a.jsx)(Le,{href:ge.privacyPolicyUrl,text:"Privacy Policy"})]}),Object(a.jsx)("div",{className:t.appVersion,children:Object(a.jsxs)(Pe.a,{variant:"caption",children:["version ",r]})})]})})]})})),Fr=Object(Re.a)((function(){return{app:{minHeight:"100%",flex:1,backgroundColor:"#06142e",backgroundRepeat:"repeat-y",backgroundImage:"url(https://www.orbs.com/wp-content/uploads/2019/02/technology-background1.png)",backgroundAttachment:"scroll",backgroundPosition:"top center"}}})),Lr=Object($.c)((function(){var e=Fr(),t=ft(),r=Qt(),i=Ot(),o=Object(Ce.b)().enqueueSnackbar,s=t.isConnectedToWallet,c=Object(n.useMemo)((function(){return s?Object(a.jsx)(gt.c,{children:Object(a.jsx)(gt.a,{path:"/",children:Object(a.jsx)(Ir,{})})}):Object(a.jsx)(bt,{children:Object(a.jsx)(Ze,{walletConnectionPhase:"connect",actionFunction:function(){return t.askToConnect()},isMetaMaskProvider:r.isMetamaskInstalled})})}),[r.isMetamaskInstalled,t,s]),l=i.txHadError;Object(n.useEffect)((function(){l&&o("Error in Transaction",{variant:"error",autoHideDuration:7e3})}),[o,l]);var u=i.txCanceled;return Object(n.useEffect)((function(){u&&o("Transaction canceled",{variant:"info"})}),[o,u]),Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(ut,{}),Object(a.jsxs)("main",{className:e.app,children:[Object(a.jsx)(ot,{id:"appContainer",children:c}),Object(a.jsx)(Ae.a,{})]}),Object(a.jsx)(Wr,{version:"0.1"})]})}));Rr=!!window.ethereum?Object(a.jsx)(Lr,{}):Object(a.jsx)(ht,{}),s.a.render(Object(a.jsx)(i.a.StrictMode,{children:Object(a.jsx)(De,{appComponent:Rr})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[680,1,2]]]);
//# sourceMappingURL=main.a57cd347.chunk.js.map