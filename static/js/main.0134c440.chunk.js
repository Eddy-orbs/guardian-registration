(this["webpackJsonpguardian-registration"]=this["webpackJsonpguardian-registration"]||[]).push([[0],{321:function(e,t,n){e.exports=n(639)},326:function(e,t,n){},341:function(e,t){},349:function(e,t){},366:function(e,t){},368:function(e,t){},383:function(e,t){},384:function(e,t){},386:function(e,t){},387:function(e,t){},461:function(e,t){},463:function(e,t){},472:function(e,t){},474:function(e,t){},499:function(e,t){},501:function(e,t){},507:function(e,t){},508:function(e,t){},511:function(e,t){},527:function(e,t){},530:function(e,t){},544:function(e,t){},547:function(e,t){},639:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),i=n(22),o=n.n(i);n(326),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var c,s,u,l,d,p,m,h,f,b,v,g,y,E,w,O,j,x,k,C,I,A,S,T,R,D,P,F,W=n(188),q=n(74),G=n(8),_=n(5),M=n.n(_),L=n(17),U=n(41),N=n(10),H=n(12),B=n(23),V=(n(203),c=Object(G.action)("setWalletConnectionRequestApproved"),s=Object(G.action)("setMainAddress"),u=function(){function e(t){var n=this;Object(N.a)(this,e),this.cryptoWalletConnectionService=t,Object(U.a)(this,"walletConnectionRequestApproved",l,this),Object(U.a)(this,"hasEthereumProvider",d,this),Object(U.a)(this,"hasEventsSupport",p,this),Object(U.a)(this,"mainAddress",m,this),this.addressCheckingInterval=void 0,this.reactionToWalletConnection=void 0,this.hasEthereumProvider=t.hasEthereumProvider,this.hasEventsSupport=t.hasEventsSupport,this.reactionToWalletConnection=Object(G.reaction)((function(){return n.isConnectedToWallet}),function(){var e=Object(L.a)(M.a.mark((function e(t){return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t&&n.readInformationFromConnectedWallet();case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),{fireImmediately:!0}),this.hasEthereumProvider&&(this.cryptoWalletConnectionService.hasEventsSupport?this.cryptoWalletConnectionService.onMainAddressChange((function(e){return n.setMainAddress(e)})):(this.cryptoWalletConnectionService.readMainAddress().then((function(e){return n.setMainAddress(e)})),this.addressCheckingInterval=setInterval((function(){return n.cryptoWalletConnectionService.readMainAddress().then((function(e){return n.setMainAddress(e)}))}),1e3)))}return Object(H.a)(e,[{key:"askToConnect",value:function(){var e=Object(L.a)(M.a.mark((function e(){var t;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isConnectedToWallet){e.next=4;break}return e.abrupt("return",!0);case 4:return e.next=6,this.cryptoWalletConnectionService.requestConnectionPermission();case 6:return t=e.sent,this.setWalletConnectionRequestApproved(t),e.abrupt("return",this.walletConnectionRequestApproved);case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"readInformationFromConnectedWallet",value:function(){var e=Object(L.a)(M.a.mark((function e(){var t;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.cryptoWalletConnectionService.readMainAddress();case 2:t=e.sent,this.setMainAddress(t);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setWalletConnectionRequestApproved",value:function(e){this.walletConnectionRequestApproved=e}},{key:"setMainAddress",value:function(e){this.mainAddress=e}},{key:"isConnectedToWallet",get:function(){return this.hasEthereumProvider&&(this.cryptoWalletConnectionService.didUserApproveDappInThePast||this.walletConnectionRequestApproved)}}]),e}(),l=Object(B.a)(u.prototype,"walletConnectionRequestApproved",[G.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),d=Object(B.a)(u.prototype,"hasEthereumProvider",[G.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),p=Object(B.a)(u.prototype,"hasEventsSupport",[G.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),m=Object(B.a)(u.prototype,"mainAddress",[G.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Object(B.a)(u.prototype,"isConnectedToWallet",[G.computed],Object.getOwnPropertyDescriptor(u.prototype,"isConnectedToWallet"),u.prototype),Object(B.a)(u.prototype,"setWalletConnectionRequestApproved",[c],Object.getOwnPropertyDescriptor(u.prototype,"setWalletConnectionRequestApproved"),u.prototype),Object(B.a)(u.prototype,"setMainAddress",[s],Object.getOwnPropertyDescriptor(u.prototype,"setMainAddress"),u.prototype),u),z=function(e){e.slice(2);return[e.slice(2,4),e.slice(4,6),e.slice(6,8),e.slice(8)].map((function(e){return parseInt(e,16)})).join(".")},K=function(e){var t=e.split(".").map((function(e){return parseInt(e).toString(16).padStart(2,"0")})).join("");return"0x".concat(t)},Y={userRejectedRequest:4001,unauthorized:4100,unsupportedMethod:4200},$={orbsAddr:"",ip:"",website:"",name:""},X={registrationTime:0,lastUpdateTime:0};var J=(h=Object(G.action)("setDoneLoading"),f=Object(G.action)("setErrorLoading"),b=Object(G.action)("setTxPending"),v=Object(G.action)("setTxCanceled"),g=Object(G.action)("setTxHadError"),y=Object(G.action)("setIsGuardian"),E=Object(G.action)("setGuardianInfo"),w=Object(G.action)("setGuardianRegistrationTimes"),O=Object(G.action)("setRewardDistributionFrequencyInHours"),j=Object(G.action)("setEthereumBalance"),x=function(){function e(t,n,r){var a=this;Object(N.a)(this,e),this.cryptoWalletIntegrationStore=t,this.guardiansV2Service=n,this.cryptoWalletConnectionService=r,Object(U.a)(this,"doneLoading",k,this),Object(U.a)(this,"errorLoading",C,this),Object(U.a)(this,"txPending",I,this),Object(U.a)(this,"txHadError",A,this),Object(U.a)(this,"txCanceled",S,this),Object(U.a)(this,"isGuardian",T,this),Object(U.a)(this,"guardianInfo",R,this),Object(U.a)(this,"guardianContractInteractionTimes",D,this),Object(U.a)(this,"rewardDistributionFrequencyInHours",P,this),Object(U.a)(this,"ethBalance",F,this),this.addressChangeReaction=void 0,this.addressChangeReaction=Object(G.reaction)((function(){return a.cryptoWalletIntegrationStore.mainAddress}),function(){var e=Object(L.a)(M.a.mark((function e(t){return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.setDoneLoading(!1),e.next=3,a.reactToConnectedAddressChanged(t);case 3:a.setDoneLoading(!0);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),{fireImmediately:!0})}return Object(H.a)(e,[{key:"handlePromievent",value:function(){var e=Object(L.a)(M.a.mark((function e(t){var n,r=arguments;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:"A promivent",this.resetTxIndicators(),this.setTxPending(!0),console.log("Waiting for promievent of ".concat(n)),e.prev=4,e.next=7,t;case 7:return e.sent,console.log("Got Results for promievent of ".concat(n)),e.abrupt("return");case 12:if(e.prev=12,e.t0=e.catch(4),e.t0.code!==Y.userRejectedRequest){e.next=18;break}this.setTxCanceled(!0),e.next=19;break;case 18:throw e.t0;case 19:return e.prev=19,this.setTxPending(!1),e.finish(19);case 22:case"end":return e.stop()}}),e,this,[[4,12,19,22]])})));return function(t){return e.apply(this,arguments)}}()},{key:"registerGuardian",value:function(){var e=Object(L.a)(M.a.mark((function e(t){var n;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=this.guardiansV2Service.registerGuardian(t),e.next=4,this.handlePromievent(n,"Register guardian");case 4:return e.next=6,this.manuallyReadAccountData();case 6:e.next=13;break;case 8:throw e.prev=8,e.t0=e.catch(0),this.setTxHadError(!0),console.error("Failed registering guardian ".concat(e.t0)),e.t0;case 13:case"end":return e.stop()}}),e,this,[[0,8]])})));return function(t){return e.apply(this,arguments)}}()},{key:"updateGuardianInfo",value:function(){var e=Object(L.a)(M.a.mark((function e(t){var n;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=this.guardiansV2Service.updateGuardianInfo(t),e.next=4,this.handlePromievent(n,"Update guardian");case 4:return e.sent,e.next=7,this.manuallyReadAccountData();case 7:e.next=14;break;case 9:throw e.prev=9,e.t0=e.catch(0),this.setTxHadError(!0),console.error("Failed updating guardian info ".concat(e.t0)),e.t0;case 14:case"end":return e.stop()}}),e,this,[[0,9]])})));return function(t){return e.apply(this,arguments)}}()},{key:"setGuardianDistributionFrequency",value:function(){var e=Object(L.a)(M.a.mark((function e(t){var n,r;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=3600*t,r=this.guardiansV2Service.setGuardianDistributionFrequency(n),e.prev=2,e.next=5,this.handlePromievent(r,"Set distribution frequency");case 5:return e.next=7,this.manuallyReadAccountData();case 7:e.next=13;break;case 9:throw e.prev=9,e.t0=e.catch(2),console.error("Failed setting distribution frequency ".concat(e.t0)),e.t0;case 13:case"end":return e.stop()}}),e,this,[[2,9]])})));return function(t){return e.apply(this,arguments)}}()},{key:"reactToConnectedAddressChanged",value:function(){var e=Object(L.a)(M.a.mark((function e(t){return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=12;break}return this.setDefaultAccountAddress(t),this.cryptoWalletIntegrationStore.hasEventsSupport&&this.refreshAccountListeners(t),e.prev=3,e.next=6,this.readDataForAccount(t);case 6:e.next=12;break;case 8:e.prev=8,e.t0=e.catch(3),this.failLoadingProcess(e.t0),console.error("Error in reacting to address change in Orbs Account Store",e.t0);case 12:case"end":return e.stop()}}),e,this,[[3,8]])})));return function(t){return e.apply(this,arguments)}}()},{key:"setDefaultAccountAddress",value:function(e){this.guardiansV2Service.setFromAccount(e)}},{key:"manuallyReadAccountData",value:function(){var e=Object(L.a)(M.a.mark((function e(){return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.readDataForAccount(this.cryptoWalletIntegrationStore.mainAddress);case 3:e.next=9;break;case 5:e.prev=5,e.t0=e.catch(0),this.failLoadingProcess(e.t0),console.error("Error in manually reading address data in Orbs Account Store",e.t0);case 9:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(){return e.apply(this,arguments)}}()},{key:"readDataForAccount",value:function(){var e=Object(L.a)(M.a.mark((function e(t){return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.readAndSetIsGuardian(t);case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),console.error("Error read-n-set isGuardian ".concat(e.t0));case 8:this.isGuardian&&(this.readAndSetGuardianInfo(t).catch((function(e){return console.error("Error read-n-set Guardian Info ".concat(e))})),this.readAndSetRewardsDistributionFrequency(t).catch((function(e){return console.error("Error read-n-set Rewards Frequency ".concat(e))}))),this.readAndSetEthereumBalance(t).catch((function(e){return console.error("Error read-n-set Ethereum balance ".concat(e))}));case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(t){return e.apply(this,arguments)}}()},{key:"readAndSetIsGuardian",value:function(){var e=Object(L.a)(M.a.mark((function e(t){var n;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.guardiansV2Service.isRegisteredGuardian(t);case 2:n=e.sent,this.setIsGuardian(n);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"readAndSetGuardianInfo",value:function(){var e=Object(L.a)(M.a.mark((function e(t){var n=this;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.guardiansV2Service.readGuardianInfo(t).then((function(e){var t=e.name,r=e.website,a=e.orbsAddr,i=e.ip,o=e.registrationTime,c=e.lastUpdateTime,s={name:t,website:r,ip:z(i),orbsAddr:a},u={registrationTime:o,lastUpdateTime:c};n.setGuardianInfo(s),n.setGuardianContractInteractionTimes(u)}));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"readAndSetRewardsDistributionFrequency",value:function(){var e=Object(L.a)(M.a.mark((function e(t){var n,r;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.guardiansV2Service.readGuardianDistributionFrequencyInSeconds(t);case 2:n=e.sent,r=n/3600,this.setRewardDistributionFrequencyInHours(r);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"readAndSetEthereumBalance",value:function(){var e=Object(L.a)(M.a.mark((function e(t){var n;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.cryptoWalletConnectionService.readEthereumBalance(t);case 2:n=e.sent,this.setEthereumBalance(n);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"refreshAccountListeners",value:function(){var e=Object(L.a)(M.a.mark((function e(t){return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.cancelAllCurrentSubscriptions();case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"cancelAllCurrentSubscriptions",value:function(){}},{key:"failLoadingProcess",value:function(e){this.setErrorLoading(!0),this.setDoneLoading(!0)}},{key:"resetTxIndicators",value:function(){this.setTxPending(!1),this.setTxHadError(!1),this.setTxCanceled(!1)}},{key:"setDoneLoading",value:function(e){this.doneLoading=e}},{key:"setErrorLoading",value:function(e){this.errorLoading=e}},{key:"setTxPending",value:function(e){this.txPending=e}},{key:"setTxCanceled",value:function(e){this.txCanceled=e}},{key:"setTxHadError",value:function(e){this.txHadError=e}},{key:"setIsGuardian",value:function(e){this.isGuardian=e}},{key:"setGuardianInfo",value:function(e){this.guardianInfo=e}},{key:"setGuardianContractInteractionTimes",value:function(e){this.guardianContractInteractionTimes=e}},{key:"setRewardDistributionFrequencyInHours",value:function(e){this.rewardDistributionFrequencyInHours=e}},{key:"setEthereumBalance",value:function(e){this.ethBalance=e}},{key:"isUsingDefaultRewardFrequency",get:function(){return 0===this.rewardDistributionFrequencyInHours}}]),e}(),k=Object(B.a)(x.prototype,"doneLoading",[G.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),C=Object(B.a)(x.prototype,"errorLoading",[G.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),I=Object(B.a)(x.prototype,"txPending",[G.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),A=Object(B.a)(x.prototype,"txHadError",[G.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),S=Object(B.a)(x.prototype,"txCanceled",[G.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),T=Object(B.a)(x.prototype,"isGuardian",[G.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),R=Object(B.a)(x.prototype,"guardianInfo",[G.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return $}}),D=Object(B.a)(x.prototype,"guardianContractInteractionTimes",[G.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return X}}),P=Object(B.a)(x.prototype,"rewardDistributionFrequencyInHours",[G.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),F=Object(B.a)(x.prototype,"ethBalance",[G.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Object(B.a)(x.prototype,"isUsingDefaultRewardFrequency",[G.computed],Object.getOwnPropertyDescriptor(x.prototype,"isUsingDefaultRewardFrequency"),x.prototype),Object(B.a)(x.prototype,"setDoneLoading",[h],Object.getOwnPropertyDescriptor(x.prototype,"setDoneLoading"),x.prototype),Object(B.a)(x.prototype,"setErrorLoading",[f],Object.getOwnPropertyDescriptor(x.prototype,"setErrorLoading"),x.prototype),Object(B.a)(x.prototype,"setTxPending",[b],Object.getOwnPropertyDescriptor(x.prototype,"setTxPending"),x.prototype),Object(B.a)(x.prototype,"setTxCanceled",[v],Object.getOwnPropertyDescriptor(x.prototype,"setTxCanceled"),x.prototype),Object(B.a)(x.prototype,"setTxHadError",[g],Object.getOwnPropertyDescriptor(x.prototype,"setTxHadError"),x.prototype),Object(B.a)(x.prototype,"setIsGuardian",[y],Object.getOwnPropertyDescriptor(x.prototype,"setIsGuardian"),x.prototype),Object(B.a)(x.prototype,"setGuardianInfo",[E],Object.getOwnPropertyDescriptor(x.prototype,"setGuardianInfo"),x.prototype),Object(B.a)(x.prototype,"setGuardianContractInteractionTimes",[w],Object.getOwnPropertyDescriptor(x.prototype,"setGuardianContractInteractionTimes"),x.prototype),Object(B.a)(x.prototype,"setRewardDistributionFrequencyInHours",[O],Object.getOwnPropertyDescriptor(x.prototype,"setRewardDistributionFrequencyInHours"),x.prototype),Object(B.a)(x.prototype,"setEthereumBalance",[j],Object.getOwnPropertyDescriptor(x.prototype,"setEthereumBalance"),x.prototype),x);n(327);var Q=n(103),Z=n.n(Q),ee=n(42),te=function(){function e(t){Object(N.a)(this,e),this.ethereum=t,this.web3=void 0,this.hasEthereumProvider=void 0,this.hasEventsSupport=void 0,this.isMetamaskInstalled=void 0,this.isSemiCompliantEthereumProviderInstalled=void 0,this.hasEthereumProvider=void 0!==this.ethereum,this.isMetamaskInstalled=this.hasEthereumProvider&&!!this.ethereum.isMetaMask,this.isSemiCompliantEthereumProviderInstalled=this.hasEthereumProvider&&!this.ethereum.isMetaMask,this.hasEthereumProvider&&(this.web3=new Z.a(this.ethereum));var n=this.hasEthereumProvider?this.ethereum.on:void 0;this.hasEventsSupport=void 0!==n&&null!==n}return Object(H.a)(e,[{key:"requestConnectionPermission",value:function(){var e=Object(L.a)(M.a.mark((function e(){return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.ethereum.enable();case 3:return e.abrupt("return",!0);case 6:return e.prev=6,e.t0=e.catch(0),e.abrupt("return",!1);case 9:case"end":return e.stop()}}),e,this,[[0,6]])})));return function(){return e.apply(this,arguments)}}()},{key:"getIsMainNetwork",value:function(){var e=Object(L.a)(M.a.mark((function e(){return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.isMetamaskInstalled&&"1"===this.ethereum.networkVersion);case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"readEthereumBalance",value:function(){var e=Object(L.a)(M.a.mark((function e(t){var n,r,a;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,null===(n=this.web3)||void 0===n?void 0:n.eth.getBalance(t);case 2:return r=e.sent,a=parseInt(Object(ee.fromWei)(r||"0")),e.abrupt("return",a);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"readMainAddress",value:function(){var e=Object(L.a)(M.a.mark((function e(){var t,n;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,null===(t=this.web3)||void 0===t?void 0:t.eth.getAccounts();case 2:if(e.t0=e.sent,e.t0){e.next=5;break}e.t0=[];case 5:return n=e.t0,e.abrupt("return",n[0]);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"readCurrentBlockNumber",value:function(){var e=Object(L.a)(M.a.mark((function e(){var t;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(null===(t=this.web3)||void 0===t?void 0:t.eth.getBlockNumber())||0);case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onMainAddressChange",value:function(e){var t=this;if(!this.hasEventsSupport)throw new Error("Cannot subscribe to events with given Ethereum provider");var n=function(t){return e(t[0])};return this.ethereum.on("accountsChanged",n),function(){t.ethereum.off("accountsChanged",n)}}},{key:"didUserApproveDappInThePast",get:function(){return this.isMetamaskInstalled&&!!this.ethereum.selectedAddress}}]),e}(),ne=n(190),re=(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).REACT_APP_ETHEREUM_NETWORK,Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).REACT_APP_INFURA_KEY),ae={urlBase:Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).PUBLIC_BASE_PATH||"",v2contractsAddressesOverride:{},ETHEREUM_PROVIDER_WS:"wss://mainnet.infura.io/ws/v3/".concat(re),privacyPolicyUrl:"https://www.orbs.com/guardian-portal-privacy-policy/",termsOfUseUrl:"https://www.orbs.com/guardian-portal-terms-of-use/"},ie=n(86),oe="".concat("https","://").concat("validator.orbs.com","/vchains/").concat(11e5.toString());var ce=n(299),se=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"0xd095e7310616376BDeD74Afc7e0400E6d0894E6F";Object(N.a)(this,e),this.web3=t,this.guardiansRegistrationContract=void 0,console.log({guardiansRegistrationAddress:n}),this.guardiansRegistrationContract=new this.web3.eth.Contract(ce.abi,n)}return Object(H.a)(e,[{key:"setFromAccount",value:function(e){this.guardiansRegistrationContract.options.from=e}},{key:"isRegisteredGuardian",value:function(){var e=Object(L.a)(M.a.mark((function e(t){return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.guardiansRegistrationContract.methods.isRegistered(t).call());case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"readGuardianInfo",value:function(){var e=Object(L.a)(M.a.mark((function e(t){var n,r,a,i,o,c,s,u;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.guardiansRegistrationContract.methods.getGuardianData(t).call();case 2:return n=e.sent,r=n.registration_time,a=n.orbsAddr,i=n.name,o=n.last_update_time,c=n.ip,n.contact,s=n.website,u={ip:c,lastUpdateTime:parseInt(o),name:i,orbsAddr:a,registrationTime:parseInt(r),website:s},e.abrupt("return",u);case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"readGuardianDistributionFrequencyInSeconds",value:function(){var e=Object(L.a)(M.a.mark((function e(t){var n;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.guardiansRegistrationContract.methods.getMetadata(t,"REWARDS_FREQUENCY_SEC").call();case 2:if((n=e.sent)&&n.length){e.next=5;break}return e.abrupt("return",0);case 5:return e.abrupt("return",parseInt(n));case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"setGuardianDistributionFrequency",value:function(e){return this.guardiansRegistrationContract.methods.setMetadata("REWARDS_FREQUENCY_SEC",e.toString()).send()}},{key:"registerGuardian",value:function(e){var t=e.website,n=e.name,r=e.orbsAddr,a=e.ip,i=K(a);return this.guardiansRegistrationContract.methods.registerGuardian(i,r,n,t," ").send()}},{key:"updateGuardianInfo",value:function(e){var t=e.ip,n=e.name,r=e.orbsAddr,a=e.website,i=K(t);return this.guardiansRegistrationContract.methods.updateGuardian(i,r,n,a," ").send()}}]),e}();var ue=n(136),le=n(674),de=n(300),pe=n.n(de),me=n(187),he=n.n(me),fe=pe()(he()({palette:{type:"dark",primary:{main:"rgba(16, 34, 91, 0.7)"},secondary:{main:"#7ccbf4"},text:{},background:{default:"#16317d"}},typography:{},overrides:{MuiPaper:{root:{}},MuiTypography:{colorPrimary:{}},MuiLink:{root:{}}}})),be=n(102);Object(G.configure)({enforceActions:"observed"});var ve=function(e){var t,n=function(){var e=Object(ie.createAccount)(),t=e.publicKey,n=e.privateKey,r=new ie.LocalSigner({publicKey:t,privateKey:n});return new ie.Client(oe,11e5,ie.NetworkType.NETWORK_TYPE_TEST_NET,r)}(),r=new ne.OrbsClientService(n);return t=e?new Z.a(e):new Z.a(new Z.a.providers.WebsocketProvider(ae.ETHEREUM_PROVIDER_WS)),{cryptoWalletIntegrationService:new te(e),guardiansV2Service:new se(t,ae.v2contractsAddressesOverride.guardiansRegistration),guardiansService:new ne.GuardiansService(t,r)}}(window.ethereum),ge=function(e,t){var n=new V(e);return{cryptoWalletIntegrationStore:n,orbsAccountStore:new J(n,t,e)}}(ve.cryptoWalletIntegrationService,ve.guardiansV2Service),ye=a.a.memo((function(e){console.log("Wrapper render");var t=e.appComponent;return a.a.createElement(W.a,null,a.a.createElement(q.b,Object.assign({},ge,ve),a.a.createElement(ue.b,{injectFirst:!0},a.a.createElement(le.a,{theme:fe},a.a.createElement(be.a,{maxSnack:3},t)))))})),Ee=n(681),we=n(645),Oe=n(675),je=n(676),xe=n(687),ke=n(673),Ce=n(689),Ie=n(304),Ae=n(309),Se=Object(ke.a)((function(e){return{link:{color:e.palette.secondary.light,"&:hover":{color:e.palette.secondary.main}}}})),Te=a.a.memo((function(e){var t=Se(),n=e.text,r=e.href,i=Object(Ae.a)(e,["text","href"]);return a.a.createElement("a",Object.assign({className:t.link,href:r||"",target:"_blank",rel:"noopener noreferrer"},i),n)})),Re=Object(ke.a)((function(e){return{noEthereumProviderSection:{display:"flex",flexDirection:"column",alignItems:"center",textAlign:"center",padding:"2em",backgroundColor:"rgba(0,0,0, 0.2)",borderRadius:"5%",width:"fit-content",maxWidth:"90%",boxSizing:"border-box"}}})),De=a.a.memo((function(e){var t=Re(),n=e.walletConnectionPhase,r=e.actionFunction,i=(e.pressedOnInstall,Object(Ce.a)(!1)),o="connect"===n,c=!o||i.value,s="install"===n,u=s?"No Ethereum provider detected":"Please connect",l=s?"you should install MetaMask and refresh the page":"To begin, connect your wallet",d="install"===n?"Install":"Connect",p=Object(Ie.renderToString)(a.a.createElement(we.a,null,"I agree to the"," ",a.a.createElement(Te,{href:ae.termsOfUseUrl,text:"Terms of Use"})," and"," ",a.a.createElement(Te,{href:ae.privacyPolicyUrl,text:"Privacy Policy"})));return a.a.createElement("div",{className:t.noEthereumProviderSection},a.a.createElement(we.a,{style:{marginBottom:"0.5rem"},variant:"h4"},u),a.a.createElement(we.a,{style:{marginBottom:"1rem"}},l),a.a.createElement(Oe.a,{variant:"outlined",onClick:r,disabled:!c},d),o&&a.a.createElement(je.a,{style:{marginTop:"0.5rem"},control:a.a.createElement(xe.a,{checked:i.value,onChange:function(e){return i.setValue(e.target.checked)},name:"legalTicker"}),label:a.a.createElement(we.a,{dangerouslySetInnerHTML:{__html:p}})}))})),Pe=n(677),Fe=n(678),We=n(305),qe=n.n(We),Ge=Object(ke.a)((function(e){return{centeredContainer:{display:"flex",flexDirection:"column",alignItems:"center",height:"100%"}}})),_e=a.a.memo((function(e){var t=Ge(),n=qe()(),r=Object(Pe.a)(n.breakpoints.down("sm"));return a.a.createElement(Fe.a,Object.assign({className:t.centeredContainer,component:"main",disableGutters:r},e))})),Me=n(20),Le=n(19),Ue=n(669),Ne=n(7),He=Object(Ne.a)((function(e){return Object(Ue.a)({root:{width:"100%",height:"100%",zIndex:-1e3,position:"absolute",overflow:"hidden"},appVersion:{position:"fixed",bottom:4,left:4},triangle:{opacity:.25,fill:"#08e4f4"},svgElm:{top:-320,left:-80,position:"relative",height:1500,opacity:.1,transform:"rotate(15deg)",animation:"rotate 500s linear infinite"},"@keyframes rotate":{"0%":{transform:"rotate(15deg)"},"100%":{transform:"rotate(375deg)"}}})}))(function(e){Object(Me.a)(n,e);var t=Object(Le.a)(n);function n(){return Object(N.a)(this,n),t.apply(this,arguments)}return Object(H.a)(n,[{key:"render",value:function(){var e=this.props.classes;return r.createElement("div",{id:"appBackground",className:e.root},r.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:e.svgElm,viewBox:"0 0 100 100"},r.createElement("path",{className:e.triangle,d:"m8.44388,72.186002l59.79,0a5.46,5.46 0 0 0 4.58,-8.41l-29.85,-46.28a5.45,5.45 0 0 0 -9.16,0l-29.93,46.28a5.45,5.45 0 0 0 4.57,8.41z"}),r.createElement("path",{className:e.triangle,d:"m20.93,78.176003l58.6,0a6.09,6.09 0 0 0 5.12,-9.4l-29.2,-45.28a5.45,5.45 0 0 0 -9.16,0l-29.93,46.27a5.45,5.45 0 0 0 4.57,8.41z"}),r.createElement("path",{className:e.triangle,d:"m32.443882,84.176l58.6,0a6.09,6.09 0 0 0 5.12,-9.4l-29.2,-45.28a5.45,5.45 0 0 0 -9.16,0l-29.93,46.27a5.45,5.45 0 0 0 4.57,8.41z"})))}}]),n}(r.Component)),Be=n(679),Ve=n(680),ze=Object(ke.a)((function(e){return{title:{flexGrow:1,textAlign:"center",marginTop:"1em",marginBottom:"1em"}}})),Ke=a.a.memo((function(e){var t=ze();return a.a.createElement(Be.a,{position:"absolute"},a.a.createElement(Ve.a,null,a.a.createElement("div",{className:t.title},a.a.createElement(we.a,{variant:"h5"},"ORBS Guardians Portal"))))})),Ye=Object(ke.a)((function(e){return{page:{display:"flex",flexDirection:"column",alignItems:"center",width:"100%",maxWidth:"100%",boxSizing:"border-box",padding:"2em",height:"100%"},backdrop:{zIndex:e.zIndex.drawer+1,color:"#fff"}}})),$e=a.a.memo((function(e){var t=e.children,n=Ye();return a.a.createElement("div",{className:n.page},a.a.createElement(Ve.a,null),t)})),Xe=a.a.memo((function(e){var t=Object(Ce.a)(!1),n=Object(r.useCallback)((function(){window.open("https://metamask.io/","_blank"),t.setTrue()}),[t]);return a.a.createElement(a.a.Fragment,null,a.a.createElement(Ke,null),a.a.createElement("main",{className:"App",style:{height:"100%"}},a.a.createElement(He,null),a.a.createElement(_e,{id:"appContainer"},a.a.createElement($e,null,a.a.createElement(De,{walletConnectionPhase:"install",actionFunction:n}))),a.a.createElement(Ee.a,null)))})),Je=n(29);function Qe(){return a.a.useContext(q.a)}function Ze(){return Qe().cryptoWalletIntegrationStore}function et(){return Qe().orbsAccountStore}var tt=n(688),nt=n(682),rt=n(686),at=n(147),it=/^0x[a-fA-F0-9]{40}$/,ot=/^(([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])\.){3}([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])$/;function ct(e){return!!new RegExp("^(https?:\\/\\/)?((([a-z\\d]([a-z\\d-]*[a-z\\d])*)\\.)+[a-z]{2,}|((\\d{1,3}\\.){3}\\d{1,3}))(\\:\\d+)?(\\/[-a-z\\d%_.~+]*)*(\\?[;&a-z\\d%_.~+=-]*)?(\\#[-a-z\\d_]*)?$","i").test(e)}var st,ut=Object(ke.a)((function(e){return{textField:{"& label.Mui-focused":{color:"#f5f5f5"}}}})),lt=a.a.memo((function(e){var t=ut(),n=(e.guardianAddress,e.guardianInitialInfo),i=e.submitInfo,o=e.actionButtonTitle,c=e.disableSubmit,s=e.messageForDisabledSubmit,u=Object(at.a)(),l=u.register,d=u.handleSubmit,p=u.errors,m=Object(nt.a)(n.name),h=Object(nt.a)(n.website),f=Object(nt.a)(n.ip),b=Object(nt.a)(n.orbsAddr),v=!!p.nodeAddress,g=!!p.ipAddress,y=!!p.website,E=m.setValue,w=h.setValue,O=f.setValue,j=b.setValue;Object(r.useEffect)((function(){n&&(console.log("Re-setting data"),E(n.name),w(n.website),O(n.ip),j(n.orbsAddr))}),[n,O,E,j,w]);var x=Object(r.useCallback)((function(e){var t={ip:e.ipAddress,orbsAddr:e.nodeAddress,name:e.name,website:e.website};i(t)}),[i]);return a.a.createElement("form",{onSubmit:d((function(e){return x(e)})),style:{maxWidth:"100%",width:"100%"}},a.a.createElement(rt.a,{name:"name",label:"Guardian name",value:m.value,onChange:function(e){return m.setValue(e.target.value)},required:!0,inputRef:l,fullWidth:!0,className:t.textField}),a.a.createElement("br",null),a.a.createElement(rt.a,{fullWidth:!0,name:"website",label:"Guardian website",title:"A valid website URL is required. The Guardian website is used by delegators when selecting a Guardian.\n",value:h.value,onChange:function(e){return h.setValue(e.target.value)},required:!0,error:y,helperText:y&&"Must use a URL",inputRef:l({validate:ct}),className:t.textField}),a.a.createElement("br",null),a.a.createElement(rt.a,{fullWidth:!0,name:"ipAddress",label:"Node IP",title:"A valid IPv4 address is required to allow the Guardian\u2019s node to connect to the network gossip topology.",value:f.value,onChange:function(e){return f.setValue(e.target.value)},required:!0,inputRef:l({pattern:ot}),error:g,helperText:g&&"Must use a valid IPV4 address",className:t.textField}),a.a.createElement("br",null),a.a.createElement(rt.a,{name:"nodeAddress",label:"Node address",title:"The node address is used for signing blocks on Orbs and sending automated \n node notification transactions such as ready or auto voteout.",value:b.value,onChange:function(e){return b.setValue(e.target.value)},error:v,helperText:v&&"Must use a valid address",required:!0,inputRef:l({pattern:it}),fullWidth:!0,className:t.textField}),a.a.createElement("br",null),a.a.createElement("br",null),a.a.createElement(Oe.a,{variant:"outlined",fullWidth:!0,type:"submit",disabled:c},o),s&&a.a.createElement(we.a,{variant:"body2",color:"error"},s))})),dt=n(691),pt=n(306),mt=n.n(pt),ht=n(146),ft=Object(ke.a)((function(e){return{avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main,marginLeft:"auto",marginRight:"auto"}}})),bt=a.a.memo((function(e){var t=ft(),n=e.guardianInfo,i=e.guardianAddress,o=e.updateGuardianDetails,c=e.guardianContractInteractionTimes,s=c.lastUpdateTime,u=c.registrationTime,l=(Object(r.useMemo)((function(){return Object(tt.a)(u)}),[u]),Object(r.useMemo)((function(){return Object(tt.a)(s)}),[s]));return a.a.createElement(a.a.Fragment,null,a.a.createElement(dt.a,{className:t.avatar},a.a.createElement(mt.a,null)),a.a.createElement("div",{style:{textAlign:"center",display:"flex",flexDirection:"column",alignContent:"center",overflow:"hidden"}},a.a.createElement(we.a,{variant:"h5"},"Guardian details update"),a.a.createElement(we.a,{style:{textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"}},i)),a.a.createElement(lt,{guardianAddress:i,submitInfo:o,guardianInitialInfo:n,actionButtonTitle:"Update"}),a.a.createElement("br",null),a.a.createElement(ht.Transition,{items:l,from:{opacity:0},enter:{opacity:1},leave:{opacity:0,display:"none"},update:{opacity:1}},(function(e){return function(e){return a.a.createElement(we.a,{variant:"h6",style:e},"Details Last updated: ",l.toLocaleString())}})),a.a.createElement("br",null))})),vt=n(307),gt=n.n(vt),yt=Object(ke.a)((function(e){return{avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main,marginLeft:"auto",marginRight:"auto"}}})),Et={orbsAddr:"",ip:"",website:"",name:""},wt=a.a.memo((function(e){var t=yt(),n=e.guardianAddress,i=e.registerGuardian,o=e.ethereumBalance,c=Object(r.useMemo)((function(){var e=!1,t=void 0;return o<1&&(e=!0,t="A minimal balance of 1 Ether is required in order to register as a guardian"),{shouldDisable:e,messageToExplainDisable:t}}),[o]),s=c.shouldDisable,u=c.messageToExplainDisable;return a.a.createElement(a.a.Fragment,null,a.a.createElement(dt.a,{className:t.avatar},a.a.createElement(gt.a,null)),a.a.createElement("div",{style:{maxWidth:"100%",textAlign:"center",overflow:"hidden"}},a.a.createElement(we.a,{variant:"h5"},"Guardian Registration"),a.a.createElement(we.a,{style:{textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"}},n)),a.a.createElement(lt,{guardianAddress:n,submitInfo:i,guardianInitialInfo:Et,actionButtonTitle:"Register",disableSubmit:s,messageForDisabledSubmit:u}))})),Ot=n(683),jt=n(692),xt=n(684),kt=n(193),Ct=n(690),It=Object(ke.a)((function(e){return{textField:{"& label.Mui-focused":{color:"#f5f5f5"}}}})),At=a.a.memo((function(e){var t=It(),n=e.currentFrequencyInHours,i=e.updateRewardsFrequency,o=e.isUsingDefaultValue,c=Object(Ce.a)(!1),s=Object(Ct.a)(Math.max(n,12),{lowerLimit:12}),u=s.setValue;Object(r.useEffect)((function(){u(Math.max(n,12))}),[n,u]);var l=Object(at.a)(),d=l.register,p=l.handleSubmit,m=!!l.errors.rewardsFrequencyInHours,h=Object(r.useCallback)((function(e){i(e.rewardsFrequencyInHours)}),[i]),f=Math.floor(n/24),b=Math.floor(n%24),v=0===f?"":1===f?"1 day and":"".concat(f," days"),g=0===b?"":1===b?"1 hour":"".concat(b," hours"),y=""!==v&&""!==g?" and ":"",E=""!==v?" (".concat(n," hours)"):"",w="".concat(v).concat(y).concat(g).concat(E);o||"Current distribution frequency is once every ".concat(w);return a.a.createElement("form",{style:{maxWidth:"100%",width:"100%"},onSubmit:p(h)},a.a.createElement(we.a,{variant:"body1",style:{display:"inline"}},"Current distribution frequency is once every"," "),a.a.createElement(we.a,{variant:"body1",style:{display:"inline",fontWeight:"bold"}},w),a.a.createElement("br",null),a.a.createElement(ht.Transition,{items:c.value,initial:null,from:{opacity:0},enter:{opacity:1},leave:{opacity:0,display:"none"}},(function(e){return e?function(e){return a.a.createElement("div",{style:Object(kt.a)(Object(kt.a)({},e),{},{maxWidth:"100%",width:"100%"})},a.a.createElement(rt.a,{fullWidth:!0,name:"rewardsFrequencyInHours",title:"Rewards Frequency in hours - Minimum ".concat(12," hours"),label:"Rewards Frequency in hours",value:s.value,onChange:function(e){return s.setValue(parseInt(e.target.value)||0)},required:!0,type:"number",inputRef:d({min:12}),error:m,helperText:m?"Minimum frequency is 12 hours":"Default frequency is 14 days (336 hours), cannot be lower than half a day (12 hours)",className:t.textField}),a.a.createElement("br",null),a.a.createElement("br",null),a.a.createElement(Oe.a,{variant:"outlined",type:"submit",fullWidth:!0},"Update"))}:function(e){return a.a.createElement(Oe.a,{onClick:c.setTrue,variant:"outlined",fullWidth:!0,style:e},"Set to other value")}})))})),St=n(308),Tt=n.n(St),Rt=Object(ke.a)((function(e){return{avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main,marginLeft:"auto",marginRight:"auto"}}})),Dt=a.a.memo((function(e){var t=Rt(),n=e.isUsingDefaultValue,r=e.currentFrequencyInHours,i=e.updateRewardsFrequency;return a.a.createElement(a.a.Fragment,null,a.a.createElement(dt.a,{className:t.avatar},a.a.createElement(Tt.a,null)),a.a.createElement(we.a,{variant:"h5"},"Rewards Distribution Frequency"),a.a.createElement(At,{currentFrequencyInHours:r,updateRewardsFrequency:i,isUsingDefaultValue:n}))})),Pt=Object(ke.a)((function(e){return{contentFitter:{height:"100%",width:"fit-content",maxWidth:"100%"}}})),Ft=a.a.memo((function(e){var t=Pt(),n=e.children;return a.a.createElement("div",{className:t.contentFitter},n)})),Wt=Object(ke.a)((function(e){return{backdrop:{zIndex:e.zIndex.drawer+1,color:"#fff"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main}}})),qt=Object(q.c)((function(e){var t,n=Wt(),i=Object(be.b)().enqueueSnackbar,o=et(),c=Ze(),s=(o.isGuardian,Object(r.useCallback)(function(){var e=Object(L.a)(M.a.mark((function e(t){return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,o.updateGuardianInfo(t);case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),i("Error in 'Guardian Details Update' TX ".concat(e.t0.message),{variant:"error"});case 8:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(t){return e.apply(this,arguments)}}(),[i,o])),u=Object(r.useCallback)(function(){var e=Object(L.a)(M.a.mark((function e(t){return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,o.setGuardianDistributionFrequency(t);case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),i("Error in 'Rewards Frequency Update' TX ".concat(e.t0.message),{variant:"error"});case 8:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(t){return e.apply(this,arguments)}}(),[i,o]),l=Object(r.useCallback)(function(){var e=Object(L.a)(M.a.mark((function e(t){return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,o.registerGuardian(t);case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),i("Error in 'Guardian Registration' TX ".concat(e.t0.message),{variant:"error"});case 8:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(t){return e.apply(this,arguments)}}(),[i,o]);return o.errorLoading?a.a.createElement($e,null,a.a.createElement(Ft,null,a.a.createElement(we.a,null,"Error loading"))," "):o.doneLoading?(t=o.isGuardian?a.a.createElement(a.a.Fragment,null,a.a.createElement(bt,{guardianInfo:o.guardianInfo,guardianAddress:c.mainAddress,guardianContractInteractionTimes:o.guardianContractInteractionTimes,updateGuardianDetails:s}),a.a.createElement(Ot.a,{style:{width:"100%",height:"3px"}}),a.a.createElement("br",null),a.a.createElement(Dt,{currentFrequencyInHours:o.rewardDistributionFrequencyInHours,updateRewardsFrequency:u,isUsingDefaultValue:o.isUsingDefaultRewardFrequency})):a.a.createElement(wt,{registerGuardian:l,guardianAddress:c.mainAddress,ethereumBalance:o.ethBalance}),a.a.createElement($e,null,a.a.createElement(Ft,null,a.a.createElement("div",{style:{display:"grid",textAlign:"center",maxWidth:"100%"}},t),a.a.createElement(jt.a,{className:n.backdrop,open:o.txPending},a.a.createElement(xt.a,{color:"inherit"}))))):a.a.createElement($e,null,a.a.createElement(Ft,null,a.a.createElement(we.a,null,"Loading..."))," ")})),Gt=n(685),_t=n(670),Mt=Object(ke.a)((function(e){return{bottomAppBar:{height:"3em",bottom:0,top:"auto",display:"flex",flexDirection:"row",justifyContent:"flex-end",paddingRight:"1em",paddingLeft:"1em"},appVersion:{marginLeft:"auto"}}})),Lt=(a.a.memo((function(e){var t=e.children,n=Object(Gt.a)();return console.log(n),a.a.createElement(_t.a,{appear:!1,direction:"up",in:n},t)})),a.a.memo((function(e){var t=Mt(),n=e.version;return a.a.createElement(a.a.Fragment,null,a.a.createElement(Ve.a,{style:{}}),a.a.createElement(Be.a,{className:t.bottomAppBar,position:"fixed"},a.a.createElement("div",{style:{width:"100%",display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"center"}},a.a.createElement("div",{style:{marginRight:"auto",marginLeft:"auto",position:"absolute"}},a.a.createElement(Te,{text:"Term of use",href:ae.termsOfUseUrl,style:{paddingInlineEnd:"1em",justifySelf:"center"}}),a.a.createElement(Te,{href:ae.privacyPolicyUrl,text:"Privacy Policy"})),a.a.createElement("div",{className:t.appVersion},a.a.createElement(we.a,{variant:"caption"},"version ",n)))))}))),Ut=Object(ke.a)((function(){return{app:{flex:1}}})),Nt=Object(q.c)((function(){var e=Ut(),t=Ze(),n=et(),i=Object(be.b)().enqueueSnackbar,o=t.isConnectedToWallet,c=Object(r.useMemo)((function(){return o?a.a.createElement(Je.c,null,a.a.createElement(Je.a,{path:"/"},a.a.createElement(qt,null))):a.a.createElement($e,null,a.a.createElement(De,{walletConnectionPhase:"connect",actionFunction:function(){return t.askToConnect()}}))}),[t,o]),s=n.txHadError;Object(r.useEffect)((function(){s&&i("Error in Transaction",{variant:"error"})}),[i,s]);var u=n.txCanceled;return Object(r.useEffect)((function(){u&&i("Transaction canceled",{variant:"info"})}),[i,u]),a.a.createElement(a.a.Fragment,null,a.a.createElement(Ke,null),a.a.createElement("main",{className:e.app},a.a.createElement(He,null),a.a.createElement(_e,{id:"appContainer"},c),a.a.createElement(Ee.a,null)),a.a.createElement(Lt,{version:"0.1"}))}));st=!!window.ethereum?a.a.createElement(Nt,null):a.a.createElement(Xe,null),o.a.render(a.a.createElement(a.a.StrictMode,null,a.a.createElement(ye,{appComponent:st})),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[321,1,2]]]);
//# sourceMappingURL=main.0134c440.chunk.js.map