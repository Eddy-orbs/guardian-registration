(this["webpackJsonpguardian-registration"]=this["webpackJsonpguardian-registration"]||[]).push([[0],{351:function(e,t,r){},375:function(e,t){},383:function(e,t){},400:function(e,t){},402:function(e,t){},416:function(e,t){},417:function(e,t){},419:function(e,t){},420:function(e,t){},495:function(e,t){},497:function(e,t){},506:function(e,t){},508:function(e,t){},533:function(e,t){},535:function(e,t){},541:function(e,t){},542:function(e,t){},544:function(e,t){},556:function(e,t){},559:function(e,t){},573:function(e,t){},576:function(e,t){},680:function(e,t,r){"use strict";r.r(t);var a=r(2),n=r(0),i=r.n(n),o=r(23),s=r.n(o);r(351),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var c,u,l,d,b,p,h,j,f,g,O,m,x,v,y,w,C,S,k,D,R,P,T,A,I,G,U,E,W,L,F,N,M,H,_,q,B,V,z=r(25),K=r(210),Y=r(56),X=r(9),$=r(6),J=r.n($),Q=r(17),Z=r(34),ee=r(13),te=r(16),re=r(20),ae=(r(224),c=Object(X.f)("setWalletConnectionRequestApproved"),u=Object(X.f)("setMainAddress"),l=function(){function e(t){var r=this;Object(ee.a)(this,e),this.cryptoWalletConnectionService=t,Object(Z.a)(this,"walletConnectionRequestApproved",d,this),Object(Z.a)(this,"hasEthereumProvider",b,this),Object(Z.a)(this,"hasEventsSupport",p,this),Object(Z.a)(this,"mainAddress",h,this),this.addressCheckingInterval=void 0,this.reactionToWalletConnection=void 0,this.hasEthereumProvider=t.hasEthereumProvider,this.hasEventsSupport=t.hasEventsSupport,this.reactionToWalletConnection=Object(X.o)((function(){return r.isConnectedToWallet}),function(){var e=Object(Q.a)(J.a.mark((function e(t){return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t&&r.readInformationFromConnectedWallet();case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),{fireImmediately:!0}),this.hasEthereumProvider&&(this.cryptoWalletConnectionService.hasEventsSupport?this.cryptoWalletConnectionService.onMainAddressChange((function(e){return r.setMainAddress(e)})):(this.cryptoWalletConnectionService.readMainAddress().then((function(e){return r.setMainAddress(e)})),this.addressCheckingInterval=setInterval((function(){return r.cryptoWalletConnectionService.readMainAddress().then((function(e){return r.setMainAddress(e)}))}),1e3)))}return Object(te.a)(e,[{key:"askToConnect",value:function(){var e=Object(Q.a)(J.a.mark((function e(){var t;return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isConnectedToWallet){e.next=4;break}return e.abrupt("return",!0);case 4:return e.next=6,this.cryptoWalletConnectionService.requestConnectionPermission();case 6:return t=e.sent,this.setWalletConnectionRequestApproved(t),e.abrupt("return",this.walletConnectionRequestApproved);case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"readInformationFromConnectedWallet",value:function(){var e=Object(Q.a)(J.a.mark((function e(){var t;return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.cryptoWalletConnectionService.readMainAddress();case 2:t=e.sent,this.setMainAddress(t);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setWalletConnectionRequestApproved",value:function(e){this.walletConnectionRequestApproved=e}},{key:"setMainAddress",value:function(e){this.mainAddress=e}},{key:"isConnectedToWallet",get:function(){return this.hasEthereumProvider&&(this.cryptoWalletConnectionService.didUserApproveDappInThePast||this.walletConnectionRequestApproved)}}]),e}(),d=Object(re.a)(l.prototype,"walletConnectionRequestApproved",[X.n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),b=Object(re.a)(l.prototype,"hasEthereumProvider",[X.n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),p=Object(re.a)(l.prototype,"hasEventsSupport",[X.n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),h=Object(re.a)(l.prototype,"mainAddress",[X.n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Object(re.a)(l.prototype,"isConnectedToWallet",[X.g],Object.getOwnPropertyDescriptor(l.prototype,"isConnectedToWallet"),l.prototype),Object(re.a)(l.prototype,"setWalletConnectionRequestApproved",[c],Object.getOwnPropertyDescriptor(l.prototype,"setWalletConnectionRequestApproved"),l.prototype),Object(re.a)(l.prototype,"setMainAddress",[u],Object.getOwnPropertyDescriptor(l.prototype,"setMainAddress"),l.prototype),l),ne=function(e){e.slice(2);return[e.slice(2,4),e.slice(4,6),e.slice(6,8),e.slice(8)].map((function(e){return parseInt(e,16)})).join(".")},ie={userRejectedRequest:4001,unauthorized:4100,unsupportedMethod:4200},oe=r(72),se={orbsAddr:"",ip:"",website:"",name:""},ce={registrationTime:0,lastUpdateTime:0};var ue=(j=Object(X.f)("setDoneLoading"),f=Object(X.f)("setErrorLoading"),g=Object(X.f)("setTxPending"),O=Object(X.f)("setTxCanceled"),m=Object(X.f)("setTxHadError"),x=Object(X.f)("setIsGuardian"),v=Object(X.f)("setGuardianInfo"),y=Object(X.f)("setGuardianRegistrationTimes"),w=Object(X.f)("setRewardDistributionFrequencyInHours"),C=Object(X.f)("setRewardsContractSettings"),S=Object(X.f)("setGuardianRewardsSettings"),k=Object(X.f)("setDelegatorsCutPercentage"),D=Object(X.f)("setDetailsPageURL"),R=Object(X.f)("setGuardianId"),P=Object(X.f)("setEthereumBalance"),T=function(){function e(t,r,a,n){var i=this;Object(ee.a)(this,e),this.cryptoWalletIntegrationStore=t,this.guardiansService=r,this.stakingRewardsService=a,this.cryptoWalletConnectionService=n,Object(Z.a)(this,"doneLoading",A,this),Object(Z.a)(this,"errorLoading",I,this),Object(Z.a)(this,"txPending",G,this),Object(Z.a)(this,"txHadError",U,this),Object(Z.a)(this,"txCanceled",E,this),Object(Z.a)(this,"isGuardian",W,this),Object(Z.a)(this,"guardianInfo",L,this),Object(Z.a)(this,"guardianContractInteractionTimes",F,this),Object(Z.a)(this,"rewardDistributionFrequencyInHours",N,this),Object(Z.a)(this,"rewardsContractSettings",M,this),Object(Z.a)(this,"guardianRewardsSettings",H,this),Object(Z.a)(this,"delegatorsCutPercentage",_,this),Object(Z.a)(this,"detailsPageUrl",q,this),Object(Z.a)(this,"guardianId",B,this),Object(Z.a)(this,"ethBalance",V,this),this.addressChangeReaction=void 0,this.addressChangeReaction=Object(X.o)((function(){return i.cryptoWalletIntegrationStore.mainAddress}),function(){var e=Object(Q.a)(J.a.mark((function e(t){return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i.setDoneLoading(!1),e.next=3,i.reactToConnectedAddressChanged(t);case 3:i.setDoneLoading(!0);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),{fireImmediately:!0})}return Object(te.a)(e,[{key:"handlePromievent",value:function(){var e=Object(Q.a)(J.a.mark((function e(t){var r,a,n=arguments;return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.length>1&&void 0!==n[1]?n[1]:"A promivent",this.resetTxIndicators(),this.setTxPending(!0),console.log("Waiting for promievent of ".concat(r)),e.prev=4,e.next=7,t;case 7:return a=e.sent,console.log("Got Results for promievent of ".concat(r)),e.abrupt("return",a);case 12:if(e.prev=12,e.t0=e.catch(4),e.t0.code!==ie.userRejectedRequest){e.next=18;break}this.setTxCanceled(!0),e.next=19;break;case 18:throw e.t0;case 19:return e.prev=19,this.setTxPending(!1),e.finish(19);case 22:case"end":return e.stop()}}),e,this,[[4,12,19,22]])})));return function(t){return e.apply(this,arguments)}}()},{key:"registerGuardian",value:function(){var e=Object(Q.a)(J.a.mark((function e(t){var r,a;return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r=this.guardiansService.registerGuardian(t),e.next=4,this.handlePromievent(r,"Register guardian");case 4:return a=e.sent,e.next=7,this.manuallyReadAccountData();case 7:return e.abrupt("return",a);case 10:throw e.prev=10,e.t0=e.catch(0),this.setTxHadError(!0),console.error("Failed registering guardian ".concat(e.t0)),e.t0;case 15:case"end":return e.stop()}}),e,this,[[0,10]])})));return function(t){return e.apply(this,arguments)}}()},{key:"updateGuardianInfo",value:function(){var e=Object(Q.a)(J.a.mark((function e(t){var r,a;return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r=this.guardiansService.updateGuardianInfo(t),e.next=4,this.handlePromievent(r,"Update guardian");case 4:return a=e.sent,e.next=7,this.manuallyReadAccountData();case 7:return e.abrupt("return",a);case 10:throw e.prev=10,e.t0=e.catch(0),this.setTxHadError(!0),console.error("Failed updating guardian info ".concat(e.t0)),e.t0;case 15:case"end":return e.stop()}}),e,this,[[0,10]])})));return function(t){return e.apply(this,arguments)}}()},{key:"unregisterGuardian",value:function(){var e=Object(Q.a)(J.a.mark((function e(){var t,r;return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=this.guardiansService.unregisterGuardian(),e.next=4,this.handlePromievent(t,"Unregister guardian");case 4:return r=e.sent,e.next=7,this.manuallyReadAccountData();case 7:return e.abrupt("return",r);case 10:throw e.prev=10,e.t0=e.catch(0),this.setTxHadError(!0),console.error("Failed unregistering guardian ".concat(e.t0)),e.t0;case 15:case"end":return e.stop()}}),e,this,[[0,10]])})));return function(){return e.apply(this,arguments)}}()},{key:"setGuardianDistributionFrequency",value:function(){var e=Object(Q.a)(J.a.mark((function e(t){var r,a,n;return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=3600*t,a=this.guardiansService.setGuardianDistributionFrequency(r),e.prev=2,e.next=5,this.handlePromievent(a,"Set distribution frequency");case 5:return n=e.sent,e.next=8,this.manuallyReadAccountData();case 8:return e.abrupt("return",n);case 11:throw e.prev=11,e.t0=e.catch(2),console.error("Failed setting distribution frequency ".concat(e.t0)),e.t0;case 15:case"end":return e.stop()}}),e,this,[[2,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"writeGuardianDelegatorsCutPercentage",value:function(){var e=Object(Q.a)(J.a.mark((function e(t){var r,a;return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("Writing :",t),r=this.stakingRewardsService.setDelegatorsCutPercentage(t),e.prev=2,e.next=5,this.handlePromievent(r,"Set delegators cut percentage");case 5:return a=e.sent,e.next=8,this.manuallyReadAccountData();case 8:return e.abrupt("return",a);case 11:throw e.prev=11,e.t0=e.catch(2),console.error("Failed setting delegators cut percentage ".concat(e.t0)),e.t0;case 15:case"end":return e.stop()}}),e,this,[[2,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"writeGuardianDetailsPageURL",value:function(){var e=Object(Q.a)(J.a.mark((function e(t){var r,a;return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("Writing :",t),r=this.guardiansService.setGuardianDetailsPageUrl(t),e.prev=2,e.next=5,this.handlePromievent(r,"Set Details page URL");case 5:return a=e.sent,e.next=8,this.manuallyReadAccountData();case 8:return e.abrupt("return",a);case 11:throw e.prev=11,e.t0=e.catch(2),console.error("Failed setting Details page URL ".concat(e.t0)),e.t0;case 15:case"end":return e.stop()}}),e,this,[[2,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"reactToConnectedAddressChanged",value:function(){var e=Object(Q.a)(J.a.mark((function e(t){return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=12;break}return this.setDefaultAccountAddress(t),this.cryptoWalletIntegrationStore.hasEventsSupport&&this.refreshAccountListeners(t),e.prev=3,e.next=6,this.readDataForAccount(t);case 6:e.next=12;break;case 8:e.prev=8,e.t0=e.catch(3),this.failLoadingProcess(e.t0),console.error("Error in reacting to address change in Orbs Account Store",e.t0);case 12:case"end":return e.stop()}}),e,this,[[3,8]])})));return function(t){return e.apply(this,arguments)}}()},{key:"setDefaultAccountAddress",value:function(e){this.guardiansService.setFromAccount(e),this.stakingRewardsService.setFromAccount(e)}},{key:"manuallyReadAccountData",value:function(){var e=Object(Q.a)(J.a.mark((function e(){return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.readDataForAccount(this.cryptoWalletIntegrationStore.mainAddress);case 3:e.next=9;break;case 5:e.prev=5,e.t0=e.catch(0),this.failLoadingProcess(e.t0),console.error("Error in manually reading address data in Orbs Account Store",e.t0);case 9:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(){return e.apply(this,arguments)}}()},{key:"readDataForAccount",value:function(){var e=Object(Q.a)(J.a.mark((function e(t){return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.readAndSetIsGuardian(t);case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),console.error("Error read-n-set isGuardian ".concat(e.t0));case 8:this.isGuardian&&(this.readAndSetGuardianInfo(t).catch((function(e){return console.error("Error read-n-set Guardian Info ".concat(e))})),this.readAndSetRewardsDistributionFrequency(t).catch((function(e){return console.error("Error read-n-set Rewards Frequency ".concat(e))})),this.readAndSetDelegatorsCut(t).catch((function(e){return console.error("Error read-n-set delegators cut percentage ".concat(e))})),this.readAndSetGuardianRewardsSettings(t).catch((function(e){return console.error("Error read-n-set Guardian rewards settings ".concat(e))})),this.readAndSetDetailsPageUrl(t).catch((function(e){return console.error("Error read-n-set Details page URL ".concat(e))}))),this.readAndSetRewardsContractSettings().catch((function(e){return console.error("Error read-n-set Ethereum balance ".concat(e))})),this.readAndSetEthereumBalance(t).catch((function(e){return console.error("Error read-n-set Ethereum balance ".concat(e))}));case 11:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(t){return e.apply(this,arguments)}}()},{key:"readAndSetIsGuardian",value:function(){var e=Object(Q.a)(J.a.mark((function e(t){var r;return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.guardiansService.isRegisteredGuardian(t);case 2:r=e.sent,this.setIsGuardian(r);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"readAndSetGuardianInfo",value:function(){var e=Object(Q.a)(J.a.mark((function e(t){var r=this;return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.guardiansService.readGuardianInfo(t).then((function(e){var t=e.name,a=e.website,n=e.orbsAddr,i=e.ip,o=e.registrationTime,s=e.lastUpdateTime,c={name:t,website:a,ip:ne(i),orbsAddr:n},u={registrationTime:o,lastUpdateTime:s};r.setGuardianInfo(c),r.setGuardianContractInteractionTimes(u)}));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"readAndSetRewardsDistributionFrequency",value:function(){var e=Object(Q.a)(J.a.mark((function e(t){var r,a;return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.guardiansService.readGuardianDistributionFrequencyInSeconds(t);case 2:r=e.sent,a=r/3600,this.setRewardDistributionFrequencyInHours(a);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"readAndSetDelegatorsCut",value:function(){var e=Object(Q.a)(J.a.mark((function e(t){var r;return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.stakingRewardsService.readDelegatorsCutPercentage(t);case 2:r=e.sent,console.log("Setting delegtors cut",r),this.setDelegatorsCutPercentage(r);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"readAndSetDetailsPageUrl",value:function(){var e=Object(Q.a)(J.a.mark((function e(t){var r;return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.guardiansService.readGuardianDetailsPageUrl(t);case 2:r=e.sent,this.setDetailsPageURL(r||void 0);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"readAndSetRewardsContractSettings",value:function(){var e=Object(Q.a)(J.a.mark((function e(){var t;return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.stakingRewardsService.readContractRewardsSettings();case 2:t=e.sent,this.setRewardsContractSettings(t);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"readAndSetGuardianRewardsSettings",value:function(){var e=Object(Q.a)(J.a.mark((function e(t){var r;return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.stakingRewardsService.readGuardianRewardsSettings(t);case 2:r=e.sent,this.setGuardianRewardsSettings(r);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"readAndSetEthereumBalance",value:function(){var e=Object(Q.a)(J.a.mark((function e(t){var r;return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.cryptoWalletConnectionService.readEthereumBalance(t);case 2:r=e.sent,this.setEthereumBalance(r);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"refreshAccountListeners",value:function(){var e=Object(Q.a)(J.a.mark((function e(t){return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.cancelAllCurrentSubscriptions();case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"cancelAllCurrentSubscriptions",value:function(){}},{key:"failLoadingProcess",value:function(e){this.setErrorLoading(!0),this.setDoneLoading(!0)}},{key:"resetTxIndicators",value:function(){this.setTxPending(!1),this.setTxHadError(!1),this.setTxCanceled(!1)}},{key:"setDoneLoading",value:function(e){this.doneLoading=e}},{key:"setErrorLoading",value:function(e){this.errorLoading=e}},{key:"setTxPending",value:function(e){this.txPending=e}},{key:"setTxCanceled",value:function(e){this.txCanceled=e}},{key:"setTxHadError",value:function(e){this.txHadError=e}},{key:"setIsGuardian",value:function(e){this.isGuardian=e}},{key:"setGuardianInfo",value:function(e){this.guardianInfo=e}},{key:"setGuardianContractInteractionTimes",value:function(e){this.guardianContractInteractionTimes=e}},{key:"setRewardDistributionFrequencyInHours",value:function(e){this.rewardDistributionFrequencyInHours=e}},{key:"setRewardsContractSettings",value:function(e){this.rewardsContractSettings=e}},{key:"setGuardianRewardsSettings",value:function(e){this.guardianRewardsSettings=e}},{key:"setDelegatorsCutPercentage",value:function(e){this.delegatorsCutPercentage=e}},{key:"setDetailsPageURL",value:function(e){this.detailsPageUrl=e}},{key:"setGuardianId",value:function(e){this.guardianId=e}},{key:"setEthereumBalance",value:function(e){this.ethBalance=e}},{key:"isUsingDefaultRewardFrequency",get:function(){return this.rewardDistributionFrequencyInHours===oe.GUARDIANS_SERVICE_CONSTANTS.emptyRewardsFrequencyValue}},{key:"isUsingDefaultDelegatorsCutPercentage",get:function(){return this.guardianRewardsSettings.isUsingDefaultRewardsPercent}},{key:"hasGuardianDetailsURL",get:function(){return!!this.detailsPageUrl}},{key:"hasGuardianId",get:function(){return void 0!==this.guardianId}}]),e}(),A=Object(re.a)(T.prototype,"doneLoading",[X.n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),I=Object(re.a)(T.prototype,"errorLoading",[X.n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),G=Object(re.a)(T.prototype,"txPending",[X.n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),U=Object(re.a)(T.prototype,"txHadError",[X.n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),E=Object(re.a)(T.prototype,"txCanceled",[X.n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),W=Object(re.a)(T.prototype,"isGuardian",[X.n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),L=Object(re.a)(T.prototype,"guardianInfo",[X.n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return se}}),F=Object(re.a)(T.prototype,"guardianContractInteractionTimes",[X.n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return ce}}),N=Object(re.a)(T.prototype,"rewardDistributionFrequencyInHours",[X.n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return oe.GUARDIANS_SERVICE_CONSTANTS.emptyRewardsFrequencyValue}}),M=Object(re.a)(T.prototype,"rewardsContractSettings",[X.n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{maxDelegatorsStakingRewardsPercent:0,defaultDelegatorsStakingRewardsPercent:0}}}),H=Object(re.a)(T.prototype,"guardianRewardsSettings",[X.n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{isUsingDefaultRewardsPercent:!0,delegatorsStakingRewardsPercent:0}}}),_=Object(re.a)(T.prototype,"delegatorsCutPercentage",[X.n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),q=Object(re.a)(T.prototype,"detailsPageUrl",[X.n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),B=Object(re.a)(T.prototype,"guardianId",[X.n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),V=Object(re.a)(T.prototype,"ethBalance",[X.n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Object(re.a)(T.prototype,"isUsingDefaultRewardFrequency",[X.g],Object.getOwnPropertyDescriptor(T.prototype,"isUsingDefaultRewardFrequency"),T.prototype),Object(re.a)(T.prototype,"isUsingDefaultDelegatorsCutPercentage",[X.g],Object.getOwnPropertyDescriptor(T.prototype,"isUsingDefaultDelegatorsCutPercentage"),T.prototype),Object(re.a)(T.prototype,"hasGuardianDetailsURL",[X.g],Object.getOwnPropertyDescriptor(T.prototype,"hasGuardianDetailsURL"),T.prototype),Object(re.a)(T.prototype,"hasGuardianId",[X.g],Object.getOwnPropertyDescriptor(T.prototype,"hasGuardianId"),T.prototype),Object(re.a)(T.prototype,"setDoneLoading",[j],Object.getOwnPropertyDescriptor(T.prototype,"setDoneLoading"),T.prototype),Object(re.a)(T.prototype,"setErrorLoading",[f],Object.getOwnPropertyDescriptor(T.prototype,"setErrorLoading"),T.prototype),Object(re.a)(T.prototype,"setTxPending",[g],Object.getOwnPropertyDescriptor(T.prototype,"setTxPending"),T.prototype),Object(re.a)(T.prototype,"setTxCanceled",[O],Object.getOwnPropertyDescriptor(T.prototype,"setTxCanceled"),T.prototype),Object(re.a)(T.prototype,"setTxHadError",[m],Object.getOwnPropertyDescriptor(T.prototype,"setTxHadError"),T.prototype),Object(re.a)(T.prototype,"setIsGuardian",[x],Object.getOwnPropertyDescriptor(T.prototype,"setIsGuardian"),T.prototype),Object(re.a)(T.prototype,"setGuardianInfo",[v],Object.getOwnPropertyDescriptor(T.prototype,"setGuardianInfo"),T.prototype),Object(re.a)(T.prototype,"setGuardianContractInteractionTimes",[y],Object.getOwnPropertyDescriptor(T.prototype,"setGuardianContractInteractionTimes"),T.prototype),Object(re.a)(T.prototype,"setRewardDistributionFrequencyInHours",[w],Object.getOwnPropertyDescriptor(T.prototype,"setRewardDistributionFrequencyInHours"),T.prototype),Object(re.a)(T.prototype,"setRewardsContractSettings",[C],Object.getOwnPropertyDescriptor(T.prototype,"setRewardsContractSettings"),T.prototype),Object(re.a)(T.prototype,"setGuardianRewardsSettings",[S],Object.getOwnPropertyDescriptor(T.prototype,"setGuardianRewardsSettings"),T.prototype),Object(re.a)(T.prototype,"setDelegatorsCutPercentage",[k],Object.getOwnPropertyDescriptor(T.prototype,"setDelegatorsCutPercentage"),T.prototype),Object(re.a)(T.prototype,"setDetailsPageURL",[D],Object.getOwnPropertyDescriptor(T.prototype,"setDetailsPageURL"),T.prototype),Object(re.a)(T.prototype,"setGuardianId",[R],Object.getOwnPropertyDescriptor(T.prototype,"setGuardianId"),T.prototype),Object(re.a)(T.prototype,"setEthereumBalance",[P],Object.getOwnPropertyDescriptor(T.prototype,"setEthereumBalance"),T.prototype),T);r(649);var le=r(107),de=r.n(le),be=(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_ETHEREUM_NETWORK,Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_INFURA_KEY),pe={urlBase:Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).PUBLIC_BASE_PATH||"",v2contractsAddressesOverride:{},ETHEREUM_PROVIDER_WS:"wss://mainnet.infura.io/ws/v3/".concat(be),privacyPolicyUrl:"https://www.orbs.com/guardian-portal-privacy-policy/",termsOfUseUrl:"https://www.orbs.com/guardian-portal-terms-of-use/"};var he=r(146),je=r(713),fe=r(327),ge=r.n(fe),Oe=r(209),me=r.n(Oe),xe="#dbdbdb",ve=ge()(me()({palette:{primary:{main:"#09142c"},secondary:{main:"#74f6fd"},text:{primary:xe,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)"},background:{default:"#16317d",paper:"#09142c"},action:{active:xe,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",hover:"rgba(255, 255, 255, 0.08)",selected:"rgba(255, 255, 255, 0.16)"},divider:"rgba(255, 255, 255, 0.12)"},typography:{},overrides:{MuiPaper:{root:{}},MuiTypography:{colorPrimary:{}},MuiLink:{root:{}}}})),ye=r(80);Object(X.h)({enforceActions:"observed"});var we=function(e){var t,r,a;return a=e?new de.a(e):new de.a(new de.a.providers.WebsocketProvider(pe.ETHEREUM_PROVIDER_WS)),{cryptoWalletIntegrationService:new oe.CryptoWalletConnectionService(e),guardiansService:new oe.GuardiansService(a,null===pe||void 0===pe||null===(t=pe.v2contractsAddressesOverride)||void 0===t?void 0:t.guardiansRegistration),stakingRewardsService:new oe.StakingRewardsService(a,null===pe||void 0===pe||null===(r=pe.v2contractsAddressesOverride)||void 0===r?void 0:r.stakingRewards)}}(window.ethereum),Ce=function(e,t,r){var a=new ae(e);return{cryptoWalletIntegrationStore:a,orbsAccountStore:new ue(a,t,r,e)}}(we.cryptoWalletIntegrationService,we.guardiansService,we.stakingRewardsService),Se=i.a.memo((function(e){console.log("Wrapper render");var t=e.appComponent;return Object(a.jsx)(K.a,{children:Object(a.jsx)(Y.b,Object(z.a)(Object(z.a)(Object(z.a)({},Ce),we),{},{children:Object(a.jsx)(he.b,{injectFirst:!0,children:Object(a.jsx)(je.a,{theme:ve,children:Object(a.jsx)(ye.a,{maxSnack:3,children:t})})})}))})})),ke=r(721),De=r(27),Re=r(214),Pe=r(712),Te=r(714),Ae=r(733),Ie=r(154),Ge=r(43),Ue=r(5),Ee=Object(Pe.a)((function(e){return{link:{transition:"0.5s",color:e.palette.secondary.light,"&:hover":{color:e.palette.secondary.dark}},linkFaded:{color:e.palette.text.disabled}}})),We=i.a.memo((function(e){var t=Ee(),r=e.text,n=e.href,i=e.shouldfade,o=Object(Ge.a)(e,["text","href","shouldfade"]);return Object(a.jsx)("a",Object(z.a)(Object(z.a)({className:Object(Ue.a)(t.link,i?t.linkFaded:null),href:n||"",target:"_blank",rel:"noopener noreferrer"},o),{},{children:r}))})),Le=i.a.memo((function(e){var t=e.value,r=e.onValueChange,n=Object(Ie.renderToString)(Object(a.jsx)(je.a,{theme:ve,children:Object(a.jsxs)(Re.a,{style:{textAlign:"start"},children:["I agree to the"," ",Object(a.jsx)(We,{href:pe.termsOfUseUrl,text:"Terms of Use"})," and"," ",Object(a.jsx)(We,{href:pe.privacyPolicyUrl,text:"Privacy Policy"})]})}));return Object(a.jsx)(Te.a,{style:{marginTop:"0.5rem"},control:Object(a.jsx)(Ae.a,{checked:t,onChange:function(e){return r(e.target.checked)},name:"legalTicker"}),label:Object(a.jsx)(Re.a,{dangerouslySetInnerHTML:{__html:n}})})})),Fe=r(109),Ne=r.n(Fe),Me=Object(Pe.a)((function(e){return{boldText:{fontWeight:"bold",display:"contents",color:e.palette.secondary.main}}})),He=i.a.memo((function(e){var t=e.children,r=Me();return Object(a.jsx)("div",{className:r.boldText,children:t})})),_e=Ne()((function(e){return{container:{display:"flex",flexDirection:"column",alignItems:"flex-start",textAlign:"start",padding:"0.5em"},textsList:{listStylePosition:"outside",paddingLeft:"1.5rem","& li":{margin:"0 0 0.2rem 0"},"& li:last-child":{margin:0}}}})),qe=i.a.memo((function(e){var t=_e(),r=e.conceptName,n=e.details,i=e.caption,o=Object(Ge.a)(e,["conceptName","details","caption"]);return Object(a.jsxs)("div",Object(z.a)(Object(z.a)({className:t.container},o),{},{children:[Object(a.jsxs)(Re.a,{children:["Your ",Object(a.jsxs)(He,{children:[r,":"]})]}),Object(a.jsx)("ul",{className:t.textsList,children:n.map((function(e){return Object(a.jsx)("li",{children:Object(a.jsx)(Re.a,{variant:i?"caption":"body2",children:e})},e.toString())}))})]}))})),Be=["Represents the Guardian in the Guardians list","Used by Delegators to delegate to the Guardian","Holds the Guardian's self-delegated stake","Receives the Guardians rewards"],Ve=[Object(a.jsxs)(a.Fragment,{children:["Should be different from the ",Object(a.jsx)(He,{children:"Guardian address"})]}),"Used by the node to sign blocks on Orbs blockchain","Holds ETH for node automated transactions gas","A minimal balance of 1 ETH is required upon registration","Does NOT hold your Guardian ORBS tokens"],ze=i.a.memo((function(e){var t=e.value,r=e.onValueChange,n=Object(Ie.renderToString)(Object(a.jsx)(je.a,{theme:ve,children:Object(a.jsx)(Re.a,{children:"I confirm that I am not a citizen, resident of or otherwise located in any of the following:"})}));return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(Te.a,{style:{marginTop:"0.5rem"},control:Object(a.jsx)(Ae.a,{checked:t,onChange:function(e){return r(e.target.checked)},name:"legalTicker"}),label:Object(a.jsx)(Re.a,{style:{textAlign:"start"},dangerouslySetInnerHTML:{__html:n}})}),Object(a.jsxs)("ul",{children:[Object(a.jsx)("li",{children:Object(a.jsx)(Re.a,{style:{textAlign:"start"},children:"The State of Israel."})}),Object(a.jsx)("li",{children:Object(a.jsx)(Re.a,{style:{textAlign:"start"},children:"Any country or region subject to comprehensive sanctions, including, but not limited to, the Crimean region of Ukraine, Cuba, Iran, Lebanon, North Korea, Sudan and Syria."})})]})]})})),Ke=r(716),Ye=Ne()((function(e){return{actionButton:{color:e.palette.secondary.light,borderColor:e.palette.secondary.main,transition:"background-color 0.4s linear, color 0.2s linear","&:hover":{backgroundColor:e.palette.secondary.light,color:e.palette.getContrastText(e.palette.secondary.light),borderColor:e.palette.getContrastText(e.palette.secondary.light)}},actionButtonError:{color:e.palette.error.light,borderColor:e.palette.error.main,transition:"background-color 0.4s linear, color 0.2s linear","&:hover":{backgroundColor:e.palette.error.light,color:e.palette.getContrastText(e.palette.error.light),borderColor:e.palette.getContrastText(e.palette.error.light)}}}})),Xe=i.a.memo((function(e){var t=e.children,r=e.fullWidth,n=e.errorVariant,i=Object(Ge.a)(e,["children","fullWidth","errorVariant"]),o=Ye();return Object(a.jsx)(Ke.a,Object(z.a)(Object(z.a)({className:n?o.actionButtonError:o.actionButton,variant:"outlined",fullWidth:void 0===r||r,type:"submit"},i),{},{children:t}))})),$e=Object(Pe.a)((function(e){return{noEthereumProviderSection:{display:"flex",flexDirection:"column",alignItems:"center",textAlign:"center",padding:"2em",backgroundColor:"rgba(0,0,0, 0.2)",borderRadius:"5%",width:"fit-content",maxWidth:"90%",boxSizing:"border-box"}}})),Je=i.a.memo((function(e){var t=$e(),r=e.walletConnectionPhase,i=e.actionFunction,o=(e.pressedOnInstall,e.isMetaMaskProvider),s=Object(n.useState)(!1),c=Object(De.a)(s,2),u=c[0],l=c[1],d=Object(n.useState)(!1),b=Object(De.a)(d,2),p=b[0],h=b[1],j="connect"===r,f=u&&p,g=Object(n.useMemo)((function(){return{shouldDisplayLegalTicker:j,hasExtraDetailsSection:j,buttonIsEnabled:!j||f,isInstall:"install"===r}}),[j,f,r]),O=g.shouldDisplayLegalTicker,m=g.isInstall,x=g.buttonIsEnabled,v=g.hasExtraDetailsSection,y=Object(n.useMemo)((function(){return{titleText:m?"No Ethereum provider detected":"".concat(o?"MetaMask":"Account"," connection required"),subTitleText:m?"you should install MetaMask and refresh the page":Object(a.jsxs)(a.Fragment,{children:["To begin, please connect with your"," ",Object(a.jsx)(He,{children:"Guardian address."})]}),buttonText:"install"===r?"Install":"Connect"}}),[m,o,r]),w=y.titleText,C=y.buttonText,S=y.subTitleText;return Object(a.jsxs)("div",{className:t.noEthereumProviderSection,children:[Object(a.jsx)(Re.a,{style:{marginBottom:"0.5rem"},variant:"h4",children:w}),Object(a.jsx)(Re.a,{style:{marginBottom:"1rem"},children:S}),v&&Object(a.jsx)(qe,{conceptName:"Guardian Address",details:Be}),Object(a.jsx)(Xe,{fullWidth:!1,onClick:i,disabled:!x,children:C}),Object(a.jsxs)("div",{style:{width:"min(30rem, 100%)",display:"flex",flexDirection:"column",alignItems:"flex-start"},children:[O&&Object(a.jsx)(Le,{value:u,onValueChange:l}),O&&Object(a.jsx)(ze,{value:p,onValueChange:h})]})]})})),Qe=r(734),Ze=r(717),et=r(718),tt=r(157),rt=r.n(tt),at=Object(Pe.a)((function(e){return{centeredContainer:{display:"flex",flexDirection:"column",alignItems:"center",height:"100%"}}})),nt=i.a.memo((function(e){var t=at(),r=rt()(),n=Object(Ze.a)(r.breakpoints.down("sm"));return Object(a.jsx)(et.a,Object(z.a)({className:t.centeredContainer,component:"div",disableGutters:n},e))})),it=r(719),ot=r(720),st=Object(Pe.a)((function(e){return{appBar:{height:"".concat(5,"rem"),paddingTop:"0.5rem",paddingBottom:"0.5rem",boxSizing:"border-box"},title:{flexGrow:1,textAlign:"center",marginTop:"1em",marginBottom:"1em"}}})),ct=i.a.memo((function(e){var t=st();return Object(a.jsx)(it.a,{className:t.appBar,position:"fixed",children:Object(a.jsx)(ot.a,{children:Object(a.jsx)("div",{className:t.title,children:Object(a.jsx)(Re.a,{variant:"h5",children:"ORBS Guardians Portal"})})})})})),ut=Object(Pe.a)((function(e){return{page:{display:"flex",flexDirection:"column",alignItems:"center",width:"100%",maxWidth:"100%",boxSizing:"border-box",padding:"2em",height:"100%"},backdrop:{zIndex:e.zIndex.drawer+1,color:"#fff"}}})),lt=i.a.memo((function(e){var t=e.children,r=Object(Ge.a)(e,["children"]),n=ut();return Object(a.jsxs)("div",Object(z.a)(Object(z.a)({className:n.page},r),{},{children:[Object(a.jsx)(ot.a,{}),t]}))})),dt=Object(Pe.a)((function(e){return{app:{minHeight:"100%",flex:1,backgroundColor:"#06142e",backgroundRepeat:"repeat-y",backgroundImage:"url(https://www.orbs.com/wp-content/uploads/2019/02/technology-background1.png)",backgroundAttachment:"scroll",backgroundPosition:"top center"}}})),bt=i.a.memo((function(e){var t=dt(),r=Object(Qe.a)(!1),i=Object(n.useCallback)((function(){window.open("https://metamask.io/","_blank"),r.setTrue()}),[r]);return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(ct,{}),Object(a.jsxs)("main",{className:t.app,children:[Object(a.jsx)(nt,{id:"appContainer",children:Object(a.jsx)(lt,{children:Object(a.jsx)(Je,{walletConnectionPhase:"install",actionFunction:i})})}),Object(a.jsx)(ke.a,{})]})]})})),pt=r(32);function ht(){return i.a.useContext(Y.a)}function jt(){return ht().cryptoWalletIntegrationStore}function ft(){return ht().orbsAccountStore}var gt=Object(Pe.a)((function(e){return{contentFitter:{height:"100%",width:"fit-content",maxWidth:"100%"}}})),Ot=i.a.memo((function(e){var t=gt(),r=e.children,n=Object(Ge.a)(e,["children"]);return Object(a.jsx)("div",Object(z.a)(Object(z.a)({className:t.contentFitter},n),{},{children:r}))})),mt=i.a.memo((function(e){return Object(a.jsx)(lt,{children:Object(a.jsx)(Ot,{children:Object(a.jsx)(Re.a,{children:"Error loading"})})})})),xt=i.a.memo((function(e){return Object(a.jsx)(lt,{children:Object(a.jsx)(Ot,{children:Object(a.jsx)(Re.a,{children:"Loading..."})})})})),vt=r(684),yt=r(723),wt=r(722),Ct=r(50),St=r(731),kt=r(81),Dt=Object(Pe.a)((function(e){return{helperText:{color:e.palette.secondary.main},textsList:{listStylePosition:"outside",paddingLeft:"1rem"}}})),Rt=i.a.memo((function(e){var t=Dt(),r=e.helperTexts;e.header,r.length;return Object(a.jsx)(a.Fragment,{children:Object(a.jsx)("ul",{className:t.textsList,children:r.map((function(e,r){return Object(a.jsx)(i.a.Fragment,{children:Object(a.jsx)("li",{id:r.toString(),className:t.helperText,children:Object(a.jsx)(Re.a,{style:{wordWrap:"break-word"},variant:"caption",children:e})},e.toString())},"fragment_".concat(e))}))})})}));function Pt(e){return!!new RegExp("^(https?:\\/\\/)?((([a-z\\d]([a-z\\d-]*[a-z\\d])*)\\.)+[a-z]{2,}|((\\d{1,3}\\.){3}\\d{1,3}))(\\:\\d+)?(\\/[-a-z\\d%_.~+]*)*(\\?[;&a-z\\d%_.~+=-]*)?(\\#[-a-z\\d_]*)?$","i").test(e)}var Tt=/^0x[a-fA-F0-9]{40}$/,At=/^(([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])\.){3}([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])$/,It=["The name that the Guardian will be recognized by."],Gt=["The Guardian website is used by Delegators when selecting a Guardian."],Ut=["A valid IPv4 address is required to allow the Guardian\u2019s node to connect to the network gossip topology."],Et=[Object(a.jsxs)(a.Fragment,{children:["Should be different from the"," ",Object(a.jsx)("div",{style:{display:"contents",fontWeight:"bold"},children:"Guardian address"}),"."]}),"Used by the Orbs node to automatically send transactions such as ReadyForCommittee.","Used to sign blocks on Orbs platform.","Should hold ETH for the automated transactions gas (A minimal balance of 1 Ether at the 'Node Address' is required in order to register as a guardian).","The Orbs Node address should differ from the Guardian address."],Wt=Object(Pe.a)((function(e){return{form:{maxWidth:"100%",width:"100%"},textField:{"& label.Mui-focused":{color:"#f5f5f5"}}}})),Lt=i.a.memo((function(e){var t=Wt(),r=e.guardianInitialInfo,i=e.submitInfo,o=e.actionButtonTitle,s=e.disableSubmit,c=e.messageForSubmitButton,u=Object(Ge.a)(e,["guardianInitialInfo","submitInfo","actionButtonTitle","disableSubmit","messageForSubmitButton"]),l=Object(kt.a)(),d=l.register,b=l.handleSubmit,p=l.errors,h=Object(wt.a)(r.name),j=Object(wt.a)(r.website),f=Object(wt.a)(r.ip),g=Object(wt.a)(r.orbsAddr),O=!!p.nodeAddress,m=!!p.ipAddress,x=!!p.website,v=h.setValue,y=j.setValue,w=f.setValue,C=g.setValue;Object(n.useEffect)((function(){r&&(console.log("Re-setting data"),v(r.name),y(r.website),w(r.ip),C(r.orbsAddr))}),[r,w,v,C,y]);var S=Object(Ct.a)(),k=Object(Ze.a)(S.breakpoints.down("xs"));console.log(k);Object(n.useCallback)((function(e,t,r){var n;return r&&(n=Object(a.jsx)(Rt,{helperTexts:r})),e&&t&&(n=t),n}),[]);var D=Object(n.useCallback)((function(e){var t={ip:e.ipAddress,orbsAddr:e.nodeAddress,name:e.name,website:e.website};i(t)}),[i]);return Object(a.jsxs)("form",Object(z.a)(Object(z.a)({onSubmit:b((function(e){return D(e)})),className:t.form},u),{},{children:[Object(a.jsx)(St.a,{InputLabelProps:{style:{pointerEvents:"auto"}},name:"name",label:"Guardian name",placeholder:"e.g: Number One ORBS Guardian",title:It[0],value:h.value,onChange:function(e){return h.setValue(e.target.value)},required:!0,inputRef:d,fullWidth:!0,className:t.textField,autoFocus:!0}),Object(a.jsx)("br",{}),Object(a.jsx)(St.a,{fullWidth:!0,name:"website",label:"Guardian website",placeholder:"e.g: https://www.number1guardian.com",title:Gt[0],helperText:x&&"Please use a valid URL",value:j.value,onChange:function(e){return j.setValue(e.target.value)},required:!0,error:x,inputRef:d({validate:Pt}),className:t.textField}),Object(a.jsx)("br",{}),Object(a.jsx)(St.a,{fullWidth:!0,name:"ipAddress",label:"Node IP",placeholder:"e.g: 123.17.46.251",title:Ut[0],value:f.value,onChange:function(e){return f.setValue(e.target.value)},required:!0,inputRef:d({pattern:At}),error:m,helperText:m&&"Please use a valid IPV4 address",className:t.textField}),Object(a.jsx)("br",{}),Object(a.jsx)(St.a,{name:"nodeAddress",label:"Node address",placeholder:"e.g: 0x0cBb46287c93357be4CF60fe9601c2c7A2700dC2",title:Et[1],value:g.value,onChange:function(e){return g.setValue(e.target.value)},error:O,helperText:O&&"Please use a valid address",required:!0,inputRef:d({pattern:Tt}),fullWidth:!0,className:t.textField}),Object(a.jsx)("br",{}),Object(a.jsx)("br",{}),Object(a.jsx)(Xe,{type:"submit",disabled:s,children:o}),Object(a.jsx)("br",{}),Object(a.jsx)("br",{}),c&&Object(a.jsx)(Re.a,{variant:"body2",color:"error",style:{width:"fit-content"},children:c})]}))})),Ft=r(736),Nt=r(331),Mt=r.n(Nt),Ht=Object(Pe.a)((function(e){return{container:{padding:"0.5rem 0",display:"flex",flexDirection:"column",flexWrap:"wrap",justifyItems:"center",justifyContent:"center"}}})),_t=i.a.memo((function(e){var t=Ht(),r=e.children;return Object(a.jsx)("div",{className:t.container,children:r})})),qt=i.a.memo((function(e){return Object(a.jsxs)(_t,{children:[Object(a.jsx)(He,{children:"Please Notice:"}),Object(a.jsx)(qe,{conceptName:"Guardian Address",details:Be}),Object(a.jsx)(qe,{conceptName:"Node Address",details:Ve})]})})),Bt=Object(Pe.a)((function(e){return{avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main,marginLeft:"auto",marginRight:"auto"},boldText:{fontWeight:"bold",display:"contents"}}})),Vt={orbsAddr:"",ip:"",website:"",name:""},zt=i.a.memo((function(e){var t=Bt(),r=e.guardianAddress,i=e.registerGuardian,o=e.cryptoWalletConnectionService,s=Object(n.useState)(void 0),c=Object(De.a)(s,2),u=c[0],l=c[1],d=Object(n.useCallback)(function(){var e=Object(Q.a)(J.a.mark((function e(t){return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.orbsAddr.toLowerCase()!==r.toLowerCase()){e.next=3;break}return l("Your Orbs node address cannot be the same as your Guardian address ".concat(r)),e.abrupt("return");case 3:return e.next=5,o.readEthereumBalance(t.orbsAddr);case 5:if(!(e.sent<1)){e.next=9;break}return l("A minimal balance of 1 Ether at the 'Node Address' is required in order to register as a guardian."),e.abrupt("return");case 9:i(t);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[o,r,i]);return Object(a.jsxs)("div",{id:"RegisterGuardianSection",style:{display:"flex",flexDirection:"column",alignItems:"center",width:"min-content",maxWidth:"100%"},children:[Object(a.jsx)(Ft.a,{className:t.avatar,children:Object(a.jsx)(Mt.a,{})}),Object(a.jsxs)("div",{style:{maxWidth:"100%",textAlign:"center"},children:[Object(a.jsx)(Re.a,{variant:"h5",children:"Guardian Registration"}),Object(a.jsxs)(Re.a,{variant:"h6",children:["Your ",Object(a.jsx)("div",{className:t.boldText,children:"Guardian address "}),"is:"]}),Object(a.jsx)(Re.a,{style:{textOverflow:"ellipsis",overflow:"hidden"},children:r})]}),Object(a.jsx)(qt,{}),Object(a.jsx)(Lt,{submitInfo:d,guardianInitialInfo:Vt,actionButtonTitle:"Register",messageForSubmitButton:u})]})}));function Kt(){var e=i.a.useContext(Y.a);if(!e)throw new Error("Tried to use services before initialising them");return e}function Yt(){return Kt().cryptoWalletIntegrationService}var Xt=Object(Pe.a)((function(e){return{backdrop:{zIndex:e.zIndex.drawer+1,color:"#fff"}}})),$t=i.a.memo((function(e){var t=Xt(),r=Object(ye.b)().enqueueSnackbar,i=Yt(),o=jt(),s=ft(),c=Object(n.useCallback)(function(){var e=Object(Q.a)(J.a.mark((function e(t){return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,s.registerGuardian(t);case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),r("Error in 'Guardian Registration' TX ".concat(e.t0.message),{variant:"error"});case 8:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(t){return e.apply(this,arguments)}}(),[r,s]);return Object(a.jsx)(lt,{children:Object(a.jsxs)(Ot,{children:[Object(a.jsx)("div",{style:{display:"flex",maxWidth:"100%"},children:Object(a.jsx)(zt,{registerGuardian:c,guardianAddress:o.mainAddress,cryptoWalletConnectionService:i})}),Object(a.jsx)(vt.a,{className:t.backdrop,open:s.txPending,children:Object(a.jsx)(yt.a,{color:"inherit"})})]})})})),Jt=r(732),Qt=r(729),Zt=r(737),er=(r(332),Object(Pe.a)((function(e){return{textField:{"& label.Mui-focused":{color:"#f5f5f5"}}}}))),tr=i.a.memo((function(e){var t=er(),r=e.currentGuardianDetailsUrl,i=e.updateGuardianDetailsUrl,o=e.hasGuardianDetailsUrl,s=e.detailsRequirementsLink,c=Object(a.jsxs)(Re.a,{component:"span",variant:"caption",children:["Setting a URL to your details page is a prerequisite for joining the"," ",Object(a.jsx)(We,{text:"certified committee",href:s})]}),u=(Object(Qe.a)(!1),Object(kt.a)()),l=u.register,d=u.handleSubmit,b=!!u.errors.guardianDetailsUrl,p=Object(wt.a)(""),h=Object(n.useCallback)((function(e){i(e.guardianDetailsUrl)}),[i]),j=p.setValue;Object(n.useEffect)((function(){j(r||"")}),[j,r]);Object(n.useMemo)((function(){return o?Object(a.jsxs)(Re.a,{component:"span",children:["Your details page :"," ",Object(a.jsx)(We,{href:(null===r||void 0===r?void 0:r.startsWith("http"))?r:"http://"+r,text:r})]}):"You have not set your details page URL"}),[r,o]);return Object(a.jsxs)("form",{style:{maxWidth:"100%",width:"100%",display:"relative"},onSubmit:d(h),children:[Object(a.jsx)(St.a,{fullWidth:!0,name:"guardianDetailsUrl",title:"Certified Committee URL",label:"Certified Committee URL",value:p.value,onChange:function(e){p.setValue(e.target.value||"")},required:!0,inputRef:l({validate:Pt}),error:b,helperText:b?"Please use a valid URL":c,className:t.textField,autoFocus:!0}),Object(a.jsx)("br",{}),Object(a.jsx)("br",{}),Object(a.jsx)(Xe,{type:"submit",children:"Update your Certified Committee URL"})]})})),rr=(Object(Pe.a)((function(e){return{avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main,marginLeft:"auto",marginRight:"auto"}}})),"https://github.com/orbs-network/validator-instructions/blob/master/public/certified_committee.md"),ar=r(335),nr=Object(Pe.a)((function(e){return{title:{transition:"0.5s",fontWeight:"bold"},titleHighlight:{color:e.palette.secondary.light},titleFade:{color:e.palette.text.disabled},value:{transition:"0.5s"},valueHighlight:{color:e.palette.secondary.main},valueFade:{color:e.palette.text.disabled}}})),ir=i.a.memo((function(e){nr();var t=e.guardianAddress,r=e.guardianInfo,i=e.delegatorsShare,o=e.guardianCertificationUrl,s=e.highlightInfo,c=e.highlightDelegatorsShare,u=e.highlightCertificateUrl,l=Object(Ge.a)(e,["guardianAddress","guardianInfo","delegatorsShare","guardianCertificationUrl","highlightInfo","highlightDelegatorsShare","highlightCertificateUrl"]),d=s||c||u,b=i.isUsingDefaultValue?" (using default value)":null,p=Object(n.useMemo)((function(){var e;return o.hasGuardianDetailsUrl?Object(a.jsx)(Re.a,{component:"span",children:Object(a.jsx)(We,{href:(null===(e=o.currentGuardianDetailsUrl)||void 0===e?void 0:e.startsWith("http"))?o.currentGuardianDetailsUrl:"http://"+o.currentGuardianDetailsUrl,text:o.currentGuardianDetailsUrl,shouldfade:!u&&d})}):"You have not set your details page URL"}),[o.currentGuardianDetailsUrl,o.hasGuardianDetailsUrl,u,d]);return Object(a.jsxs)(ar.a,Object(z.a)(Object(z.a)({elevation:3},l),{},{style:{padding:"1.5rem",maxWidth:"100%",width:"30rem",overflow:"hidden"},children:[Object(a.jsx)(or,{title:"Guardian address : ",value:t,shouldfade:d}),Object(a.jsx)("br",{}),Object(a.jsx)(or,{title:"Guardian name : ",value:r.name,shouldHighlight:s,shouldfade:!s&&d}),Object(a.jsx)("br",{}),Object(a.jsx)(or,{title:"Guardian website : ",value:Object(a.jsx)(We,{text:r.website,href:r.website,shouldfade:!s&&d}),shouldHighlight:s,shouldfade:!s&&d}),Object(a.jsx)("br",{}),Object(a.jsx)(or,{title:"Node IP : ",value:r.ip,shouldHighlight:s,shouldfade:!s&&d}),Object(a.jsx)("br",{}),Object(a.jsx)(or,{title:"Node address : ",value:r.orbsAddr,shouldHighlight:s,shouldfade:!s&&d}),Object(a.jsx)("br",{}),Object(a.jsx)(or,{title:"Delegators share".concat(b," : "),value:"".concat(i.isUsingDefaultValue?i.defaultValue:i.value," %"),shouldHighlight:c,shouldfade:!c&&d}),Object(a.jsx)("br",{}),Object(a.jsx)(or,{title:Object(a.jsxs)(a.Fragment,{children:["Guardian details URL (",Object(a.jsx)(We,{text:"Certified Committee",href:rr,shouldfade:!u&&d}),") :"]}),value:p,shouldHighlight:u,shouldfade:!u&&d})]}))})),or=i.a.memo((function(e){var t=e.title,r=e.value,n=e.shouldHighlight,i=e.shouldfade,o=nr();return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(Re.a,{className:Object(Ue.a)(o.title,n?o.titleHighlight:null,i?o.titleFade:null),children:t}),Object(a.jsx)(Re.a,{className:Object(Ue.a)(o.value,n?o.valueHighlight:null,i?o.valueFade:null),children:r})]})})),sr=Object(Pe.a)((function(e){return{textField:{"& label.Mui-focused":{color:"#f5f5f5"}},openUnregisterMenuButton:{color:e.palette.warning.main,borderColor:e.palette.warning.main},closeUnregisterMenuButton:{color:e.palette.secondary.main,borderColor:e.palette.secondary.main},unregisterButton:{color:e.palette.error.main,borderColor:e.palette.error.main}}})),cr=i.a.memo((function(e){sr();var t=e.unregisterGuardian,r=(Object(Qe.a)(!1),Object(kt.a)()),i=(r.register,r.handleSubmit),o=(r.errors,Object(n.useCallback)((function(e){t()}),[t]));return Object(a.jsx)("form",{style:{maxWidth:"100%",width:"100%"},onSubmit:i(o),children:Object(a.jsx)(Xe,{type:"submit",errorVariant:!0,children:"Unregister"})})})),ur=r(724),lr=r(725),dr=r(726),br=r(727),pr=r(728),hr=Ne()((function(e){return{dialogPaper:{"& .MuiDialog-paper":{border:"4px double ".concat(e.palette.secondary.main),boxShadow:"none",minWidth:"20rem",maxWidth:"100%"}},button:{minWidth:"6rem"}}})),jr=i.a.memo((function(e){var t=hr(),r=e.open,n=e.onAccept,i=e.onCancel,o=e.title,s=e.contentText,c=e.instructionText,u=e.acceptText,l=e.cancelText;Object(Ct.a)();return Object(a.jsxs)(ur.a,{className:t.dialogPaper,fullScreen:!1,open:r,onClose:i,"aria-labelledby":"action-confirmation-dialog",maxWidth:"xs",style:{},children:[Object(a.jsx)(lr.a,{id:"action-confirmation-dialog-title",children:o}),s&&Object(a.jsx)(dr.a,{children:Object(a.jsx)(br.a,{children:Object(a.jsx)(Re.a,{children:s})})}),Object(a.jsx)(dr.a,{children:Object(a.jsx)(br.a,{children:Object(a.jsx)(Re.a,{variant:"body2",children:c})})}),Object(a.jsxs)(pr.a,{children:[Object(a.jsx)(Ke.a,{className:t.button,autoFocus:!0,onClick:i,color:"secondary",variant:"contained",children:l||"Cancel"}),Object(a.jsx)(Ke.a,{className:t.button,onClick:n,color:"secondary",autoFocus:!0,variant:"contained",children:u||"Accept"})]})]})})),fr=r(735),gr=Object(Pe.a)((function(e){return{textField:{"& label.Mui-focused":{color:"#f5f5f5"}}}})),Or=i.a.memo((function(e){var t=gr(),r=e.currentDelegatorsCut,i=e.updateDelegatorsCut,o=e.isUsingDefaultValue,s=e.delegatorsCutDefaultValue,c=e.delegatorsCutMaxValue,u="Valid values are between 0 and ".concat(c),l=(Object(Qe.a)(!1),Object(kt.a)()),d=l.register,b=l.handleSubmit,p=l.errors,h=Object(fr.a)(Math.min(r||0,66),{upperLimit:c}),j=!!p.delegatorsCut,f=Object(n.useCallback)((function(e){i(parseFloat(e.delegatorsCut))}),[i]),g=h.setValue;Object(n.useEffect)((function(){g(Math.min(r||0,c))}),[r,c,g]),console.log({currentDelegatorsCut:r});Object(n.useMemo)((function(){return o?"Current share : Default value (".concat(s,"%)"):"Current share : ".concat(r,"%")}),[r,s,o]);return Object(a.jsxs)("form",{style:{maxWidth:"100%",width:"100%",display:"relative"},onSubmit:b(f),children:[Object(a.jsx)(St.a,{fullWidth:!0,name:"delegatorsCut",title:"Delegators share (% out of staking rewards)",label:"Delegators share (% out of staking rewards)",value:h.value,inputProps:{step:1},onChange:function(e){h.setValue(parseFloat(e.target.value)||0)},required:!0,type:"number",inputRef:d({max:c}),error:j,helperText:j?u:"The percentage of the staking rewards that is distributed to your Delegators, between 0% and ".concat(c,"%"),InputProps:{startAdornment:"%"},className:t.textField,autoFocus:!0}),Object(a.jsx)("br",{}),Object(a.jsx)("br",{}),Object(a.jsx)(Xe,{type:"submit",fullWidth:!0,children:"Update Delegators share"})]})})),mr=Object(Pe.a)((function(e){return{formWrapper:{padding:"1.5rem",maxWidth:"100%",overflow:"hidden",width:"30rem",transition:"0.7s",border:"2px dashed rgba(0,0,0,0)","&:focus-within, &:hover":{border:"2px dashed ".concat(e.palette.secondary.dark)}}}})),xr=i.a.memo((function(e){var t=mr(),r=e.children;return Object(a.jsx)(ar.a,{elevation:3,className:t.formWrapper,children:r})})),vr=Object(Pe.a)((function(e){return{backdrop:{zIndex:e.zIndex.drawer+1,color:"#fff"},tab:{transition:"0.5s",color:e.palette.secondary.dark,opacity:.5,"&:hover":{},"&.MuiTab-textColorPrimary.Mui-selected":{fontWeight:"bold",color:e.palette.secondary.main,opacity:1}},tabPanel:{maxWidth:"100%",overflow:"hidden"}}})),yr="info",wr="editInfo",Cr="delegatorsShare",Sr="certificate",kr="unregister",Dr=Object(Y.c)((function(e){var t=vr(),r=rt()(),o=Object(ye.b)().enqueueSnackbar,s=jt(),c=ft(),u=Object(n.useState)(!1),l=Object(De.a)(u,2),d=l[0],b=l[1],p=Object(n.useState)((function(){return function(){return console.log("Accepted")}})),h=Object(De.a)(p,2),j=h[0],f=h[1],g=Object(n.useState)({title:"",content:"",instruction:""}),O=Object(De.a)(g,2),m=O[0],x=O[1],v=Object(n.useCallback)(function(){var e=Object(Q.a)(J.a.mark((function e(t){return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:x({title:"Update your Details",instruction:"Please press 'Accept' and confirm the transaction",onCancelMessage:"Action canceled"}),b(!0),f((function(){return Object(Q.a)(J.a.mark((function e(){return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,c.updateGuardianInfo(t);case 3:e.sent&&o("Guardian details successfully updated",{variant:"success"}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),o("Error in 'Guardian Details Update' TX ".concat(e.t0.message),{variant:"error"});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[o,c]),y=Object(n.useCallback)(function(){var e=Object(Q.a)(J.a.mark((function e(t){return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:x({title:"Update Delegators share",content:"Your Delegator's share will change to to ".concat(t.toLocaleString(),"%"),instruction:"Please press 'Accept' and confirm the transaction",onCancelMessage:"Action canceled"}),b(!0),f((function(){return Object(Q.a)(J.a.mark((function e(){return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,c.writeGuardianDelegatorsCutPercentage(t);case 3:e.sent&&o("Delegators share successfully updated",{variant:"success"}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),o("Error in 'Delegators share percentage Update' TX ".concat(e.t0.message),{variant:"error"});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[o,c]),w=Object(n.useCallback)(function(){var e=Object(Q.a)(J.a.mark((function e(t){return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:x({title:"Update details page URL",content:"Your details page URL will change to ".concat(t),instruction:"Please press 'Accept' and confirm the transaction",onCancelMessage:"Action canceled"}),b(!0),f((function(){return Object(Q.a)(J.a.mark((function e(){return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,c.writeGuardianDetailsPageURL(t);case 3:e.sent&&o("Guardian details page URL updated",{variant:"success"}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),o("Error in 'Guardian details page URL Update' TX ".concat(e.t0.message),{variant:"error"});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[o,c]),C=Object(n.useCallback)(Object(Q.a)(J.a.mark((function e(){return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:x({title:"You are about to unregister from the Orbs Guardian role",content:"You and your Delegators will no longer be eligible for rewards",instruction:"Are you sure ?",acceptText:"yes",onCancelMessage:"Action canceled"}),b(!0),f((function(){return Object(Q.a)(J.a.mark((function e(){return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,c.unregisterGuardian();case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),o("Error in 'Unregister guardian' TX ".concat(e.t0.message),{variant:"error"});case 8:case"end":return e.stop()}}),e,null,[[0,5]])})))}));case 3:case"end":return e.stop()}}),e)}))),[o,c]),S=i.a.useState(yr),k=Object(De.a)(S,2),D=k[0],R=k[1],P=Object(a.jsx)(ir,{guardianAddress:s.mainAddress,guardianInfo:c.guardianInfo,delegatorsShare:{defaultValue:c.rewardsContractSettings.defaultDelegatorsStakingRewardsPercent,isUsingDefaultValue:c.isUsingDefaultDelegatorsCutPercentage,maxValue:c.rewardsContractSettings.maxDelegatorsStakingRewardsPercent,value:c.delegatorsCutPercentage},guardianCertificationUrl:{currentGuardianDetailsUrl:c.detailsPageUrl||"",hasGuardianDetailsUrl:c.hasGuardianDetailsURL},highlightInfo:D===wr,highlightDelegatorsShare:D===Cr,highlightCertificateUrl:D===Sr}),T=D!==kr;return Object(a.jsx)(lt,{children:Object(a.jsxs)(Ot,{style:{width:"35rem",display:"flex",flexDirection:"column",alignItems:"center"},children:[Object(a.jsxs)("div",{style:{display:"flex",flexDirection:"column",maxWidth:"100%",width:"min-content",alignItems:"center"},children:[Object(a.jsx)("div",{style:{},children:Object(a.jsxs)(Jt.a,{scrollButtons:"auto",value:D,onChange:function(e,t){return R(t)},variant:"fullWidth",indicatorColor:"secondary",textColor:"primary","aria-label":"icon tabs example",TabIndicatorProps:{color:"secondary"},children:[Object(a.jsx)(Qt.a,{label:"Info","aria-label":"phone",className:t.tab,value:yr}),Object(a.jsx)(Qt.a,{className:t.tab,label:"Edit Info",value:wr,"aria-label":"phone"}),Object(a.jsx)(Qt.a,{className:t.tab,label:"Delegators share",value:Cr,"aria-label":"favorite"}),Object(a.jsx)(Qt.a,{className:t.tab,label:"Guardian details URL",value:Sr,"aria-label":"favorite"}),Object(a.jsx)(Qt.a,{className:t.tab,label:"Unregister",value:kr,"aria-label":"person"})]})}),T&&P,Object(a.jsx)(Rr,{className:t.tabPanel,value:D,index:yr,dir:r.direction}),Object(a.jsx)(Rr,{className:t.tabPanel,value:D,index:wr,dir:r.direction,children:Object(a.jsx)(xr,{children:Object(a.jsx)(Lt,{submitInfo:v,guardianInitialInfo:c.guardianInfo,actionButtonTitle:"Update"})})}),Object(a.jsx)(Rr,{className:t.tabPanel,value:D,index:Cr,dir:r.direction,children:Object(a.jsx)(xr,{children:Object(a.jsx)(Or,{updateDelegatorsCut:y,currentDelegatorsCut:c.delegatorsCutPercentage,isUsingDefaultValue:c.isUsingDefaultDelegatorsCutPercentage,delegatorsCutDefaultValue:c.rewardsContractSettings.defaultDelegatorsStakingRewardsPercent,delegatorsCutMaxValue:c.rewardsContractSettings.maxDelegatorsStakingRewardsPercent})})}),Object(a.jsx)(Rr,{className:t.tabPanel,value:D,index:Sr,dir:r.direction,children:Object(a.jsx)(xr,{children:Object(a.jsx)(tr,{currentGuardianDetailsUrl:c.detailsPageUrl,hasGuardianDetailsUrl:c.hasGuardianDetailsURL,updateGuardianDetailsUrl:w,detailsRequirementsLink:rr})})}),Object(a.jsx)(Rr,{className:t.tabPanel,value:D,index:kr,dir:r.direction,children:Object(a.jsx)(cr,{unregisterGuardian:C})})]}),Object(a.jsx)(jr,{title:m.title,contentText:m.content,instructionText:m.instruction,open:d,acceptText:m.acceptText,cancelText:m.cancelText,onAccept:function(){b(!1),j()},onCancel:function(){b(!1),m.onCancelMessage&&o(m.onCancelMessage,{variant:"info",preventDuplicate:!0})}}),Object(a.jsx)(vt.a,{className:t.backdrop,open:c.txPending,children:Object(a.jsx)(yt.a,{color:"inherit"})})]})})}));function Rr(e){var t=e.children,r=e.value,n=e.index,i=Object(Ge.a)(e,["children","value","index"]);return r===n?Object(a.jsx)(Zt.a,Object(z.a)(Object(z.a)({p:3},i),{},{children:t})):null}var Pr,Tr=Object(Y.c)((function(e){var t=ft();return t.errorLoading?Object(a.jsx)(mt,{}):t.doneLoading?t.isGuardian?Object(a.jsx)(Dr,{}):Object(a.jsx)($t,{}):Object(a.jsx)(xt,{})})),Ar=(r(730),r(710),r(333)),Ir=r.n(Ar),Gr=Object(Pe.a)((function(e){return{footerContainer:{position:"absolute",bottom:0},bottomAppBar:{height:"3em",bottom:0,top:"auto",backgroundColor:Ir()(e.palette.primary.main).fade(.3).toString(),display:"flex",flexDirection:"row",justifyContent:"flex-end",paddingRight:"1em",paddingLeft:"1em"},appVersion:{marginLeft:"auto"}}})),Ur=i.a.memo((function(e){var t=Gr(),r=e.version;return Object(a.jsxs)("div",{className:t.footerContainer,children:[Object(a.jsx)(ot.a,{}),Object(a.jsx)(it.a,{className:t.bottomAppBar,position:"fixed",children:Object(a.jsxs)("div",{style:{width:"100%",display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"center"},children:[Object(a.jsxs)("div",{style:{marginRight:"auto",marginLeft:"auto",position:"absolute"},children:[Object(a.jsx)(We,{text:"Term of use",href:pe.termsOfUseUrl,style:{paddingInlineEnd:"1em",justifySelf:"center"}}),Object(a.jsx)(We,{href:pe.privacyPolicyUrl,text:"Privacy Policy"})]}),Object(a.jsx)("div",{className:t.appVersion,children:Object(a.jsxs)(Re.a,{variant:"caption",children:["version ",r]})})]})})]})})),Er=Object(Pe.a)((function(){return{app:{minHeight:"100%",flex:1,backgroundColor:"#06142e",backgroundRepeat:"repeat-y",backgroundImage:"url(https://www.orbs.com/wp-content/uploads/2019/02/technology-background1.png)",backgroundAttachment:"scroll",backgroundPosition:"top center"}}})),Wr=Object(Y.c)((function(){var e=Er(),t=jt(),r=Yt(),i=ft(),o=Object(ye.b)().enqueueSnackbar,s=t.isConnectedToWallet,c=Object(n.useMemo)((function(){return s?Object(a.jsx)(pt.c,{children:Object(a.jsx)(pt.a,{path:"/",children:Object(a.jsx)(Tr,{})})}):Object(a.jsx)(lt,{children:Object(a.jsx)(Je,{walletConnectionPhase:"connect",actionFunction:function(){return t.askToConnect()},isMetaMaskProvider:r.isMetamaskInstalled})})}),[r.isMetamaskInstalled,t,s]),u=i.txHadError;Object(n.useEffect)((function(){u&&o("Error in Transaction",{variant:"error"})}),[o,u]);var l=i.txCanceled;return Object(n.useEffect)((function(){l&&o("Transaction canceled",{variant:"info"})}),[o,l]),Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(ct,{}),Object(a.jsxs)("main",{className:e.app,children:[Object(a.jsx)(nt,{id:"appContainer",children:c}),Object(a.jsx)(ke.a,{})]}),Object(a.jsx)(Ur,{version:"0.1"})]})}));Pr=!!window.ethereum?Object(a.jsx)(Wr,{}):Object(a.jsx)(bt,{}),s.a.render(Object(a.jsx)(i.a.StrictMode,{children:Object(a.jsx)(Se,{appComponent:Pr})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[680,1,2]]]);
//# sourceMappingURL=main.34f00ae1.chunk.js.map